var F1=Object.defineProperty;var N1=(r,e,t)=>e in r?F1(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Ep=(r,e,t)=>N1(r,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Qm(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var th={exports:{}},So={},nh={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp;function z1(){if(wp)return Re;wp=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),_=Symbol.iterator;function y(k){return k===null||typeof k!="object"?null:(k=_&&k[_]||k["@@iterator"],typeof k=="function"?k:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function x(k,P,ue){this.props=k,this.context=P,this.refs=S,this.updater=ue||w}x.prototype.isReactComponent={},x.prototype.setState=function(k,P){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,P,"setState")},x.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function R(){}R.prototype=x.prototype;function I(k,P,ue){this.props=k,this.context=P,this.refs=S,this.updater=ue||w}var O=I.prototype=new R;O.constructor=I,E(O,x.prototype),O.isPureReactComponent=!0;var T=Array.isArray,M=Object.prototype.hasOwnProperty,U={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function G(k,P,ue){var de,ae={},pe=null,xe=null;if(P!=null)for(de in P.ref!==void 0&&(xe=P.ref),P.key!==void 0&&(pe=""+P.key),P)M.call(P,de)&&!B.hasOwnProperty(de)&&(ae[de]=P[de]);var ve=arguments.length-2;if(ve===1)ae.children=ue;else if(1<ve){for(var Le=Array(ve),Fe=0;Fe<ve;Fe++)Le[Fe]=arguments[Fe+2];ae.children=Le}if(k&&k.defaultProps)for(de in ve=k.defaultProps,ve)ae[de]===void 0&&(ae[de]=ve[de]);return{$$typeof:r,type:k,key:pe,ref:xe,props:ae,_owner:U.current}}function Y(k,P){return{$$typeof:r,type:k.type,key:P,ref:k.ref,props:k.props,_owner:k._owner}}function q(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function le(k){var P={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ue){return P[ue]})}var re=/\/+/g;function se(k,P){return typeof k=="object"&&k!==null&&k.key!=null?le(""+k.key):P.toString(36)}function $(k,P,ue,de,ae){var pe=typeof k;(pe==="undefined"||pe==="boolean")&&(k=null);var xe=!1;if(k===null)xe=!0;else switch(pe){case"string":case"number":xe=!0;break;case"object":switch(k.$$typeof){case r:case e:xe=!0}}if(xe)return xe=k,ae=ae(xe),k=de===""?"."+se(xe,0):de,T(ae)?(ue="",k!=null&&(ue=k.replace(re,"$&/")+"/"),$(ae,P,ue,"",function(Fe){return Fe})):ae!=null&&(q(ae)&&(ae=Y(ae,ue+(!ae.key||xe&&xe.key===ae.key?"":(""+ae.key).replace(re,"$&/")+"/")+k)),P.push(ae)),1;if(xe=0,de=de===""?".":de+":",T(k))for(var ve=0;ve<k.length;ve++){pe=k[ve];var Le=de+se(pe,ve);xe+=$(pe,P,ue,Le,ae)}else if(Le=y(k),typeof Le=="function")for(k=Le.call(k),ve=0;!(pe=k.next()).done;)pe=pe.value,Le=de+se(pe,ve++),xe+=$(pe,P,ue,Le,ae);else if(pe==="object")throw P=String(k),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.");return xe}function ye(k,P,ue){if(k==null)return k;var de=[],ae=0;return $(k,de,"","",function(pe){return P.call(ue,pe,ae++)}),de}function J(k){if(k._status===-1){var P=k._result;P=P(),P.then(function(ue){(k._status===0||k._status===-1)&&(k._status=1,k._result=ue)},function(ue){(k._status===0||k._status===-1)&&(k._status=2,k._result=ue)}),k._status===-1&&(k._status=0,k._result=P)}if(k._status===1)return k._result.default;throw k._result}var ee={current:null},j={transition:null},H={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:j,ReactCurrentOwner:U};function W(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:ye,forEach:function(k,P,ue){ye(k,function(){P.apply(this,arguments)},ue)},count:function(k){var P=0;return ye(k,function(){P++}),P},toArray:function(k){return ye(k,function(P){return P})||[]},only:function(k){if(!q(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Re.Component=x,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=I,Re.StrictMode=i,Re.Suspense=d,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,Re.act=W,Re.cloneElement=function(k,P,ue){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var de=E({},k.props),ae=k.key,pe=k.ref,xe=k._owner;if(P!=null){if(P.ref!==void 0&&(pe=P.ref,xe=U.current),P.key!==void 0&&(ae=""+P.key),k.type&&k.type.defaultProps)var ve=k.type.defaultProps;for(Le in P)M.call(P,Le)&&!B.hasOwnProperty(Le)&&(de[Le]=P[Le]===void 0&&ve!==void 0?ve[Le]:P[Le])}var Le=arguments.length-2;if(Le===1)de.children=ue;else if(1<Le){ve=Array(Le);for(var Fe=0;Fe<Le;Fe++)ve[Fe]=arguments[Fe+2];de.children=ve}return{$$typeof:r,type:k.type,key:ae,ref:pe,props:de,_owner:xe}},Re.createContext=function(k){return k={$$typeof:u,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:l,_context:k},k.Consumer=k},Re.createElement=G,Re.createFactory=function(k){var P=G.bind(null,k);return P.type=k,P},Re.createRef=function(){return{current:null}},Re.forwardRef=function(k){return{$$typeof:c,render:k}},Re.isValidElement=q,Re.lazy=function(k){return{$$typeof:p,_payload:{_status:-1,_result:k},_init:J}},Re.memo=function(k,P){return{$$typeof:g,type:k,compare:P===void 0?null:P}},Re.startTransition=function(k){var P=j.transition;j.transition={};try{k()}finally{j.transition=P}},Re.unstable_act=W,Re.useCallback=function(k,P){return ee.current.useCallback(k,P)},Re.useContext=function(k){return ee.current.useContext(k)},Re.useDebugValue=function(){},Re.useDeferredValue=function(k){return ee.current.useDeferredValue(k)},Re.useEffect=function(k,P){return ee.current.useEffect(k,P)},Re.useId=function(){return ee.current.useId()},Re.useImperativeHandle=function(k,P,ue){return ee.current.useImperativeHandle(k,P,ue)},Re.useInsertionEffect=function(k,P){return ee.current.useInsertionEffect(k,P)},Re.useLayoutEffect=function(k,P){return ee.current.useLayoutEffect(k,P)},Re.useMemo=function(k,P){return ee.current.useMemo(k,P)},Re.useReducer=function(k,P,ue){return ee.current.useReducer(k,P,ue)},Re.useRef=function(k){return ee.current.useRef(k)},Re.useState=function(k){return ee.current.useState(k)},Re.useSyncExternalStore=function(k,P,ue){return ee.current.useSyncExternalStore(k,P,ue)},Re.useTransition=function(){return ee.current.useTransition()},Re.version="18.3.1",Re}var xp;function Qh(){return xp||(xp=1,nh.exports=z1()),nh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp;function b1(){if(Sp)return So;Sp=1;var r=Qh(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(c,d,g){var p,_={},y=null,w=null;g!==void 0&&(y=""+g),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(w=d.ref);for(p in d)i.call(d,p)&&!l.hasOwnProperty(p)&&(_[p]=d[p]);if(c&&c.defaultProps)for(p in d=c.defaultProps,d)_[p]===void 0&&(_[p]=d[p]);return{$$typeof:e,type:c,key:y,ref:w,props:_,_owner:o.current}}return So.Fragment=t,So.jsx=u,So.jsxs=u,So}var Cp;function G1(){return Cp||(Cp=1,th.exports=b1()),th.exports}var Ze=G1(),Wn=Qh();const U1=Qm(Wn);var pa={},ih={exports:{}},Gt={},rh={exports:{}},sh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp;function j1(){return Rp||(Rp=1,function(r){function e(j,H){var W=j.length;j.push(H);e:for(;0<W;){var k=W-1>>>1,P=j[k];if(0<o(P,H))j[k]=H,j[W]=P,W=k;else break e}}function t(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var H=j[0],W=j.pop();if(W!==H){j[0]=W;e:for(var k=0,P=j.length,ue=P>>>1;k<ue;){var de=2*(k+1)-1,ae=j[de],pe=de+1,xe=j[pe];if(0>o(ae,W))pe<P&&0>o(xe,ae)?(j[k]=xe,j[pe]=W,k=pe):(j[k]=ae,j[de]=W,k=de);else if(pe<P&&0>o(xe,W))j[k]=xe,j[pe]=W,k=pe;else break e}}return H}function o(j,H){var W=j.sortIndex-H.sortIndex;return W!==0?W:j.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var u=Date,c=u.now();r.unstable_now=function(){return u.now()-c}}var d=[],g=[],p=1,_=null,y=3,w=!1,E=!1,S=!1,x=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(j){for(var H=t(g);H!==null;){if(H.callback===null)i(g);else if(H.startTime<=j)i(g),H.sortIndex=H.expirationTime,e(d,H);else break;H=t(g)}}function T(j){if(S=!1,O(j),!E)if(t(d)!==null)E=!0,J(M);else{var H=t(g);H!==null&&ee(T,H.startTime-j)}}function M(j,H){E=!1,S&&(S=!1,R(G),G=-1),w=!0;var W=y;try{for(O(H),_=t(d);_!==null&&(!(_.expirationTime>H)||j&&!le());){var k=_.callback;if(typeof k=="function"){_.callback=null,y=_.priorityLevel;var P=k(_.expirationTime<=H);H=r.unstable_now(),typeof P=="function"?_.callback=P:_===t(d)&&i(d),O(H)}else i(d);_=t(d)}if(_!==null)var ue=!0;else{var de=t(g);de!==null&&ee(T,de.startTime-H),ue=!1}return ue}finally{_=null,y=W,w=!1}}var U=!1,B=null,G=-1,Y=5,q=-1;function le(){return!(r.unstable_now()-q<Y)}function re(){if(B!==null){var j=r.unstable_now();q=j;var H=!0;try{H=B(!0,j)}finally{H?se():(U=!1,B=null)}}else U=!1}var se;if(typeof I=="function")se=function(){I(re)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ye=$.port2;$.port1.onmessage=re,se=function(){ye.postMessage(null)}}else se=function(){x(re,0)};function J(j){B=j,U||(U=!0,se())}function ee(j,H){G=x(function(){j(r.unstable_now())},H)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(j){j.callback=null},r.unstable_continueExecution=function(){E||w||(E=!0,J(M))},r.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<j?Math.floor(1e3/j):5},r.unstable_getCurrentPriorityLevel=function(){return y},r.unstable_getFirstCallbackNode=function(){return t(d)},r.unstable_next=function(j){switch(y){case 1:case 2:case 3:var H=3;break;default:H=y}var W=y;y=H;try{return j()}finally{y=W}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(j,H){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var W=y;y=j;try{return H()}finally{y=W}},r.unstable_scheduleCallback=function(j,H,W){var k=r.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?k+W:k):W=k,j){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=W+P,j={id:p++,callback:H,priorityLevel:j,startTime:W,expirationTime:P,sortIndex:-1},W>k?(j.sortIndex=W,e(g,j),t(d)===null&&j===t(g)&&(S?(R(G),G=-1):S=!0,ee(T,W-k))):(j.sortIndex=P,e(d,j),E||w||(E=!0,J(M))),j},r.unstable_shouldYield=le,r.unstable_wrapCallback=function(j){var H=y;return function(){var W=y;y=H;try{return j.apply(this,arguments)}finally{y=W}}}}(sh)),sh}var Tp;function W1(){return Tp||(Tp=1,rh.exports=j1()),rh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function B1(){if(Ip)return Gt;Ip=1;var r=Qh(),e=W1();function t(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(n,s){u(n,s),u(n+"Capture",s)}function u(n,s){for(o[n]=s,n=0;n<s.length;n++)i.add(s[n])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},_={};function y(n){return d.call(_,n)?!0:d.call(p,n)?!1:g.test(n)?_[n]=!0:(p[n]=!0,!1)}function w(n,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function E(n,s,a,h){if(s===null||typeof s>"u"||w(n,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function S(n,s,a,h,f,m,v){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=n,this.type=s,this.sanitizeURL=m,this.removeEmptyString=v}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){x[n]=new S(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];x[s]=new S(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){x[n]=new S(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){x[n]=new S(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){x[n]=new S(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){x[n]=new S(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){x[n]=new S(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){x[n]=new S(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){x[n]=new S(n,5,!1,n.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function I(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(R,I);x[s]=new S(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(R,I);x[s]=new S(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(R,I);x[s]=new S(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){x[n]=new S(n,1,!1,n.toLowerCase(),null,!1,!1)}),x.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){x[n]=new S(n,1,!1,n.toLowerCase(),null,!0,!0)});function O(n,s,a,h){var f=x.hasOwnProperty(s)?x[s]:null;(f!==null?f.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(E(s,a,f,h)&&(a=null),h||f===null?y(s)&&(a===null?n.removeAttribute(s):n.setAttribute(s,""+a)):f.mustUseProperty?n[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,h=f.attributeNamespace,a===null?n.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,h?n.setAttributeNS(h,s,a):n.setAttribute(s,a))))}var T=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),U=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),le=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),ye=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),j=Symbol.iterator;function H(n){return n===null||typeof n!="object"?null:(n=j&&n[j]||n["@@iterator"],typeof n=="function"?n:null)}var W=Object.assign,k;function P(n){if(k===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);k=s&&s[1]||""}return`
`+k+n}var ue=!1;function de(n,s){if(!n||ue)return"";ue=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(N){var h=N}Reflect.construct(n,[],s)}else{try{s.call()}catch(N){h=N}n.call(s.prototype)}else{try{throw Error()}catch(N){h=N}n()}}catch(N){if(N&&h&&typeof N.stack=="string"){for(var f=N.stack.split(`
`),m=h.stack.split(`
`),v=f.length-1,C=m.length-1;1<=v&&0<=C&&f[v]!==m[C];)C--;for(;1<=v&&0<=C;v--,C--)if(f[v]!==m[C]){if(v!==1||C!==1)do if(v--,C--,0>C||f[v]!==m[C]){var L=`
`+f[v].replace(" at new "," at ");return n.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",n.displayName)),L}while(1<=v&&0<=C);break}}}finally{ue=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?P(n):""}function ae(n){switch(n.tag){case 5:return P(n.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 2:case 15:return n=de(n.type,!1),n;case 11:return n=de(n.type.render,!1),n;case 1:return n=de(n.type,!0),n;default:return""}}function pe(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case B:return"Fragment";case U:return"Portal";case Y:return"Profiler";case G:return"StrictMode";case se:return"Suspense";case $:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case le:return(n.displayName||"Context")+".Consumer";case q:return(n._context.displayName||"Context")+".Provider";case re:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ye:return s=n.displayName||null,s!==null?s:pe(n.type)||"Memo";case J:s=n._payload,n=n._init;try{return pe(n(s))}catch{}}return null}function xe(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(s);case 8:return s===G?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ve(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Le(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Fe(n){var s=Le(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),h=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(v){h=""+v,m.call(this,v)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(v){h=""+v},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Hn(n){n._valueTracker||(n._valueTracker=Fe(n))}function nr(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return n&&(h=Le(n)?n.checked?"true":"false":n.value),n=h,n!==a?(s.setValue(n),!0):!1}function Zn(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function nn(n,s){var a=s.checked;return W({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function _i(n,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=ve(s.value!=null?s.value:a),n._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ht(n,s){s=s.checked,s!=null&&O(n,"checked",s,!1)}function Mt(n,s){Ht(n,s);var a=ve(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(h==="submit"||h==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?En(n,s.type,a):s.hasOwnProperty("defaultValue")&&En(n,s.type,ve(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function $n(n,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,a||s===n.value||(n.value=s),n.defaultValue=s}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function En(n,s,a){(s!=="number"||Zn(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var rn=Array.isArray;function sn(n,s,a,h){if(n=n.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=s.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&h&&(n[a].defaultSelected=!0)}else{for(a=""+ve(a),s=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,h&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Zt(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return W({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Dn(n,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(rn(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}n._wrapperState={initialValue:ve(a)}}function tt(n,s){var a=ve(s.value),h=ve(s.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),s.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),h!=null&&(n.defaultValue=""+h)}function Fr(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function ir(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yi(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?ir(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Nr,bs=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,f){MSApp.execUnsafeLocalFunction(function(){return n(s,a,h,f)})}:n}(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(Nr=Nr||document.createElement("div"),Nr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Nr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function vi(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var qn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vu=["Webkit","ms","Moz","O"];Object.keys(qn).forEach(function(n){vu.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),qn[s]=qn[n]})});function ll(n,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||qn.hasOwnProperty(n)&&qn[n]?(""+s).trim():s+"px"}function Gs(n,s){n=n.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,f=ll(a,s[a],h);a==="float"&&(a="cssFloat"),h?n.setProperty(a,f):n[a]=f}}var al=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rr(n,s){if(s){if(al[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function zr(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Us=null;function sr(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Jn=null,on=null,ln=null;function js(n){if(n=lo(n)){if(typeof Jn!="function")throw Error(t(280));var s=n.stateNode;s&&(s=Al(s),Jn(n.stateNode,n.type,s))}}function Ws(n){on?ln?ln.push(n):ln=[n]:on=n}function St(){if(on){var n=on,s=ln;if(ln=on=null,js(n),s)for(n=0;n<s.length;n++)js(s[n])}}function Fn(n,s){return n(s)}function Ct(){}var Ot=!1;function Rt(n,s,a){if(Ot)return n(s,a);Ot=!0;try{return Fn(n,s,a)}finally{Ot=!1,(on!==null||ln!==null)&&(Ct(),St())}}function Tt(n,s){var a=n.stateNode;if(a===null)return null;var h=Al(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var $t=!1;if(c)try{var Ge={};Object.defineProperty(Ge,"passive",{get:function(){$t=!0}}),window.addEventListener("test",Ge,Ge),window.removeEventListener("test",Ge,Ge)}catch{$t=!1}function ht(n,s,a,h,f,m,v,C,L){var N=Array.prototype.slice.call(arguments,3);try{s.apply(a,N)}catch(V){this.onError(V)}}var It=!1,br=null,ul=!1,Eu=null,By={onError:function(n){It=!0,br=n}};function Xy(n,s,a,h,f,m,v,C,L){It=!1,br=null,ht.apply(By,arguments)}function Vy(n,s,a,h,f,m,v,C,L){if(Xy.apply(this,arguments),It){if(It){var N=br;It=!1,br=null}else throw Error(t(198));ul||(ul=!0,Eu=N)}}function or(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,s.flags&4098&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function Wd(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function Bd(n){if(or(n)!==n)throw Error(t(188))}function Yy(n){var s=n.alternate;if(!s){if(s=or(n),s===null)throw Error(t(188));return s!==n?null:n}for(var a=n,h=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(h=f.return,h!==null){a=h;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return Bd(f),n;if(m===h)return Bd(f),s;m=m.sibling}throw Error(t(188))}if(a.return!==h.return)a=f,h=m;else{for(var v=!1,C=f.child;C;){if(C===a){v=!0,a=f,h=m;break}if(C===h){v=!0,h=f,a=m;break}C=C.sibling}if(!v){for(C=m.child;C;){if(C===a){v=!0,a=m,h=f;break}if(C===h){v=!0,h=m,a=f;break}C=C.sibling}if(!v)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:s}function Xd(n){return n=Yy(n),n!==null?Vd(n):null}function Vd(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=Vd(n);if(s!==null)return s;n=n.sibling}return null}var Yd=e.unstable_scheduleCallback,Kd=e.unstable_cancelCallback,Ky=e.unstable_shouldYield,Hy=e.unstable_requestPaint,qe=e.unstable_now,Zy=e.unstable_getCurrentPriorityLevel,wu=e.unstable_ImmediatePriority,Hd=e.unstable_UserBlockingPriority,cl=e.unstable_NormalPriority,$y=e.unstable_LowPriority,Zd=e.unstable_IdlePriority,hl=null,Nn=null;function qy(n){if(Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(hl,n,void 0,(n.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:e0,Jy=Math.log,Qy=Math.LN2;function e0(n){return n>>>=0,n===0?32:31-(Jy(n)/Qy|0)|0}var dl=64,fl=4194304;function Bs(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function gl(n,s){var a=n.pendingLanes;if(a===0)return 0;var h=0,f=n.suspendedLanes,m=n.pingedLanes,v=a&268435455;if(v!==0){var C=v&~f;C!==0?h=Bs(C):(m&=v,m!==0&&(h=Bs(m)))}else v=a&~f,v!==0?h=Bs(v):m!==0&&(h=Bs(m));if(h===0)return 0;if(s!==0&&s!==h&&!(s&f)&&(f=h&-h,m=s&-s,f>=m||f===16&&(m&4194240)!==0))return s;if(h&4&&(h|=a&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=h;0<s;)a=31-wn(s),f=1<<a,h|=n[a],s&=~f;return h}function t0(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n0(n,s){for(var a=n.suspendedLanes,h=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes;0<m;){var v=31-wn(m),C=1<<v,L=f[v];L===-1?(!(C&a)||C&h)&&(f[v]=t0(C,s)):L<=s&&(n.expiredLanes|=C),m&=~C}}function xu(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function $d(){var n=dl;return dl<<=1,!(dl&4194240)&&(dl=64),n}function Su(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function Xs(n,s,a){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-wn(s),n[s]=a}function i0(n,s){var a=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var h=n.eventTimes;for(n=n.expirationTimes;0<a;){var f=31-wn(a),m=1<<f;s[f]=0,h[f]=-1,n[f]=-1,a&=~m}}function Cu(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var h=31-wn(a),f=1<<h;f&s|n[h]&s&&(n[h]|=s),a&=~f}}var Ne=0;function qd(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Jd,Ru,Qd,ef,tf,Tu=!1,pl=[],Ei=null,wi=null,xi=null,Vs=new Map,Ys=new Map,Si=[],r0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nf(n,s){switch(n){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":xi=null;break;case"pointerover":case"pointerout":Vs.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ys.delete(s.pointerId)}}function Ks(n,s,a,h,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:m,targetContainers:[f]},s!==null&&(s=lo(s),s!==null&&Ru(s)),n):(n.eventSystemFlags|=h,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function s0(n,s,a,h,f){switch(s){case"focusin":return Ei=Ks(Ei,n,s,a,h,f),!0;case"dragenter":return wi=Ks(wi,n,s,a,h,f),!0;case"mouseover":return xi=Ks(xi,n,s,a,h,f),!0;case"pointerover":var m=f.pointerId;return Vs.set(m,Ks(Vs.get(m)||null,n,s,a,h,f)),!0;case"gotpointercapture":return m=f.pointerId,Ys.set(m,Ks(Ys.get(m)||null,n,s,a,h,f)),!0}return!1}function rf(n){var s=lr(n.target);if(s!==null){var a=or(s);if(a!==null){if(s=a.tag,s===13){if(s=Wd(a),s!==null){n.blockedOn=s,tf(n.priority,function(){Qd(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ml(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Lu(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var h=new a.constructor(a.type,a);Us=h,a.target.dispatchEvent(h),Us=null}else return s=lo(a),s!==null&&Ru(s),n.blockedOn=a,!1;s.shift()}return!0}function sf(n,s,a){ml(n)&&a.delete(s)}function o0(){Tu=!1,Ei!==null&&ml(Ei)&&(Ei=null),wi!==null&&ml(wi)&&(wi=null),xi!==null&&ml(xi)&&(xi=null),Vs.forEach(sf),Ys.forEach(sf)}function Hs(n,s){n.blockedOn===s&&(n.blockedOn=null,Tu||(Tu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,o0)))}function Zs(n){function s(f){return Hs(f,n)}if(0<pl.length){Hs(pl[0],n);for(var a=1;a<pl.length;a++){var h=pl[a];h.blockedOn===n&&(h.blockedOn=null)}}for(Ei!==null&&Hs(Ei,n),wi!==null&&Hs(wi,n),xi!==null&&Hs(xi,n),Vs.forEach(s),Ys.forEach(s),a=0;a<Si.length;a++)h=Si[a],h.blockedOn===n&&(h.blockedOn=null);for(;0<Si.length&&(a=Si[0],a.blockedOn===null);)rf(a),a.blockedOn===null&&Si.shift()}var Gr=T.ReactCurrentBatchConfig,_l=!0;function l0(n,s,a,h){var f=Ne,m=Gr.transition;Gr.transition=null;try{Ne=1,Iu(n,s,a,h)}finally{Ne=f,Gr.transition=m}}function a0(n,s,a,h){var f=Ne,m=Gr.transition;Gr.transition=null;try{Ne=4,Iu(n,s,a,h)}finally{Ne=f,Gr.transition=m}}function Iu(n,s,a,h){if(_l){var f=Lu(n,s,a,h);if(f===null)Vu(n,s,h,yl,a),nf(n,h);else if(s0(f,n,s,a,h))h.stopPropagation();else if(nf(n,h),s&4&&-1<r0.indexOf(n)){for(;f!==null;){var m=lo(f);if(m!==null&&Jd(m),m=Lu(n,s,a,h),m===null&&Vu(n,s,h,yl,a),m===f)break;f=m}f!==null&&h.stopPropagation()}else Vu(n,s,h,null,a)}}var yl=null;function Lu(n,s,a,h){if(yl=null,n=sr(h),n=lr(n),n!==null)if(s=or(n),s===null)n=null;else if(a=s.tag,a===13){if(n=Wd(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return yl=n,null}function of(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zy()){case wu:return 1;case Hd:return 4;case cl:case $y:return 16;case Zd:return 536870912;default:return 16}default:return 16}}var Ci=null,ku=null,vl=null;function lf(){if(vl)return vl;var n,s=ku,a=s.length,h,f="value"in Ci?Ci.value:Ci.textContent,m=f.length;for(n=0;n<a&&s[n]===f[n];n++);var v=a-n;for(h=1;h<=v&&s[a-h]===f[m-h];h++);return vl=f.slice(n,1<h?1-h:void 0)}function El(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function wl(){return!0}function af(){return!1}function qt(n){function s(a,h,f,m,v){this._reactName=a,this._targetInst=f,this.type=h,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(a=n[C],this[C]=a?a(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?wl:af,this.isPropagationStopped=af,this}return W(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=wl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=wl)},persist:function(){},isPersistent:wl}),s}var Ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Au=qt(Ur),$s=W({},Ur,{view:0,detail:0}),u0=qt($s),Pu,Mu,qs,xl=W({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Du,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==qs&&(qs&&n.type==="mousemove"?(Pu=n.screenX-qs.screenX,Mu=n.screenY-qs.screenY):Mu=Pu=0,qs=n),Pu)},movementY:function(n){return"movementY"in n?n.movementY:Mu}}),uf=qt(xl),c0=W({},xl,{dataTransfer:0}),h0=qt(c0),d0=W({},$s,{relatedTarget:0}),Ou=qt(d0),f0=W({},Ur,{animationName:0,elapsedTime:0,pseudoElement:0}),g0=qt(f0),p0=W({},Ur,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),m0=qt(p0),_0=W({},Ur,{data:0}),cf=qt(_0),y0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w0(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=E0[n])?!!s[n]:!1}function Du(){return w0}var x0=W({},$s,{key:function(n){if(n.key){var s=y0[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=El(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?v0[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Du,charCode:function(n){return n.type==="keypress"?El(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?El(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),S0=qt(x0),C0=W({},xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hf=qt(C0),R0=W({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Du}),T0=qt(R0),I0=W({},Ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),L0=qt(I0),k0=W({},xl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),A0=qt(k0),P0=[9,13,27,32],Fu=c&&"CompositionEvent"in window,Js=null;c&&"documentMode"in document&&(Js=document.documentMode);var M0=c&&"TextEvent"in window&&!Js,df=c&&(!Fu||Js&&8<Js&&11>=Js),ff=" ",gf=!1;function pf(n,s){switch(n){case"keyup":return P0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var jr=!1;function O0(n,s){switch(n){case"compositionend":return mf(s);case"keypress":return s.which!==32?null:(gf=!0,ff);case"textInput":return n=s.data,n===ff&&gf?null:n;default:return null}}function D0(n,s){if(jr)return n==="compositionend"||!Fu&&pf(n,s)?(n=lf(),vl=ku=Ci=null,jr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return df&&s.locale!=="ko"?null:s.data;default:return null}}var F0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _f(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!F0[n.type]:s==="textarea"}function yf(n,s,a,h){Ws(h),s=Il(s,"onChange"),0<s.length&&(a=new Au("onChange","change",null,a,h),n.push({event:a,listeners:s}))}var Qs=null,eo=null;function N0(n){Nf(n,0)}function Sl(n){var s=Yr(n);if(nr(s))return n}function z0(n,s){if(n==="change")return s}var vf=!1;if(c){var Nu;if(c){var zu="oninput"in document;if(!zu){var Ef=document.createElement("div");Ef.setAttribute("oninput","return;"),zu=typeof Ef.oninput=="function"}Nu=zu}else Nu=!1;vf=Nu&&(!document.documentMode||9<document.documentMode)}function wf(){Qs&&(Qs.detachEvent("onpropertychange",xf),eo=Qs=null)}function xf(n){if(n.propertyName==="value"&&Sl(eo)){var s=[];yf(s,eo,n,sr(n)),Rt(N0,s)}}function b0(n,s,a){n==="focusin"?(wf(),Qs=s,eo=a,Qs.attachEvent("onpropertychange",xf)):n==="focusout"&&wf()}function G0(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Sl(eo)}function U0(n,s){if(n==="click")return Sl(s)}function j0(n,s){if(n==="input"||n==="change")return Sl(s)}function W0(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var xn=typeof Object.is=="function"?Object.is:W0;function to(n,s){if(xn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var f=a[h];if(!d.call(s,f)||!xn(n[f],s[f]))return!1}return!0}function Sf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Cf(n,s){var a=Sf(n);n=0;for(var h;a;){if(a.nodeType===3){if(h=n+a.textContent.length,n<=s&&h>=s)return{node:a,offset:s-n};n=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Sf(a)}}function Rf(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Rf(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Tf(){for(var n=window,s=Zn();s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Zn(n.document)}return s}function bu(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function B0(n){var s=Tf(),a=n.focusedElem,h=n.selectionRange;if(s!==a&&a&&a.ownerDocument&&Rf(a.ownerDocument.documentElement,a)){if(h!==null&&bu(a)){if(s=h.start,n=h.end,n===void 0&&(n=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(n,a.value.length);else if(n=(s=a.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var f=a.textContent.length,m=Math.min(h.start,f);h=h.end===void 0?m:Math.min(h.end,f),!n.extend&&m>h&&(f=h,h=m,m=f),f=Cf(a,m);var v=Cf(a,h);f&&v&&(n.rangeCount!==1||n.anchorNode!==f.node||n.anchorOffset!==f.offset||n.focusNode!==v.node||n.focusOffset!==v.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),n.removeAllRanges(),m>h?(n.addRange(s),n.extend(v.node,v.offset)):(s.setEnd(v.node,v.offset),n.addRange(s)))}}for(s=[],n=a;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)n=s[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var X0=c&&"documentMode"in document&&11>=document.documentMode,Wr=null,Gu=null,no=null,Uu=!1;function If(n,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Uu||Wr==null||Wr!==Zn(h)||(h=Wr,"selectionStart"in h&&bu(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),no&&to(no,h)||(no=h,h=Il(Gu,"onSelect"),0<h.length&&(s=new Au("onSelect","select",null,s,a),n.push({event:s,listeners:h}),s.target=Wr)))}function Cl(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Br={animationend:Cl("Animation","AnimationEnd"),animationiteration:Cl("Animation","AnimationIteration"),animationstart:Cl("Animation","AnimationStart"),transitionend:Cl("Transition","TransitionEnd")},ju={},Lf={};c&&(Lf=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function Rl(n){if(ju[n])return ju[n];if(!Br[n])return n;var s=Br[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Lf)return ju[n]=s[a];return n}var kf=Rl("animationend"),Af=Rl("animationiteration"),Pf=Rl("animationstart"),Mf=Rl("transitionend"),Of=new Map,Df="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ri(n,s){Of.set(n,s),l(s,[n])}for(var Wu=0;Wu<Df.length;Wu++){var Bu=Df[Wu],V0=Bu.toLowerCase(),Y0=Bu[0].toUpperCase()+Bu.slice(1);Ri(V0,"on"+Y0)}Ri(kf,"onAnimationEnd"),Ri(Af,"onAnimationIteration"),Ri(Pf,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(Mf,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K0=new Set("cancel close invalid load scroll toggle".split(" ").concat(io));function Ff(n,s,a){var h=n.type||"unknown-event";n.currentTarget=a,Vy(h,s,void 0,n),n.currentTarget=null}function Nf(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var h=n[a],f=h.event;h=h.listeners;e:{var m=void 0;if(s)for(var v=h.length-1;0<=v;v--){var C=h[v],L=C.instance,N=C.currentTarget;if(C=C.listener,L!==m&&f.isPropagationStopped())break e;Ff(f,C,N),m=L}else for(v=0;v<h.length;v++){if(C=h[v],L=C.instance,N=C.currentTarget,C=C.listener,L!==m&&f.isPropagationStopped())break e;Ff(f,C,N),m=L}}}if(ul)throw n=Eu,ul=!1,Eu=null,n}function je(n,s){var a=s[qu];a===void 0&&(a=s[qu]=new Set);var h=n+"__bubble";a.has(h)||(zf(s,n,2,!1),a.add(h))}function Xu(n,s,a){var h=0;s&&(h|=4),zf(a,n,h,s)}var Tl="_reactListening"+Math.random().toString(36).slice(2);function ro(n){if(!n[Tl]){n[Tl]=!0,i.forEach(function(a){a!=="selectionchange"&&(K0.has(a)||Xu(a,!1,n),Xu(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Tl]||(s[Tl]=!0,Xu("selectionchange",!1,s))}}function zf(n,s,a,h){switch(of(s)){case 1:var f=l0;break;case 4:f=a0;break;default:f=Iu}a=f.bind(null,s,a,n),f=void 0,!$t||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),h?f!==void 0?n.addEventListener(s,a,{capture:!0,passive:f}):n.addEventListener(s,a,!0):f!==void 0?n.addEventListener(s,a,{passive:f}):n.addEventListener(s,a,!1)}function Vu(n,s,a,h,f){var m=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var v=h.tag;if(v===3||v===4){var C=h.stateNode.containerInfo;if(C===f||C.nodeType===8&&C.parentNode===f)break;if(v===4)for(v=h.return;v!==null;){var L=v.tag;if((L===3||L===4)&&(L=v.stateNode.containerInfo,L===f||L.nodeType===8&&L.parentNode===f))return;v=v.return}for(;C!==null;){if(v=lr(C),v===null)return;if(L=v.tag,L===5||L===6){h=m=v;continue e}C=C.parentNode}}h=h.return}Rt(function(){var N=m,V=sr(a),K=[];e:{var X=Of.get(n);if(X!==void 0){var Q=Au,ne=n;switch(n){case"keypress":if(El(a)===0)break e;case"keydown":case"keyup":Q=S0;break;case"focusin":ne="focus",Q=Ou;break;case"focusout":ne="blur",Q=Ou;break;case"beforeblur":case"afterblur":Q=Ou;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=uf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=h0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=T0;break;case kf:case Af:case Pf:Q=g0;break;case Mf:Q=L0;break;case"scroll":Q=u0;break;case"wheel":Q=A0;break;case"copy":case"cut":case"paste":Q=m0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=hf}var ie=(s&4)!==0,Je=!ie&&n==="scroll",D=ie?X!==null?X+"Capture":null:X;ie=[];for(var A=N,F;A!==null;){F=A;var Z=F.stateNode;if(F.tag===5&&Z!==null&&(F=Z,D!==null&&(Z=Tt(A,D),Z!=null&&ie.push(so(A,Z,F)))),Je)break;A=A.return}0<ie.length&&(X=new Q(X,ne,null,a,V),K.push({event:X,listeners:ie}))}}if(!(s&7)){e:{if(X=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",X&&a!==Us&&(ne=a.relatedTarget||a.fromElement)&&(lr(ne)||ne[Qn]))break e;if((Q||X)&&(X=V.window===V?V:(X=V.ownerDocument)?X.defaultView||X.parentWindow:window,Q?(ne=a.relatedTarget||a.toElement,Q=N,ne=ne?lr(ne):null,ne!==null&&(Je=or(ne),ne!==Je||ne.tag!==5&&ne.tag!==6)&&(ne=null)):(Q=null,ne=N),Q!==ne)){if(ie=uf,Z="onMouseLeave",D="onMouseEnter",A="mouse",(n==="pointerout"||n==="pointerover")&&(ie=hf,Z="onPointerLeave",D="onPointerEnter",A="pointer"),Je=Q==null?X:Yr(Q),F=ne==null?X:Yr(ne),X=new ie(Z,A+"leave",Q,a,V),X.target=Je,X.relatedTarget=F,Z=null,lr(V)===N&&(ie=new ie(D,A+"enter",ne,a,V),ie.target=F,ie.relatedTarget=Je,Z=ie),Je=Z,Q&&ne)t:{for(ie=Q,D=ne,A=0,F=ie;F;F=Xr(F))A++;for(F=0,Z=D;Z;Z=Xr(Z))F++;for(;0<A-F;)ie=Xr(ie),A--;for(;0<F-A;)D=Xr(D),F--;for(;A--;){if(ie===D||D!==null&&ie===D.alternate)break t;ie=Xr(ie),D=Xr(D)}ie=null}else ie=null;Q!==null&&bf(K,X,Q,ie,!1),ne!==null&&Je!==null&&bf(K,Je,ne,ie,!0)}}e:{if(X=N?Yr(N):window,Q=X.nodeName&&X.nodeName.toLowerCase(),Q==="select"||Q==="input"&&X.type==="file")var oe=z0;else if(_f(X))if(vf)oe=j0;else{oe=G0;var fe=b0}else(Q=X.nodeName)&&Q.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(oe=U0);if(oe&&(oe=oe(n,N))){yf(K,oe,a,V);break e}fe&&fe(n,X,N),n==="focusout"&&(fe=X._wrapperState)&&fe.controlled&&X.type==="number"&&En(X,"number",X.value)}switch(fe=N?Yr(N):window,n){case"focusin":(_f(fe)||fe.contentEditable==="true")&&(Wr=fe,Gu=N,no=null);break;case"focusout":no=Gu=Wr=null;break;case"mousedown":Uu=!0;break;case"contextmenu":case"mouseup":case"dragend":Uu=!1,If(K,a,V);break;case"selectionchange":if(X0)break;case"keydown":case"keyup":If(K,a,V)}var ge;if(Fu)e:{switch(n){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else jr?pf(n,a)&&(me="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(me="onCompositionStart");me&&(df&&a.locale!=="ko"&&(jr||me!=="onCompositionStart"?me==="onCompositionEnd"&&jr&&(ge=lf()):(Ci=V,ku="value"in Ci?Ci.value:Ci.textContent,jr=!0)),fe=Il(N,me),0<fe.length&&(me=new cf(me,n,null,a,V),K.push({event:me,listeners:fe}),ge?me.data=ge:(ge=mf(a),ge!==null&&(me.data=ge)))),(ge=M0?O0(n,a):D0(n,a))&&(N=Il(N,"onBeforeInput"),0<N.length&&(V=new cf("onBeforeInput","beforeinput",null,a,V),K.push({event:V,listeners:N}),V.data=ge))}Nf(K,s)})}function so(n,s,a){return{instance:n,listener:s,currentTarget:a}}function Il(n,s){for(var a=s+"Capture",h=[];n!==null;){var f=n,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=Tt(n,a),m!=null&&h.unshift(so(n,m,f)),m=Tt(n,s),m!=null&&h.push(so(n,m,f))),n=n.return}return h}function Xr(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function bf(n,s,a,h,f){for(var m=s._reactName,v=[];a!==null&&a!==h;){var C=a,L=C.alternate,N=C.stateNode;if(L!==null&&L===h)break;C.tag===5&&N!==null&&(C=N,f?(L=Tt(a,m),L!=null&&v.unshift(so(a,L,C))):f||(L=Tt(a,m),L!=null&&v.push(so(a,L,C)))),a=a.return}v.length!==0&&n.push({event:s,listeners:v})}var H0=/\r\n?/g,Z0=/\u0000|\uFFFD/g;function Gf(n){return(typeof n=="string"?n:""+n).replace(H0,`
`).replace(Z0,"")}function Ll(n,s,a){if(s=Gf(s),Gf(n)!==s&&a)throw Error(t(425))}function kl(){}var Yu=null,Ku=null;function Hu(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Zu=typeof setTimeout=="function"?setTimeout:void 0,$0=typeof clearTimeout=="function"?clearTimeout:void 0,Uf=typeof Promise=="function"?Promise:void 0,q0=typeof queueMicrotask=="function"?queueMicrotask:typeof Uf<"u"?function(n){return Uf.resolve(null).then(n).catch(J0)}:Zu;function J0(n){setTimeout(function(){throw n})}function $u(n,s){var a=s,h=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(h===0){n.removeChild(f),Zs(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=f}while(a);Zs(s)}function Ti(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function jf(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}var Vr=Math.random().toString(36).slice(2),zn="__reactFiber$"+Vr,oo="__reactProps$"+Vr,Qn="__reactContainer$"+Vr,qu="__reactEvents$"+Vr,Q0="__reactListeners$"+Vr,e1="__reactHandles$"+Vr;function lr(n){var s=n[zn];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Qn]||a[zn]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=jf(n);n!==null;){if(a=n[zn])return a;n=jf(n)}return s}n=a,a=n.parentNode}return null}function lo(n){return n=n[zn]||n[Qn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Yr(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Al(n){return n[oo]||null}var Ju=[],Kr=-1;function Ii(n){return{current:n}}function We(n){0>Kr||(n.current=Ju[Kr],Ju[Kr]=null,Kr--)}function Ue(n,s){Kr++,Ju[Kr]=n.current,n.current=s}var Li={},pt=Ii(Li),Dt=Ii(!1),ar=Li;function Hr(n,s){var a=n.type.contextTypes;if(!a)return Li;var h=n.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in a)f[m]=s[m];return h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=f),f}function Ft(n){return n=n.childContextTypes,n!=null}function Pl(){We(Dt),We(pt)}function Wf(n,s,a){if(pt.current!==Li)throw Error(t(168));Ue(pt,s),Ue(Dt,a)}function Bf(n,s,a){var h=n.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var f in h)if(!(f in s))throw Error(t(108,xe(n)||"Unknown",f));return W({},a,h)}function Ml(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Li,ar=pt.current,Ue(pt,n),Ue(Dt,Dt.current),!0}function Xf(n,s,a){var h=n.stateNode;if(!h)throw Error(t(169));a?(n=Bf(n,s,ar),h.__reactInternalMemoizedMergedChildContext=n,We(Dt),We(pt),Ue(pt,n)):We(Dt),Ue(Dt,a)}var ei=null,Ol=!1,Qu=!1;function Vf(n){ei===null?ei=[n]:ei.push(n)}function t1(n){Ol=!0,Vf(n)}function ki(){if(!Qu&&ei!==null){Qu=!0;var n=0,s=Ne;try{var a=ei;for(Ne=1;n<a.length;n++){var h=a[n];do h=h(!0);while(h!==null)}ei=null,Ol=!1}catch(f){throw ei!==null&&(ei=ei.slice(n+1)),Yd(wu,ki),f}finally{Ne=s,Qu=!1}}return null}var Zr=[],$r=0,Dl=null,Fl=0,an=[],un=0,ur=null,ti=1,ni="";function cr(n,s){Zr[$r++]=Fl,Zr[$r++]=Dl,Dl=n,Fl=s}function Yf(n,s,a){an[un++]=ti,an[un++]=ni,an[un++]=ur,ur=n;var h=ti;n=ni;var f=32-wn(h)-1;h&=~(1<<f),a+=1;var m=32-wn(s)+f;if(30<m){var v=f-f%5;m=(h&(1<<v)-1).toString(32),h>>=v,f-=v,ti=1<<32-wn(s)+f|a<<f|h,ni=m+n}else ti=1<<m|a<<f|h,ni=n}function ec(n){n.return!==null&&(cr(n,1),Yf(n,1,0))}function tc(n){for(;n===Dl;)Dl=Zr[--$r],Zr[$r]=null,Fl=Zr[--$r],Zr[$r]=null;for(;n===ur;)ur=an[--un],an[un]=null,ni=an[--un],an[un]=null,ti=an[--un],an[un]=null}var Jt=null,Qt=null,Be=!1,Sn=null;function Kf(n,s){var a=fn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=n,s=n.deletions,s===null?(n.deletions=[a],n.flags|=16):s.push(a)}function Hf(n,s){switch(n.tag){case 5:var a=n.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,Jt=n,Qt=Ti(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,Jt=n,Qt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=ur!==null?{id:ti,overflow:ni}:null,n.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=fn(18,null,null,0),a.stateNode=s,a.return=n,n.child=a,Jt=n,Qt=null,!0):!1;default:return!1}}function nc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ic(n){if(Be){var s=Qt;if(s){var a=s;if(!Hf(n,s)){if(nc(n))throw Error(t(418));s=Ti(a.nextSibling);var h=Jt;s&&Hf(n,s)?Kf(h,a):(n.flags=n.flags&-4097|2,Be=!1,Jt=n)}}else{if(nc(n))throw Error(t(418));n.flags=n.flags&-4097|2,Be=!1,Jt=n}}}function Zf(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Jt=n}function Nl(n){if(n!==Jt)return!1;if(!Be)return Zf(n),Be=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!Hu(n.type,n.memoizedProps)),s&&(s=Qt)){if(nc(n))throw $f(),Error(t(418));for(;s;)Kf(n,s),s=Ti(s.nextSibling)}if(Zf(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(s===0){Qt=Ti(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}n=n.nextSibling}Qt=null}}else Qt=Jt?Ti(n.stateNode.nextSibling):null;return!0}function $f(){for(var n=Qt;n;)n=Ti(n.nextSibling)}function qr(){Qt=Jt=null,Be=!1}function rc(n){Sn===null?Sn=[n]:Sn.push(n)}var n1=T.ReactCurrentBatchConfig;function ao(n,s,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,n));var f=h,m=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===m?s.ref:(s=function(v){var C=f.refs;v===null?delete C[m]:C[m]=v},s._stringRef=m,s)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function zl(n,s){throw n=Object.prototype.toString.call(s),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function qf(n){var s=n._init;return s(n._payload)}function Jf(n){function s(D,A){if(n){var F=D.deletions;F===null?(D.deletions=[A],D.flags|=16):F.push(A)}}function a(D,A){if(!n)return null;for(;A!==null;)s(D,A),A=A.sibling;return null}function h(D,A){for(D=new Map;A!==null;)A.key!==null?D.set(A.key,A):D.set(A.index,A),A=A.sibling;return D}function f(D,A){return D=zi(D,A),D.index=0,D.sibling=null,D}function m(D,A,F){return D.index=F,n?(F=D.alternate,F!==null?(F=F.index,F<A?(D.flags|=2,A):F):(D.flags|=2,A)):(D.flags|=1048576,A)}function v(D){return n&&D.alternate===null&&(D.flags|=2),D}function C(D,A,F,Z){return A===null||A.tag!==6?(A=Zc(F,D.mode,Z),A.return=D,A):(A=f(A,F),A.return=D,A)}function L(D,A,F,Z){var oe=F.type;return oe===B?V(D,A,F.props.children,Z,F.key):A!==null&&(A.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===J&&qf(oe)===A.type)?(Z=f(A,F.props),Z.ref=ao(D,A,F),Z.return=D,Z):(Z=la(F.type,F.key,F.props,null,D.mode,Z),Z.ref=ao(D,A,F),Z.return=D,Z)}function N(D,A,F,Z){return A===null||A.tag!==4||A.stateNode.containerInfo!==F.containerInfo||A.stateNode.implementation!==F.implementation?(A=$c(F,D.mode,Z),A.return=D,A):(A=f(A,F.children||[]),A.return=D,A)}function V(D,A,F,Z,oe){return A===null||A.tag!==7?(A=yr(F,D.mode,Z,oe),A.return=D,A):(A=f(A,F),A.return=D,A)}function K(D,A,F){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Zc(""+A,D.mode,F),A.return=D,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case M:return F=la(A.type,A.key,A.props,null,D.mode,F),F.ref=ao(D,null,A),F.return=D,F;case U:return A=$c(A,D.mode,F),A.return=D,A;case J:var Z=A._init;return K(D,Z(A._payload),F)}if(rn(A)||H(A))return A=yr(A,D.mode,F,null),A.return=D,A;zl(D,A)}return null}function X(D,A,F,Z){var oe=A!==null?A.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return oe!==null?null:C(D,A,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case M:return F.key===oe?L(D,A,F,Z):null;case U:return F.key===oe?N(D,A,F,Z):null;case J:return oe=F._init,X(D,A,oe(F._payload),Z)}if(rn(F)||H(F))return oe!==null?null:V(D,A,F,Z,null);zl(D,F)}return null}function Q(D,A,F,Z,oe){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return D=D.get(F)||null,C(A,D,""+Z,oe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case M:return D=D.get(Z.key===null?F:Z.key)||null,L(A,D,Z,oe);case U:return D=D.get(Z.key===null?F:Z.key)||null,N(A,D,Z,oe);case J:var fe=Z._init;return Q(D,A,F,fe(Z._payload),oe)}if(rn(Z)||H(Z))return D=D.get(F)||null,V(A,D,Z,oe,null);zl(A,Z)}return null}function ne(D,A,F,Z){for(var oe=null,fe=null,ge=A,me=A=0,lt=null;ge!==null&&me<F.length;me++){ge.index>me?(lt=ge,ge=null):lt=ge.sibling;var ke=X(D,ge,F[me],Z);if(ke===null){ge===null&&(ge=lt);break}n&&ge&&ke.alternate===null&&s(D,ge),A=m(ke,A,me),fe===null?oe=ke:fe.sibling=ke,fe=ke,ge=lt}if(me===F.length)return a(D,ge),Be&&cr(D,me),oe;if(ge===null){for(;me<F.length;me++)ge=K(D,F[me],Z),ge!==null&&(A=m(ge,A,me),fe===null?oe=ge:fe.sibling=ge,fe=ge);return Be&&cr(D,me),oe}for(ge=h(D,ge);me<F.length;me++)lt=Q(ge,D,me,F[me],Z),lt!==null&&(n&&lt.alternate!==null&&ge.delete(lt.key===null?me:lt.key),A=m(lt,A,me),fe===null?oe=lt:fe.sibling=lt,fe=lt);return n&&ge.forEach(function(bi){return s(D,bi)}),Be&&cr(D,me),oe}function ie(D,A,F,Z){var oe=H(F);if(typeof oe!="function")throw Error(t(150));if(F=oe.call(F),F==null)throw Error(t(151));for(var fe=oe=null,ge=A,me=A=0,lt=null,ke=F.next();ge!==null&&!ke.done;me++,ke=F.next()){ge.index>me?(lt=ge,ge=null):lt=ge.sibling;var bi=X(D,ge,ke.value,Z);if(bi===null){ge===null&&(ge=lt);break}n&&ge&&bi.alternate===null&&s(D,ge),A=m(bi,A,me),fe===null?oe=bi:fe.sibling=bi,fe=bi,ge=lt}if(ke.done)return a(D,ge),Be&&cr(D,me),oe;if(ge===null){for(;!ke.done;me++,ke=F.next())ke=K(D,ke.value,Z),ke!==null&&(A=m(ke,A,me),fe===null?oe=ke:fe.sibling=ke,fe=ke);return Be&&cr(D,me),oe}for(ge=h(D,ge);!ke.done;me++,ke=F.next())ke=Q(ge,D,me,ke.value,Z),ke!==null&&(n&&ke.alternate!==null&&ge.delete(ke.key===null?me:ke.key),A=m(ke,A,me),fe===null?oe=ke:fe.sibling=ke,fe=ke);return n&&ge.forEach(function(D1){return s(D,D1)}),Be&&cr(D,me),oe}function Je(D,A,F,Z){if(typeof F=="object"&&F!==null&&F.type===B&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case M:e:{for(var oe=F.key,fe=A;fe!==null;){if(fe.key===oe){if(oe=F.type,oe===B){if(fe.tag===7){a(D,fe.sibling),A=f(fe,F.props.children),A.return=D,D=A;break e}}else if(fe.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===J&&qf(oe)===fe.type){a(D,fe.sibling),A=f(fe,F.props),A.ref=ao(D,fe,F),A.return=D,D=A;break e}a(D,fe);break}else s(D,fe);fe=fe.sibling}F.type===B?(A=yr(F.props.children,D.mode,Z,F.key),A.return=D,D=A):(Z=la(F.type,F.key,F.props,null,D.mode,Z),Z.ref=ao(D,A,F),Z.return=D,D=Z)}return v(D);case U:e:{for(fe=F.key;A!==null;){if(A.key===fe)if(A.tag===4&&A.stateNode.containerInfo===F.containerInfo&&A.stateNode.implementation===F.implementation){a(D,A.sibling),A=f(A,F.children||[]),A.return=D,D=A;break e}else{a(D,A);break}else s(D,A);A=A.sibling}A=$c(F,D.mode,Z),A.return=D,D=A}return v(D);case J:return fe=F._init,Je(D,A,fe(F._payload),Z)}if(rn(F))return ne(D,A,F,Z);if(H(F))return ie(D,A,F,Z);zl(D,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,A!==null&&A.tag===6?(a(D,A.sibling),A=f(A,F),A.return=D,D=A):(a(D,A),A=Zc(F,D.mode,Z),A.return=D,D=A),v(D)):a(D,A)}return Je}var Jr=Jf(!0),Qf=Jf(!1),bl=Ii(null),Gl=null,Qr=null,sc=null;function oc(){sc=Qr=Gl=null}function lc(n){var s=bl.current;We(bl),n._currentValue=s}function ac(n,s,a){for(;n!==null;){var h=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),n===a)break;n=n.return}}function es(n,s){Gl=n,sc=Qr=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&s&&(Nt=!0),n.firstContext=null)}function cn(n){var s=n._currentValue;if(sc!==n)if(n={context:n,memoizedValue:s,next:null},Qr===null){if(Gl===null)throw Error(t(308));Qr=n,Gl.dependencies={lanes:0,firstContext:n}}else Qr=Qr.next=n;return s}var hr=null;function uc(n){hr===null?hr=[n]:hr.push(n)}function eg(n,s,a,h){var f=s.interleaved;return f===null?(a.next=a,uc(s)):(a.next=f.next,f.next=a),s.interleaved=a,ii(n,h)}function ii(n,s){n.lanes|=s;var a=n.alternate;for(a!==null&&(a.lanes|=s),a=n,n=n.return;n!==null;)n.childLanes|=s,a=n.alternate,a!==null&&(a.childLanes|=s),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Ai=!1;function cc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tg(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ri(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function Pi(n,s,a){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,Ie&2){var f=h.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),h.pending=s,ii(n,a)}return f=h.interleaved,f===null?(s.next=s,uc(h)):(s.next=f.next,f.next=s),h.interleaved=s,ii(n,a)}function Ul(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=n.pendingLanes,a|=h,s.lanes=a,Cu(n,a)}}function ng(n,s){var a=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var v={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?f=m=v:m=m.next=v,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:h.shared,effects:h.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}function jl(n,s,a,h){var f=n.updateQueue;Ai=!1;var m=f.firstBaseUpdate,v=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var L=C,N=L.next;L.next=null,v===null?m=N:v.next=N,v=L;var V=n.alternate;V!==null&&(V=V.updateQueue,C=V.lastBaseUpdate,C!==v&&(C===null?V.firstBaseUpdate=N:C.next=N,V.lastBaseUpdate=L))}if(m!==null){var K=f.baseState;v=0,V=N=L=null,C=m;do{var X=C.lane,Q=C.eventTime;if((h&X)===X){V!==null&&(V=V.next={eventTime:Q,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var ne=n,ie=C;switch(X=s,Q=a,ie.tag){case 1:if(ne=ie.payload,typeof ne=="function"){K=ne.call(Q,K,X);break e}K=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=ie.payload,X=typeof ne=="function"?ne.call(Q,K,X):ne,X==null)break e;K=W({},K,X);break e;case 2:Ai=!0}}C.callback!==null&&C.lane!==0&&(n.flags|=64,X=f.effects,X===null?f.effects=[C]:X.push(C))}else Q={eventTime:Q,lane:X,tag:C.tag,payload:C.payload,callback:C.callback,next:null},V===null?(N=V=Q,L=K):V=V.next=Q,v|=X;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;X=C,C=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);if(V===null&&(L=K),f.baseState=L,f.firstBaseUpdate=N,f.lastBaseUpdate=V,s=f.shared.interleaved,s!==null){f=s;do v|=f.lane,f=f.next;while(f!==s)}else m===null&&(f.shared.lanes=0);gr|=v,n.lanes=v,n.memoizedState=K}}function ig(n,s,a){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var h=n[s],f=h.callback;if(f!==null){if(h.callback=null,h=a,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var uo={},bn=Ii(uo),co=Ii(uo),ho=Ii(uo);function dr(n){if(n===uo)throw Error(t(174));return n}function hc(n,s){switch(Ue(ho,s),Ue(co,n),Ue(bn,uo),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:yi(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=yi(s,n)}We(bn),Ue(bn,s)}function ts(){We(bn),We(co),We(ho)}function rg(n){dr(ho.current);var s=dr(bn.current),a=yi(s,n.type);s!==a&&(Ue(co,n),Ue(bn,a))}function dc(n){co.current===n&&(We(bn),We(co))}var Ve=Ii(0);function Wl(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var fc=[];function gc(){for(var n=0;n<fc.length;n++)fc[n]._workInProgressVersionPrimary=null;fc.length=0}var Bl=T.ReactCurrentDispatcher,pc=T.ReactCurrentBatchConfig,fr=0,Ye=null,nt=null,st=null,Xl=!1,fo=!1,go=0,i1=0;function mt(){throw Error(t(321))}function mc(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!xn(n[a],s[a]))return!1;return!0}function _c(n,s,a,h,f,m){if(fr=m,Ye=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Bl.current=n===null||n.memoizedState===null?l1:a1,n=a(h,f),fo){m=0;do{if(fo=!1,go=0,25<=m)throw Error(t(301));m+=1,st=nt=null,s.updateQueue=null,Bl.current=u1,n=a(h,f)}while(fo)}if(Bl.current=Kl,s=nt!==null&&nt.next!==null,fr=0,st=nt=Ye=null,Xl=!1,s)throw Error(t(300));return n}function yc(){var n=go!==0;return go=0,n}function Gn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Ye.memoizedState=st=n:st=st.next=n,st}function hn(){if(nt===null){var n=Ye.alternate;n=n!==null?n.memoizedState:null}else n=nt.next;var s=st===null?Ye.memoizedState:st.next;if(s!==null)st=s,nt=n;else{if(n===null)throw Error(t(310));nt=n,n={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},st===null?Ye.memoizedState=st=n:st=st.next=n}return st}function po(n,s){return typeof s=="function"?s(n):s}function vc(n){var s=hn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var h=nt,f=h.baseQueue,m=a.pending;if(m!==null){if(f!==null){var v=f.next;f.next=m.next,m.next=v}h.baseQueue=f=m,a.pending=null}if(f!==null){m=f.next,h=h.baseState;var C=v=null,L=null,N=m;do{var V=N.lane;if((fr&V)===V)L!==null&&(L=L.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),h=N.hasEagerState?N.eagerState:n(h,N.action);else{var K={lane:V,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};L===null?(C=L=K,v=h):L=L.next=K,Ye.lanes|=V,gr|=V}N=N.next}while(N!==null&&N!==m);L===null?v=h:L.next=C,xn(h,s.memoizedState)||(Nt=!0),s.memoizedState=h,s.baseState=v,s.baseQueue=L,a.lastRenderedState=h}if(n=a.interleaved,n!==null){f=n;do m=f.lane,Ye.lanes|=m,gr|=m,f=f.next;while(f!==n)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Ec(n){var s=hn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var h=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do m=n(m,v.action),v=v.next;while(v!==f);xn(m,s.memoizedState)||(Nt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,h]}function sg(){}function og(n,s){var a=Ye,h=hn(),f=s(),m=!xn(h.memoizedState,f);if(m&&(h.memoizedState=f,Nt=!0),h=h.queue,wc(ug.bind(null,a,h,n),[n]),h.getSnapshot!==s||m||st!==null&&st.memoizedState.tag&1){if(a.flags|=2048,mo(9,ag.bind(null,a,h,f,s),void 0,null),ot===null)throw Error(t(349));fr&30||lg(a,s,f)}return f}function lg(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Ye.updateQueue,s===null?(s={lastEffect:null,stores:null},Ye.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function ag(n,s,a,h){s.value=a,s.getSnapshot=h,cg(s)&&hg(n)}function ug(n,s,a){return a(function(){cg(s)&&hg(n)})}function cg(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!xn(n,a)}catch{return!0}}function hg(n){var s=ii(n,1);s!==null&&In(s,n,1,-1)}function dg(n){var s=Gn();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:n},s.queue=n,n=n.dispatch=o1.bind(null,Ye,n),[s.memoizedState,n]}function mo(n,s,a,h){return n={tag:n,create:s,destroy:a,deps:h,next:null},s=Ye.updateQueue,s===null?(s={lastEffect:null,stores:null},Ye.updateQueue=s,s.lastEffect=n.next=n):(a=s.lastEffect,a===null?s.lastEffect=n.next=n:(h=a.next,a.next=n,n.next=h,s.lastEffect=n)),n}function fg(){return hn().memoizedState}function Vl(n,s,a,h){var f=Gn();Ye.flags|=n,f.memoizedState=mo(1|s,a,void 0,h===void 0?null:h)}function Yl(n,s,a,h){var f=hn();h=h===void 0?null:h;var m=void 0;if(nt!==null){var v=nt.memoizedState;if(m=v.destroy,h!==null&&mc(h,v.deps)){f.memoizedState=mo(s,a,m,h);return}}Ye.flags|=n,f.memoizedState=mo(1|s,a,m,h)}function gg(n,s){return Vl(8390656,8,n,s)}function wc(n,s){return Yl(2048,8,n,s)}function pg(n,s){return Yl(4,2,n,s)}function mg(n,s){return Yl(4,4,n,s)}function _g(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function yg(n,s,a){return a=a!=null?a.concat([n]):null,Yl(4,4,_g.bind(null,s,n),a)}function xc(){}function vg(n,s){var a=hn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&mc(s,h[1])?h[0]:(a.memoizedState=[n,s],n)}function Eg(n,s){var a=hn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&mc(s,h[1])?h[0]:(n=n(),a.memoizedState=[n,s],n)}function wg(n,s,a){return fr&21?(xn(a,s)||(a=$d(),Ye.lanes|=a,gr|=a,n.baseState=!0),s):(n.baseState&&(n.baseState=!1,Nt=!0),n.memoizedState=a)}function r1(n,s){var a=Ne;Ne=a!==0&&4>a?a:4,n(!0);var h=pc.transition;pc.transition={};try{n(!1),s()}finally{Ne=a,pc.transition=h}}function xg(){return hn().memoizedState}function s1(n,s,a){var h=Fi(n);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},Sg(n))Cg(s,a);else if(a=eg(n,s,a,h),a!==null){var f=kt();In(a,n,h,f),Rg(a,s,h)}}function o1(n,s,a){var h=Fi(n),f={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(Sg(n))Cg(s,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var v=s.lastRenderedState,C=m(v,a);if(f.hasEagerState=!0,f.eagerState=C,xn(C,v)){var L=s.interleaved;L===null?(f.next=f,uc(s)):(f.next=L.next,L.next=f),s.interleaved=f;return}}catch{}finally{}a=eg(n,s,f,h),a!==null&&(f=kt(),In(a,n,h,f),Rg(a,s,h))}}function Sg(n){var s=n.alternate;return n===Ye||s!==null&&s===Ye}function Cg(n,s){fo=Xl=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function Rg(n,s,a){if(a&4194240){var h=s.lanes;h&=n.pendingLanes,a|=h,s.lanes=a,Cu(n,a)}}var Kl={readContext:cn,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},l1={readContext:cn,useCallback:function(n,s){return Gn().memoizedState=[n,s===void 0?null:s],n},useContext:cn,useEffect:gg,useImperativeHandle:function(n,s,a){return a=a!=null?a.concat([n]):null,Vl(4194308,4,_g.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Vl(4194308,4,n,s)},useInsertionEffect:function(n,s){return Vl(4,2,n,s)},useMemo:function(n,s){var a=Gn();return s=s===void 0?null:s,n=n(),a.memoizedState=[n,s],n},useReducer:function(n,s,a){var h=Gn();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},h.queue=n,n=n.dispatch=s1.bind(null,Ye,n),[h.memoizedState,n]},useRef:function(n){var s=Gn();return n={current:n},s.memoizedState=n},useState:dg,useDebugValue:xc,useDeferredValue:function(n){return Gn().memoizedState=n},useTransition:function(){var n=dg(!1),s=n[0];return n=r1.bind(null,n[1]),Gn().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,a){var h=Ye,f=Gn();if(Be){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),ot===null)throw Error(t(349));fr&30||lg(h,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,gg(ug.bind(null,h,m,n),[n]),h.flags|=2048,mo(9,ag.bind(null,h,m,a,s),void 0,null),a},useId:function(){var n=Gn(),s=ot.identifierPrefix;if(Be){var a=ni,h=ti;a=(h&~(1<<32-wn(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=go++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=i1++,s=":"+s+"r"+a.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},a1={readContext:cn,useCallback:vg,useContext:cn,useEffect:wc,useImperativeHandle:yg,useInsertionEffect:pg,useLayoutEffect:mg,useMemo:Eg,useReducer:vc,useRef:fg,useState:function(){return vc(po)},useDebugValue:xc,useDeferredValue:function(n){var s=hn();return wg(s,nt.memoizedState,n)},useTransition:function(){var n=vc(po)[0],s=hn().memoizedState;return[n,s]},useMutableSource:sg,useSyncExternalStore:og,useId:xg,unstable_isNewReconciler:!1},u1={readContext:cn,useCallback:vg,useContext:cn,useEffect:wc,useImperativeHandle:yg,useInsertionEffect:pg,useLayoutEffect:mg,useMemo:Eg,useReducer:Ec,useRef:fg,useState:function(){return Ec(po)},useDebugValue:xc,useDeferredValue:function(n){var s=hn();return nt===null?s.memoizedState=n:wg(s,nt.memoizedState,n)},useTransition:function(){var n=Ec(po)[0],s=hn().memoizedState;return[n,s]},useMutableSource:sg,useSyncExternalStore:og,useId:xg,unstable_isNewReconciler:!1};function Cn(n,s){if(n&&n.defaultProps){s=W({},s),n=n.defaultProps;for(var a in n)s[a]===void 0&&(s[a]=n[a]);return s}return s}function Sc(n,s,a,h){s=n.memoizedState,a=a(h,s),a=a==null?s:W({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Hl={isMounted:function(n){return(n=n._reactInternals)?or(n)===n:!1},enqueueSetState:function(n,s,a){n=n._reactInternals;var h=kt(),f=Fi(n),m=ri(h,f);m.payload=s,a!=null&&(m.callback=a),s=Pi(n,m,f),s!==null&&(In(s,n,f,h),Ul(s,n,f))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var h=kt(),f=Fi(n),m=ri(h,f);m.tag=1,m.payload=s,a!=null&&(m.callback=a),s=Pi(n,m,f),s!==null&&(In(s,n,f,h),Ul(s,n,f))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=kt(),h=Fi(n),f=ri(a,h);f.tag=2,s!=null&&(f.callback=s),s=Pi(n,f,h),s!==null&&(In(s,n,h,a),Ul(s,n,h))}};function Tg(n,s,a,h,f,m,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,m,v):s.prototype&&s.prototype.isPureReactComponent?!to(a,h)||!to(f,m):!0}function Ig(n,s,a){var h=!1,f=Li,m=s.contextType;return typeof m=="object"&&m!==null?m=cn(m):(f=Ft(s)?ar:pt.current,h=s.contextTypes,m=(h=h!=null)?Hr(n,f):Li),s=new s(a,m),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Hl,n.stateNode=s,s._reactInternals=n,h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=f,n.__reactInternalMemoizedMaskedChildContext=m),s}function Lg(n,s,a,h){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==n&&Hl.enqueueReplaceState(s,s.state,null)}function Cc(n,s,a,h){var f=n.stateNode;f.props=a,f.state=n.memoizedState,f.refs={},cc(n);var m=s.contextType;typeof m=="object"&&m!==null?f.context=cn(m):(m=Ft(s)?ar:pt.current,f.context=Hr(n,m)),f.state=n.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(Sc(n,s,m,a),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Hl.enqueueReplaceState(f,f.state,null),jl(n,a,f,h),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308)}function ns(n,s){try{var a="",h=s;do a+=ae(h),h=h.return;while(h);var f=a}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:s,stack:f,digest:null}}function Rc(n,s,a){return{value:n,source:null,stack:a??null,digest:s??null}}function Tc(n,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var c1=typeof WeakMap=="function"?WeakMap:Map;function kg(n,s,a){a=ri(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){ta||(ta=!0,jc=h),Tc(n,s)},a}function Ag(n,s,a){a=ri(-1,a),a.tag=3;var h=n.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;a.payload=function(){return h(f)},a.callback=function(){Tc(n,s)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Tc(n,s),typeof h!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})}),a}function Pg(n,s,a){var h=n.pingCache;if(h===null){h=n.pingCache=new c1;var f=new Set;h.set(s,f)}else f=h.get(s),f===void 0&&(f=new Set,h.set(s,f));f.has(a)||(f.add(a),n=C1.bind(null,n,s,a),s.then(n,n))}function Mg(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Og(n,s,a,h,f){return n.mode&1?(n.flags|=65536,n.lanes=f,n):(n===s?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=ri(-1,1),s.tag=2,Pi(a,s,1))),a.lanes|=1),n)}var h1=T.ReactCurrentOwner,Nt=!1;function Lt(n,s,a,h){s.child=n===null?Qf(s,null,a,h):Jr(s,n.child,a,h)}function Dg(n,s,a,h,f){a=a.render;var m=s.ref;return es(s,f),h=_c(n,s,a,h,m,f),a=yc(),n!==null&&!Nt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~f,si(n,s,f)):(Be&&a&&ec(s),s.flags|=1,Lt(n,s,h,f),s.child)}function Fg(n,s,a,h,f){if(n===null){var m=a.type;return typeof m=="function"&&!Hc(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=m,Ng(n,s,m,h,f)):(n=la(a.type,null,h,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(m=n.child,!(n.lanes&f)){var v=m.memoizedProps;if(a=a.compare,a=a!==null?a:to,a(v,h)&&n.ref===s.ref)return si(n,s,f)}return s.flags|=1,n=zi(m,h),n.ref=s.ref,n.return=s,s.child=n}function Ng(n,s,a,h,f){if(n!==null){var m=n.memoizedProps;if(to(m,h)&&n.ref===s.ref)if(Nt=!1,s.pendingProps=h=m,(n.lanes&f)!==0)n.flags&131072&&(Nt=!0);else return s.lanes=n.lanes,si(n,s,f)}return Ic(n,s,a,h,f)}function zg(n,s,a){var h=s.pendingProps,f=h.children,m=n!==null?n.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(rs,en),en|=a;else{if(!(a&1073741824))return n=m!==null?m.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,Ue(rs,en),en|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=m!==null?m.baseLanes:a,Ue(rs,en),en|=h}else m!==null?(h=m.baseLanes|a,s.memoizedState=null):h=a,Ue(rs,en),en|=h;return Lt(n,s,f,a),s.child}function bg(n,s){var a=s.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Ic(n,s,a,h,f){var m=Ft(a)?ar:pt.current;return m=Hr(s,m),es(s,f),a=_c(n,s,a,h,m,f),h=yc(),n!==null&&!Nt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~f,si(n,s,f)):(Be&&h&&ec(s),s.flags|=1,Lt(n,s,a,f),s.child)}function Gg(n,s,a,h,f){if(Ft(a)){var m=!0;Ml(s)}else m=!1;if(es(s,f),s.stateNode===null)$l(n,s),Ig(s,a,h),Cc(s,a,h,f),h=!0;else if(n===null){var v=s.stateNode,C=s.memoizedProps;v.props=C;var L=v.context,N=a.contextType;typeof N=="object"&&N!==null?N=cn(N):(N=Ft(a)?ar:pt.current,N=Hr(s,N));var V=a.getDerivedStateFromProps,K=typeof V=="function"||typeof v.getSnapshotBeforeUpdate=="function";K||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==h||L!==N)&&Lg(s,v,h,N),Ai=!1;var X=s.memoizedState;v.state=X,jl(s,h,v,f),L=s.memoizedState,C!==h||X!==L||Dt.current||Ai?(typeof V=="function"&&(Sc(s,a,V,h),L=s.memoizedState),(C=Ai||Tg(s,a,C,h,X,L,N))?(K||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=L),v.props=h,v.state=L,v.context=N,h=C):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{v=s.stateNode,tg(n,s),C=s.memoizedProps,N=s.type===s.elementType?C:Cn(s.type,C),v.props=N,K=s.pendingProps,X=v.context,L=a.contextType,typeof L=="object"&&L!==null?L=cn(L):(L=Ft(a)?ar:pt.current,L=Hr(s,L));var Q=a.getDerivedStateFromProps;(V=typeof Q=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==K||X!==L)&&Lg(s,v,h,L),Ai=!1,X=s.memoizedState,v.state=X,jl(s,h,v,f);var ne=s.memoizedState;C!==K||X!==ne||Dt.current||Ai?(typeof Q=="function"&&(Sc(s,a,Q,h),ne=s.memoizedState),(N=Ai||Tg(s,a,N,h,X,ne,L)||!1)?(V||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(h,ne,L),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(h,ne,L)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===n.memoizedProps&&X===n.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&X===n.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ne),v.props=h,v.state=ne,v.context=L,h=N):(typeof v.componentDidUpdate!="function"||C===n.memoizedProps&&X===n.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&X===n.memoizedState||(s.flags|=1024),h=!1)}return Lc(n,s,a,h,m,f)}function Lc(n,s,a,h,f,m){bg(n,s);var v=(s.flags&128)!==0;if(!h&&!v)return f&&Xf(s,a,!1),si(n,s,m);h=s.stateNode,h1.current=s;var C=v&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,n!==null&&v?(s.child=Jr(s,n.child,null,m),s.child=Jr(s,null,C,m)):Lt(n,s,C,m),s.memoizedState=h.state,f&&Xf(s,a,!0),s.child}function Ug(n){var s=n.stateNode;s.pendingContext?Wf(n,s.pendingContext,s.pendingContext!==s.context):s.context&&Wf(n,s.context,!1),hc(n,s.containerInfo)}function jg(n,s,a,h,f){return qr(),rc(f),s.flags|=256,Lt(n,s,a,h),s.child}var kc={dehydrated:null,treeContext:null,retryLane:0};function Ac(n){return{baseLanes:n,cachePool:null,transitions:null}}function Wg(n,s,a){var h=s.pendingProps,f=Ve.current,m=!1,v=(s.flags&128)!==0,C;if((C=v)||(C=n!==null&&n.memoizedState===null?!1:(f&2)!==0),C?(m=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(f|=1),Ue(Ve,f&1),n===null)return ic(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(s.mode&1?n.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(v=h.children,n=h.fallback,m?(h=s.mode,m=s.child,v={mode:"hidden",children:v},!(h&1)&&m!==null?(m.childLanes=0,m.pendingProps=v):m=aa(v,h,0,null),n=yr(n,h,a,null),m.return=s,n.return=s,m.sibling=n,s.child=m,s.child.memoizedState=Ac(a),s.memoizedState=kc,n):Pc(s,v));if(f=n.memoizedState,f!==null&&(C=f.dehydrated,C!==null))return d1(n,s,v,h,C,f,a);if(m){m=h.fallback,v=s.mode,f=n.child,C=f.sibling;var L={mode:"hidden",children:h.children};return!(v&1)&&s.child!==f?(h=s.child,h.childLanes=0,h.pendingProps=L,s.deletions=null):(h=zi(f,L),h.subtreeFlags=f.subtreeFlags&14680064),C!==null?m=zi(C,m):(m=yr(m,v,a,null),m.flags|=2),m.return=s,h.return=s,h.sibling=m,s.child=h,h=m,m=s.child,v=n.child.memoizedState,v=v===null?Ac(a):{baseLanes:v.baseLanes|a,cachePool:null,transitions:v.transitions},m.memoizedState=v,m.childLanes=n.childLanes&~a,s.memoizedState=kc,h}return m=n.child,n=m.sibling,h=zi(m,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=a),h.return=s,h.sibling=null,n!==null&&(a=s.deletions,a===null?(s.deletions=[n],s.flags|=16):a.push(n)),s.child=h,s.memoizedState=null,h}function Pc(n,s){return s=aa({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function Zl(n,s,a,h){return h!==null&&rc(h),Jr(s,n.child,null,a),n=Pc(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function d1(n,s,a,h,f,m,v){if(a)return s.flags&256?(s.flags&=-257,h=Rc(Error(t(422))),Zl(n,s,v,h)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(m=h.fallback,f=s.mode,h=aa({mode:"visible",children:h.children},f,0,null),m=yr(m,f,v,null),m.flags|=2,h.return=s,m.return=s,h.sibling=m,s.child=h,s.mode&1&&Jr(s,n.child,null,v),s.child.memoizedState=Ac(v),s.memoizedState=kc,m);if(!(s.mode&1))return Zl(n,s,v,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var C=h.dgst;return h=C,m=Error(t(419)),h=Rc(m,h,void 0),Zl(n,s,v,h)}if(C=(v&n.childLanes)!==0,Nt||C){if(h=ot,h!==null){switch(v&-v){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(h.suspendedLanes|v)?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,ii(n,f),In(h,n,f,-1))}return Kc(),h=Rc(Error(t(421))),Zl(n,s,v,h)}return f.data==="$?"?(s.flags|=128,s.child=n.child,s=R1.bind(null,n),f._reactRetry=s,null):(n=m.treeContext,Qt=Ti(f.nextSibling),Jt=s,Be=!0,Sn=null,n!==null&&(an[un++]=ti,an[un++]=ni,an[un++]=ur,ti=n.id,ni=n.overflow,ur=s),s=Pc(s,h.children),s.flags|=4096,s)}function Bg(n,s,a){n.lanes|=s;var h=n.alternate;h!==null&&(h.lanes|=s),ac(n.return,s,a)}function Mc(n,s,a,h,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:f}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=h,m.tail=a,m.tailMode=f)}function Xg(n,s,a){var h=s.pendingProps,f=h.revealOrder,m=h.tail;if(Lt(n,s,h.children,a),h=Ve.current,h&2)h=h&1|2,s.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Bg(n,a,s);else if(n.tag===19)Bg(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}h&=1}if(Ue(Ve,h),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)n=a.alternate,n!==null&&Wl(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Mc(s,!1,f,a,m);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&Wl(n)===null){s.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Mc(s,!0,a,null,m);break;case"together":Mc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function $l(n,s){!(s.mode&1)&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function si(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),gr|=s.lanes,!(a&s.childLanes))return null;if(n!==null&&s.child!==n.child)throw Error(t(153));if(s.child!==null){for(n=s.child,a=zi(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=zi(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function f1(n,s,a){switch(s.tag){case 3:Ug(s),qr();break;case 5:rg(s);break;case 1:Ft(s.type)&&Ml(s);break;case 4:hc(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,f=s.memoizedProps.value;Ue(bl,h._currentValue),h._currentValue=f;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ue(Ve,Ve.current&1),s.flags|=128,null):a&s.child.childLanes?Wg(n,s,a):(Ue(Ve,Ve.current&1),n=si(n,s,a),n!==null?n.sibling:null);Ue(Ve,Ve.current&1);break;case 19:if(h=(a&s.childLanes)!==0,n.flags&128){if(h)return Xg(n,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ue(Ve,Ve.current),h)break;return null;case 22:case 23:return s.lanes=0,zg(n,s,a)}return si(n,s,a)}var Vg,Oc,Yg,Kg;Vg=function(n,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Oc=function(){},Yg=function(n,s,a,h){var f=n.memoizedProps;if(f!==h){n=s.stateNode,dr(bn.current);var m=null;switch(a){case"input":f=nn(n,f),h=nn(n,h),m=[];break;case"select":f=W({},f,{value:void 0}),h=W({},h,{value:void 0}),m=[];break;case"textarea":f=Zt(n,f),h=Zt(n,h),m=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(n.onclick=kl)}rr(a,h);var v;a=null;for(N in f)if(!h.hasOwnProperty(N)&&f.hasOwnProperty(N)&&f[N]!=null)if(N==="style"){var C=f[N];for(v in C)C.hasOwnProperty(v)&&(a||(a={}),a[v]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(o.hasOwnProperty(N)?m||(m=[]):(m=m||[]).push(N,null));for(N in h){var L=h[N];if(C=f!=null?f[N]:void 0,h.hasOwnProperty(N)&&L!==C&&(L!=null||C!=null))if(N==="style")if(C){for(v in C)!C.hasOwnProperty(v)||L&&L.hasOwnProperty(v)||(a||(a={}),a[v]="");for(v in L)L.hasOwnProperty(v)&&C[v]!==L[v]&&(a||(a={}),a[v]=L[v])}else a||(m||(m=[]),m.push(N,a)),a=L;else N==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,C=C?C.__html:void 0,L!=null&&C!==L&&(m=m||[]).push(N,L)):N==="children"?typeof L!="string"&&typeof L!="number"||(m=m||[]).push(N,""+L):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(o.hasOwnProperty(N)?(L!=null&&N==="onScroll"&&je("scroll",n),m||C===L||(m=[])):(m=m||[]).push(N,L))}a&&(m=m||[]).push("style",a);var N=m;(s.updateQueue=N)&&(s.flags|=4)}},Kg=function(n,s,a,h){a!==h&&(s.flags|=4)};function _o(n,s){if(!Be)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function _t(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,h=0;if(s)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=h,n.childLanes=a,s}function g1(n,s,a){var h=s.pendingProps;switch(tc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(s),null;case 1:return Ft(s.type)&&Pl(),_t(s),null;case 3:return h=s.stateNode,ts(),We(Dt),We(pt),gc(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(n===null||n.child===null)&&(Nl(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Sn!==null&&(Xc(Sn),Sn=null))),Oc(n,s),_t(s),null;case 5:dc(s);var f=dr(ho.current);if(a=s.type,n!==null&&s.stateNode!=null)Yg(n,s,a,h,f),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return _t(s),null}if(n=dr(bn.current),Nl(s)){h=s.stateNode,a=s.type;var m=s.memoizedProps;switch(h[zn]=s,h[oo]=m,n=(s.mode&1)!==0,a){case"dialog":je("cancel",h),je("close",h);break;case"iframe":case"object":case"embed":je("load",h);break;case"video":case"audio":for(f=0;f<io.length;f++)je(io[f],h);break;case"source":je("error",h);break;case"img":case"image":case"link":je("error",h),je("load",h);break;case"details":je("toggle",h);break;case"input":_i(h,m),je("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!m.multiple},je("invalid",h);break;case"textarea":Dn(h,m),je("invalid",h)}rr(a,m),f=null;for(var v in m)if(m.hasOwnProperty(v)){var C=m[v];v==="children"?typeof C=="string"?h.textContent!==C&&(m.suppressHydrationWarning!==!0&&Ll(h.textContent,C,n),f=["children",C]):typeof C=="number"&&h.textContent!==""+C&&(m.suppressHydrationWarning!==!0&&Ll(h.textContent,C,n),f=["children",""+C]):o.hasOwnProperty(v)&&C!=null&&v==="onScroll"&&je("scroll",h)}switch(a){case"input":Hn(h),$n(h,m,!0);break;case"textarea":Hn(h),Fr(h);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(h.onclick=kl)}h=f,s.updateQueue=h,h!==null&&(s.flags|=4)}else{v=f.nodeType===9?f:f.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ir(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=v.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof h.is=="string"?n=v.createElement(a,{is:h.is}):(n=v.createElement(a),a==="select"&&(v=n,h.multiple?v.multiple=!0:h.size&&(v.size=h.size))):n=v.createElementNS(n,a),n[zn]=s,n[oo]=h,Vg(n,s,!1,!1),s.stateNode=n;e:{switch(v=zr(a,h),a){case"dialog":je("cancel",n),je("close",n),f=h;break;case"iframe":case"object":case"embed":je("load",n),f=h;break;case"video":case"audio":for(f=0;f<io.length;f++)je(io[f],n);f=h;break;case"source":je("error",n),f=h;break;case"img":case"image":case"link":je("error",n),je("load",n),f=h;break;case"details":je("toggle",n),f=h;break;case"input":_i(n,h),f=nn(n,h),je("invalid",n);break;case"option":f=h;break;case"select":n._wrapperState={wasMultiple:!!h.multiple},f=W({},h,{value:void 0}),je("invalid",n);break;case"textarea":Dn(n,h),f=Zt(n,h),je("invalid",n);break;default:f=h}rr(a,f),C=f;for(m in C)if(C.hasOwnProperty(m)){var L=C[m];m==="style"?Gs(n,L):m==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&bs(n,L)):m==="children"?typeof L=="string"?(a!=="textarea"||L!=="")&&vi(n,L):typeof L=="number"&&vi(n,""+L):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?L!=null&&m==="onScroll"&&je("scroll",n):L!=null&&O(n,m,L,v))}switch(a){case"input":Hn(n),$n(n,h,!1);break;case"textarea":Hn(n),Fr(n);break;case"option":h.value!=null&&n.setAttribute("value",""+ve(h.value));break;case"select":n.multiple=!!h.multiple,m=h.value,m!=null?sn(n,!!h.multiple,m,!1):h.defaultValue!=null&&sn(n,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(n.onclick=kl)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return _t(s),null;case 6:if(n&&s.stateNode!=null)Kg(n,s,n.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=dr(ho.current),dr(bn.current),Nl(s)){if(h=s.stateNode,a=s.memoizedProps,h[zn]=s,(m=h.nodeValue!==a)&&(n=Jt,n!==null))switch(n.tag){case 3:Ll(h.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Ll(h.nodeValue,a,(n.mode&1)!==0)}m&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[zn]=s,s.stateNode=h}return _t(s),null;case 13:if(We(Ve),h=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Be&&Qt!==null&&s.mode&1&&!(s.flags&128))$f(),qr(),s.flags|=98560,m=!1;else if(m=Nl(s),h!==null&&h.dehydrated!==null){if(n===null){if(!m)throw Error(t(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[zn]=s}else qr(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;_t(s),m=!1}else Sn!==null&&(Xc(Sn),Sn=null),m=!0;if(!m)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(h=h!==null,h!==(n!==null&&n.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(n===null||Ve.current&1?it===0&&(it=3):Kc())),s.updateQueue!==null&&(s.flags|=4),_t(s),null);case 4:return ts(),Oc(n,s),n===null&&ro(s.stateNode.containerInfo),_t(s),null;case 10:return lc(s.type._context),_t(s),null;case 17:return Ft(s.type)&&Pl(),_t(s),null;case 19:if(We(Ve),m=s.memoizedState,m===null)return _t(s),null;if(h=(s.flags&128)!==0,v=m.rendering,v===null)if(h)_o(m,!1);else{if(it!==0||n!==null&&n.flags&128)for(n=s.child;n!==null;){if(v=Wl(n),v!==null){for(s.flags|=128,_o(m,!1),h=v.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)m=a,n=h,m.flags&=14680066,v=m.alternate,v===null?(m.childLanes=0,m.lanes=n,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=v.childLanes,m.lanes=v.lanes,m.child=v.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=v.memoizedProps,m.memoizedState=v.memoizedState,m.updateQueue=v.updateQueue,m.type=v.type,n=v.dependencies,m.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Ue(Ve,Ve.current&1|2),s.child}n=n.sibling}m.tail!==null&&qe()>ss&&(s.flags|=128,h=!0,_o(m,!1),s.lanes=4194304)}else{if(!h)if(n=Wl(v),n!==null){if(s.flags|=128,h=!0,a=n.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),_o(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!Be)return _t(s),null}else 2*qe()-m.renderingStartTime>ss&&a!==1073741824&&(s.flags|=128,h=!0,_o(m,!1),s.lanes=4194304);m.isBackwards?(v.sibling=s.child,s.child=v):(a=m.last,a!==null?a.sibling=v:s.child=v,m.last=v)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=qe(),s.sibling=null,a=Ve.current,Ue(Ve,h?a&1|2:a&1),s):(_t(s),null);case 22:case 23:return Yc(),h=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?en&1073741824&&(_t(s),s.subtreeFlags&6&&(s.flags|=8192)):_t(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function p1(n,s){switch(tc(s),s.tag){case 1:return Ft(s.type)&&Pl(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ts(),We(Dt),We(pt),gc(),n=s.flags,n&65536&&!(n&128)?(s.flags=n&-65537|128,s):null;case 5:return dc(s),null;case 13:if(We(Ve),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(t(340));qr()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return We(Ve),null;case 4:return ts(),null;case 10:return lc(s.type._context),null;case 22:case 23:return Yc(),null;case 24:return null;default:return null}}var ql=!1,yt=!1,m1=typeof WeakSet=="function"?WeakSet:Set,te=null;function is(n,s){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){Ke(n,s,h)}else a.current=null}function Dc(n,s,a){try{a()}catch(h){Ke(n,s,h)}}var Hg=!1;function _1(n,s){if(Yu=_l,n=Tf(),bu(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var f=h.anchorOffset,m=h.focusNode;h=h.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var v=0,C=-1,L=-1,N=0,V=0,K=n,X=null;t:for(;;){for(var Q;K!==a||f!==0&&K.nodeType!==3||(C=v+f),K!==m||h!==0&&K.nodeType!==3||(L=v+h),K.nodeType===3&&(v+=K.nodeValue.length),(Q=K.firstChild)!==null;)X=K,K=Q;for(;;){if(K===n)break t;if(X===a&&++N===f&&(C=v),X===m&&++V===h&&(L=v),(Q=K.nextSibling)!==null)break;K=X,X=K.parentNode}K=Q}a=C===-1||L===-1?null:{start:C,end:L}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ku={focusedElem:n,selectionRange:a},_l=!1,te=s;te!==null;)if(s=te,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,te=n;else for(;te!==null;){s=te;try{var ne=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ne!==null){var ie=ne.memoizedProps,Je=ne.memoizedState,D=s.stateNode,A=D.getSnapshotBeforeUpdate(s.elementType===s.type?ie:Cn(s.type,ie),Je);D.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var F=s.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Z){Ke(s,s.return,Z)}if(n=s.sibling,n!==null){n.return=s.return,te=n;break}te=s.return}return ne=Hg,Hg=!1,ne}function yo(n,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&n)===n){var m=f.destroy;f.destroy=void 0,m!==void 0&&Dc(s,a,m)}f=f.next}while(f!==h)}}function Jl(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&n)===n){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function Fc(n){var s=n.ref;if(s!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof s=="function"?s(n):s.current=n}}function Zg(n){var s=n.alternate;s!==null&&(n.alternate=null,Zg(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[zn],delete s[oo],delete s[qu],delete s[Q0],delete s[e1])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function $g(n){return n.tag===5||n.tag===3||n.tag===4}function qg(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||$g(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Nc(n,s,a){var h=n.tag;if(h===5||h===6)n=n.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(n,s):a.insertBefore(n,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(n,a)):(s=a,s.appendChild(n)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=kl));else if(h!==4&&(n=n.child,n!==null))for(Nc(n,s,a),n=n.sibling;n!==null;)Nc(n,s,a),n=n.sibling}function zc(n,s,a){var h=n.tag;if(h===5||h===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(h!==4&&(n=n.child,n!==null))for(zc(n,s,a),n=n.sibling;n!==null;)zc(n,s,a),n=n.sibling}var dt=null,Rn=!1;function Mi(n,s,a){for(a=a.child;a!==null;)Jg(n,s,a),a=a.sibling}function Jg(n,s,a){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(hl,a)}catch{}switch(a.tag){case 5:yt||is(a,s);case 6:var h=dt,f=Rn;dt=null,Mi(n,s,a),dt=h,Rn=f,dt!==null&&(Rn?(n=dt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):dt.removeChild(a.stateNode));break;case 18:dt!==null&&(Rn?(n=dt,a=a.stateNode,n.nodeType===8?$u(n.parentNode,a):n.nodeType===1&&$u(n,a),Zs(n)):$u(dt,a.stateNode));break;case 4:h=dt,f=Rn,dt=a.stateNode.containerInfo,Rn=!0,Mi(n,s,a),dt=h,Rn=f;break;case 0:case 11:case 14:case 15:if(!yt&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var m=f,v=m.destroy;m=m.tag,v!==void 0&&(m&2||m&4)&&Dc(a,s,v),f=f.next}while(f!==h)}Mi(n,s,a);break;case 1:if(!yt&&(is(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(C){Ke(a,s,C)}Mi(n,s,a);break;case 21:Mi(n,s,a);break;case 22:a.mode&1?(yt=(h=yt)||a.memoizedState!==null,Mi(n,s,a),yt=h):Mi(n,s,a);break;default:Mi(n,s,a)}}function Qg(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new m1),s.forEach(function(h){var f=T1.bind(null,n,h);a.has(h)||(a.add(h),h.then(f,f))})}}function Tn(n,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var f=a[h];try{var m=n,v=s,C=v;e:for(;C!==null;){switch(C.tag){case 5:dt=C.stateNode,Rn=!1;break e;case 3:dt=C.stateNode.containerInfo,Rn=!0;break e;case 4:dt=C.stateNode.containerInfo,Rn=!0;break e}C=C.return}if(dt===null)throw Error(t(160));Jg(m,v,f),dt=null,Rn=!1;var L=f.alternate;L!==null&&(L.return=null),f.return=null}catch(N){Ke(f,s,N)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ep(s,n),s=s.sibling}function ep(n,s){var a=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Tn(s,n),Un(n),h&4){try{yo(3,n,n.return),Jl(3,n)}catch(ie){Ke(n,n.return,ie)}try{yo(5,n,n.return)}catch(ie){Ke(n,n.return,ie)}}break;case 1:Tn(s,n),Un(n),h&512&&a!==null&&is(a,a.return);break;case 5:if(Tn(s,n),Un(n),h&512&&a!==null&&is(a,a.return),n.flags&32){var f=n.stateNode;try{vi(f,"")}catch(ie){Ke(n,n.return,ie)}}if(h&4&&(f=n.stateNode,f!=null)){var m=n.memoizedProps,v=a!==null?a.memoizedProps:m,C=n.type,L=n.updateQueue;if(n.updateQueue=null,L!==null)try{C==="input"&&m.type==="radio"&&m.name!=null&&Ht(f,m),zr(C,v);var N=zr(C,m);for(v=0;v<L.length;v+=2){var V=L[v],K=L[v+1];V==="style"?Gs(f,K):V==="dangerouslySetInnerHTML"?bs(f,K):V==="children"?vi(f,K):O(f,V,K,N)}switch(C){case"input":Mt(f,m);break;case"textarea":tt(f,m);break;case"select":var X=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var Q=m.value;Q!=null?sn(f,!!m.multiple,Q,!1):X!==!!m.multiple&&(m.defaultValue!=null?sn(f,!!m.multiple,m.defaultValue,!0):sn(f,!!m.multiple,m.multiple?[]:"",!1))}f[oo]=m}catch(ie){Ke(n,n.return,ie)}}break;case 6:if(Tn(s,n),Un(n),h&4){if(n.stateNode===null)throw Error(t(162));f=n.stateNode,m=n.memoizedProps;try{f.nodeValue=m}catch(ie){Ke(n,n.return,ie)}}break;case 3:if(Tn(s,n),Un(n),h&4&&a!==null&&a.memoizedState.isDehydrated)try{Zs(s.containerInfo)}catch(ie){Ke(n,n.return,ie)}break;case 4:Tn(s,n),Un(n);break;case 13:Tn(s,n),Un(n),f=n.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(Uc=qe())),h&4&&Qg(n);break;case 22:if(V=a!==null&&a.memoizedState!==null,n.mode&1?(yt=(N=yt)||V,Tn(s,n),yt=N):Tn(s,n),Un(n),h&8192){if(N=n.memoizedState!==null,(n.stateNode.isHidden=N)&&!V&&n.mode&1)for(te=n,V=n.child;V!==null;){for(K=te=V;te!==null;){switch(X=te,Q=X.child,X.tag){case 0:case 11:case 14:case 15:yo(4,X,X.return);break;case 1:is(X,X.return);var ne=X.stateNode;if(typeof ne.componentWillUnmount=="function"){h=X,a=X.return;try{s=h,ne.props=s.memoizedProps,ne.state=s.memoizedState,ne.componentWillUnmount()}catch(ie){Ke(h,a,ie)}}break;case 5:is(X,X.return);break;case 22:if(X.memoizedState!==null){ip(K);continue}}Q!==null?(Q.return=X,te=Q):ip(K)}V=V.sibling}e:for(V=null,K=n;;){if(K.tag===5){if(V===null){V=K;try{f=K.stateNode,N?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(C=K.stateNode,L=K.memoizedProps.style,v=L!=null&&L.hasOwnProperty("display")?L.display:null,C.style.display=ll("display",v))}catch(ie){Ke(n,n.return,ie)}}}else if(K.tag===6){if(V===null)try{K.stateNode.nodeValue=N?"":K.memoizedProps}catch(ie){Ke(n,n.return,ie)}}else if((K.tag!==22&&K.tag!==23||K.memoizedState===null||K===n)&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===n)break e;for(;K.sibling===null;){if(K.return===null||K.return===n)break e;V===K&&(V=null),K=K.return}V===K&&(V=null),K.sibling.return=K.return,K=K.sibling}}break;case 19:Tn(s,n),Un(n),h&4&&Qg(n);break;case 21:break;default:Tn(s,n),Un(n)}}function Un(n){var s=n.flags;if(s&2){try{e:{for(var a=n.return;a!==null;){if($g(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(vi(f,""),h.flags&=-33);var m=qg(n);zc(n,m,f);break;case 3:case 4:var v=h.stateNode.containerInfo,C=qg(n);Nc(n,C,v);break;default:throw Error(t(161))}}catch(L){Ke(n,n.return,L)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function y1(n,s,a){te=n,tp(n)}function tp(n,s,a){for(var h=(n.mode&1)!==0;te!==null;){var f=te,m=f.child;if(f.tag===22&&h){var v=f.memoizedState!==null||ql;if(!v){var C=f.alternate,L=C!==null&&C.memoizedState!==null||yt;C=ql;var N=yt;if(ql=v,(yt=L)&&!N)for(te=f;te!==null;)v=te,L=v.child,v.tag===22&&v.memoizedState!==null?rp(f):L!==null?(L.return=v,te=L):rp(f);for(;m!==null;)te=m,tp(m),m=m.sibling;te=f,ql=C,yt=N}np(n)}else f.subtreeFlags&8772&&m!==null?(m.return=f,te=m):np(n)}}function np(n){for(;te!==null;){var s=te;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:yt||Jl(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!yt)if(a===null)h.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:Cn(s.type,a.memoizedProps);h.componentDidUpdate(f,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var m=s.updateQueue;m!==null&&ig(s,m,h);break;case 3:var v=s.updateQueue;if(v!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}ig(s,v,a)}break;case 5:var C=s.stateNode;if(a===null&&s.flags&4){a=C;var L=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&a.focus();break;case"img":L.src&&(a.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var N=s.alternate;if(N!==null){var V=N.memoizedState;if(V!==null){var K=V.dehydrated;K!==null&&Zs(K)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}yt||s.flags&512&&Fc(s)}catch(X){Ke(s,s.return,X)}}if(s===n){te=null;break}if(a=s.sibling,a!==null){a.return=s.return,te=a;break}te=s.return}}function ip(n){for(;te!==null;){var s=te;if(s===n){te=null;break}var a=s.sibling;if(a!==null){a.return=s.return,te=a;break}te=s.return}}function rp(n){for(;te!==null;){var s=te;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Jl(4,s)}catch(L){Ke(s,a,L)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var f=s.return;try{h.componentDidMount()}catch(L){Ke(s,f,L)}}var m=s.return;try{Fc(s)}catch(L){Ke(s,m,L)}break;case 5:var v=s.return;try{Fc(s)}catch(L){Ke(s,v,L)}}}catch(L){Ke(s,s.return,L)}if(s===n){te=null;break}var C=s.sibling;if(C!==null){C.return=s.return,te=C;break}te=s.return}}var v1=Math.ceil,Ql=T.ReactCurrentDispatcher,bc=T.ReactCurrentOwner,dn=T.ReactCurrentBatchConfig,Ie=0,ot=null,Qe=null,ft=0,en=0,rs=Ii(0),it=0,vo=null,gr=0,ea=0,Gc=0,Eo=null,zt=null,Uc=0,ss=1/0,oi=null,ta=!1,jc=null,Oi=null,na=!1,Di=null,ia=0,wo=0,Wc=null,ra=-1,sa=0;function kt(){return Ie&6?qe():ra!==-1?ra:ra=qe()}function Fi(n){return n.mode&1?Ie&2&&ft!==0?ft&-ft:n1.transition!==null?(sa===0&&(sa=$d()),sa):(n=Ne,n!==0||(n=window.event,n=n===void 0?16:of(n.type)),n):1}function In(n,s,a,h){if(50<wo)throw wo=0,Wc=null,Error(t(185));Xs(n,a,h),(!(Ie&2)||n!==ot)&&(n===ot&&(!(Ie&2)&&(ea|=a),it===4&&Ni(n,ft)),bt(n,h),a===1&&Ie===0&&!(s.mode&1)&&(ss=qe()+500,Ol&&ki()))}function bt(n,s){var a=n.callbackNode;n0(n,s);var h=gl(n,n===ot?ft:0);if(h===0)a!==null&&Kd(a),n.callbackNode=null,n.callbackPriority=0;else if(s=h&-h,n.callbackPriority!==s){if(a!=null&&Kd(a),s===1)n.tag===0?t1(op.bind(null,n)):Vf(op.bind(null,n)),q0(function(){!(Ie&6)&&ki()}),a=null;else{switch(qd(h)){case 1:a=wu;break;case 4:a=Hd;break;case 16:a=cl;break;case 536870912:a=Zd;break;default:a=cl}a=gp(a,sp.bind(null,n))}n.callbackPriority=s,n.callbackNode=a}}function sp(n,s){if(ra=-1,sa=0,Ie&6)throw Error(t(327));var a=n.callbackNode;if(os()&&n.callbackNode!==a)return null;var h=gl(n,n===ot?ft:0);if(h===0)return null;if(h&30||h&n.expiredLanes||s)s=oa(n,h);else{s=h;var f=Ie;Ie|=2;var m=ap();(ot!==n||ft!==s)&&(oi=null,ss=qe()+500,mr(n,s));do try{x1();break}catch(C){lp(n,C)}while(!0);oc(),Ql.current=m,Ie=f,Qe!==null?s=0:(ot=null,ft=0,s=it)}if(s!==0){if(s===2&&(f=xu(n),f!==0&&(h=f,s=Bc(n,f))),s===1)throw a=vo,mr(n,0),Ni(n,h),bt(n,qe()),a;if(s===6)Ni(n,h);else{if(f=n.current.alternate,!(h&30)&&!E1(f)&&(s=oa(n,h),s===2&&(m=xu(n),m!==0&&(h=m,s=Bc(n,m))),s===1))throw a=vo,mr(n,0),Ni(n,h),bt(n,qe()),a;switch(n.finishedWork=f,n.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:_r(n,zt,oi);break;case 3:if(Ni(n,h),(h&130023424)===h&&(s=Uc+500-qe(),10<s)){if(gl(n,0)!==0)break;if(f=n.suspendedLanes,(f&h)!==h){kt(),n.pingedLanes|=n.suspendedLanes&f;break}n.timeoutHandle=Zu(_r.bind(null,n,zt,oi),s);break}_r(n,zt,oi);break;case 4:if(Ni(n,h),(h&4194240)===h)break;for(s=n.eventTimes,f=-1;0<h;){var v=31-wn(h);m=1<<v,v=s[v],v>f&&(f=v),h&=~m}if(h=f,h=qe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*v1(h/1960))-h,10<h){n.timeoutHandle=Zu(_r.bind(null,n,zt,oi),h);break}_r(n,zt,oi);break;case 5:_r(n,zt,oi);break;default:throw Error(t(329))}}}return bt(n,qe()),n.callbackNode===a?sp.bind(null,n):null}function Bc(n,s){var a=Eo;return n.current.memoizedState.isDehydrated&&(mr(n,s).flags|=256),n=oa(n,s),n!==2&&(s=zt,zt=a,s!==null&&Xc(s)),n}function Xc(n){zt===null?zt=n:zt.push.apply(zt,n)}function E1(n){for(var s=n;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var f=a[h],m=f.getSnapshot;f=f.value;try{if(!xn(m(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ni(n,s){for(s&=~Gc,s&=~ea,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var a=31-wn(s),h=1<<a;n[a]=-1,s&=~h}}function op(n){if(Ie&6)throw Error(t(327));os();var s=gl(n,0);if(!(s&1))return bt(n,qe()),null;var a=oa(n,s);if(n.tag!==0&&a===2){var h=xu(n);h!==0&&(s=h,a=Bc(n,h))}if(a===1)throw a=vo,mr(n,0),Ni(n,s),bt(n,qe()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,_r(n,zt,oi),bt(n,qe()),null}function Vc(n,s){var a=Ie;Ie|=1;try{return n(s)}finally{Ie=a,Ie===0&&(ss=qe()+500,Ol&&ki())}}function pr(n){Di!==null&&Di.tag===0&&!(Ie&6)&&os();var s=Ie;Ie|=1;var a=dn.transition,h=Ne;try{if(dn.transition=null,Ne=1,n)return n()}finally{Ne=h,dn.transition=a,Ie=s,!(Ie&6)&&ki()}}function Yc(){en=rs.current,We(rs)}function mr(n,s){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,$0(a)),Qe!==null)for(a=Qe.return;a!==null;){var h=a;switch(tc(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Pl();break;case 3:ts(),We(Dt),We(pt),gc();break;case 5:dc(h);break;case 4:ts();break;case 13:We(Ve);break;case 19:We(Ve);break;case 10:lc(h.type._context);break;case 22:case 23:Yc()}a=a.return}if(ot=n,Qe=n=zi(n.current,null),ft=en=s,it=0,vo=null,Gc=ea=gr=0,zt=Eo=null,hr!==null){for(s=0;s<hr.length;s++)if(a=hr[s],h=a.interleaved,h!==null){a.interleaved=null;var f=h.next,m=a.pending;if(m!==null){var v=m.next;m.next=f,h.next=v}a.pending=h}hr=null}return n}function lp(n,s){do{var a=Qe;try{if(oc(),Bl.current=Kl,Xl){for(var h=Ye.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}Xl=!1}if(fr=0,st=nt=Ye=null,fo=!1,go=0,bc.current=null,a===null||a.return===null){it=1,vo=s,Qe=null;break}e:{var m=n,v=a.return,C=a,L=s;if(s=ft,C.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var N=L,V=C,K=V.tag;if(!(V.mode&1)&&(K===0||K===11||K===15)){var X=V.alternate;X?(V.updateQueue=X.updateQueue,V.memoizedState=X.memoizedState,V.lanes=X.lanes):(V.updateQueue=null,V.memoizedState=null)}var Q=Mg(v);if(Q!==null){Q.flags&=-257,Og(Q,v,C,m,s),Q.mode&1&&Pg(m,N,s),s=Q,L=N;var ne=s.updateQueue;if(ne===null){var ie=new Set;ie.add(L),s.updateQueue=ie}else ne.add(L);break e}else{if(!(s&1)){Pg(m,N,s),Kc();break e}L=Error(t(426))}}else if(Be&&C.mode&1){var Je=Mg(v);if(Je!==null){!(Je.flags&65536)&&(Je.flags|=256),Og(Je,v,C,m,s),rc(ns(L,C));break e}}m=L=ns(L,C),it!==4&&(it=2),Eo===null?Eo=[m]:Eo.push(m),m=v;do{switch(m.tag){case 3:m.flags|=65536,s&=-s,m.lanes|=s;var D=kg(m,L,s);ng(m,D);break e;case 1:C=L;var A=m.type,F=m.stateNode;if(!(m.flags&128)&&(typeof A.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Oi===null||!Oi.has(F)))){m.flags|=65536,s&=-s,m.lanes|=s;var Z=Ag(m,C,s);ng(m,Z);break e}}m=m.return}while(m!==null)}cp(a)}catch(oe){s=oe,Qe===a&&a!==null&&(Qe=a=a.return);continue}break}while(!0)}function ap(){var n=Ql.current;return Ql.current=Kl,n===null?Kl:n}function Kc(){(it===0||it===3||it===2)&&(it=4),ot===null||!(gr&268435455)&&!(ea&268435455)||Ni(ot,ft)}function oa(n,s){var a=Ie;Ie|=2;var h=ap();(ot!==n||ft!==s)&&(oi=null,mr(n,s));do try{w1();break}catch(f){lp(n,f)}while(!0);if(oc(),Ie=a,Ql.current=h,Qe!==null)throw Error(t(261));return ot=null,ft=0,it}function w1(){for(;Qe!==null;)up(Qe)}function x1(){for(;Qe!==null&&!Ky();)up(Qe)}function up(n){var s=fp(n.alternate,n,en);n.memoizedProps=n.pendingProps,s===null?cp(n):Qe=s,bc.current=null}function cp(n){var s=n;do{var a=s.alternate;if(n=s.return,s.flags&32768){if(a=p1(a,s),a!==null){a.flags&=32767,Qe=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{it=6,Qe=null;return}}else if(a=g1(a,s,en),a!==null){Qe=a;return}if(s=s.sibling,s!==null){Qe=s;return}Qe=s=n}while(s!==null);it===0&&(it=5)}function _r(n,s,a){var h=Ne,f=dn.transition;try{dn.transition=null,Ne=1,S1(n,s,a,h)}finally{dn.transition=f,Ne=h}return null}function S1(n,s,a,h){do os();while(Di!==null);if(Ie&6)throw Error(t(327));a=n.finishedWork;var f=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var m=a.lanes|a.childLanes;if(i0(n,m),n===ot&&(Qe=ot=null,ft=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||na||(na=!0,gp(cl,function(){return os(),null})),m=(a.flags&15990)!==0,a.subtreeFlags&15990||m){m=dn.transition,dn.transition=null;var v=Ne;Ne=1;var C=Ie;Ie|=4,bc.current=null,_1(n,a),ep(a,n),B0(Ku),_l=!!Yu,Ku=Yu=null,n.current=a,y1(a),Hy(),Ie=C,Ne=v,dn.transition=m}else n.current=a;if(na&&(na=!1,Di=n,ia=f),m=n.pendingLanes,m===0&&(Oi=null),qy(a.stateNode),bt(n,qe()),s!==null)for(h=n.onRecoverableError,a=0;a<s.length;a++)f=s[a],h(f.value,{componentStack:f.stack,digest:f.digest});if(ta)throw ta=!1,n=jc,jc=null,n;return ia&1&&n.tag!==0&&os(),m=n.pendingLanes,m&1?n===Wc?wo++:(wo=0,Wc=n):wo=0,ki(),null}function os(){if(Di!==null){var n=qd(ia),s=dn.transition,a=Ne;try{if(dn.transition=null,Ne=16>n?16:n,Di===null)var h=!1;else{if(n=Di,Di=null,ia=0,Ie&6)throw Error(t(331));var f=Ie;for(Ie|=4,te=n.current;te!==null;){var m=te,v=m.child;if(te.flags&16){var C=m.deletions;if(C!==null){for(var L=0;L<C.length;L++){var N=C[L];for(te=N;te!==null;){var V=te;switch(V.tag){case 0:case 11:case 15:yo(8,V,m)}var K=V.child;if(K!==null)K.return=V,te=K;else for(;te!==null;){V=te;var X=V.sibling,Q=V.return;if(Zg(V),V===N){te=null;break}if(X!==null){X.return=Q,te=X;break}te=Q}}}var ne=m.alternate;if(ne!==null){var ie=ne.child;if(ie!==null){ne.child=null;do{var Je=ie.sibling;ie.sibling=null,ie=Je}while(ie!==null)}}te=m}}if(m.subtreeFlags&2064&&v!==null)v.return=m,te=v;else e:for(;te!==null;){if(m=te,m.flags&2048)switch(m.tag){case 0:case 11:case 15:yo(9,m,m.return)}var D=m.sibling;if(D!==null){D.return=m.return,te=D;break e}te=m.return}}var A=n.current;for(te=A;te!==null;){v=te;var F=v.child;if(v.subtreeFlags&2064&&F!==null)F.return=v,te=F;else e:for(v=A;te!==null;){if(C=te,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:Jl(9,C)}}catch(oe){Ke(C,C.return,oe)}if(C===v){te=null;break e}var Z=C.sibling;if(Z!==null){Z.return=C.return,te=Z;break e}te=C.return}}if(Ie=f,ki(),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(hl,n)}catch{}h=!0}return h}finally{Ne=a,dn.transition=s}}return!1}function hp(n,s,a){s=ns(a,s),s=kg(n,s,1),n=Pi(n,s,1),s=kt(),n!==null&&(Xs(n,1,s),bt(n,s))}function Ke(n,s,a){if(n.tag===3)hp(n,n,a);else for(;s!==null;){if(s.tag===3){hp(s,n,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Oi===null||!Oi.has(h))){n=ns(a,n),n=Ag(s,n,1),s=Pi(s,n,1),n=kt(),s!==null&&(Xs(s,1,n),bt(s,n));break}}s=s.return}}function C1(n,s,a){var h=n.pingCache;h!==null&&h.delete(s),s=kt(),n.pingedLanes|=n.suspendedLanes&a,ot===n&&(ft&a)===a&&(it===4||it===3&&(ft&130023424)===ft&&500>qe()-Uc?mr(n,0):Gc|=a),bt(n,s)}function dp(n,s){s===0&&(n.mode&1?(s=fl,fl<<=1,!(fl&130023424)&&(fl=4194304)):s=1);var a=kt();n=ii(n,s),n!==null&&(Xs(n,s,a),bt(n,a))}function R1(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),dp(n,a)}function T1(n,s){var a=0;switch(n.tag){case 13:var h=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:h=n.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),dp(n,a)}var fp;fp=function(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps||Dt.current)Nt=!0;else{if(!(n.lanes&a)&&!(s.flags&128))return Nt=!1,f1(n,s,a);Nt=!!(n.flags&131072)}else Nt=!1,Be&&s.flags&1048576&&Yf(s,Fl,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;$l(n,s),n=s.pendingProps;var f=Hr(s,pt.current);es(s,a),f=_c(null,s,h,n,f,a);var m=yc();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Ft(h)?(m=!0,Ml(s)):m=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,cc(s),f.updater=Hl,s.stateNode=f,f._reactInternals=s,Cc(s,h,n,a),s=Lc(null,s,h,!0,m,a)):(s.tag=0,Be&&m&&ec(s),Lt(null,s,f,a),s=s.child),s;case 16:h=s.elementType;e:{switch($l(n,s),n=s.pendingProps,f=h._init,h=f(h._payload),s.type=h,f=s.tag=L1(h),n=Cn(h,n),f){case 0:s=Ic(null,s,h,n,a);break e;case 1:s=Gg(null,s,h,n,a);break e;case 11:s=Dg(null,s,h,n,a);break e;case 14:s=Fg(null,s,h,Cn(h.type,n),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Cn(h,f),Ic(n,s,h,f,a);case 1:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Cn(h,f),Gg(n,s,h,f,a);case 3:e:{if(Ug(s),n===null)throw Error(t(387));h=s.pendingProps,m=s.memoizedState,f=m.element,tg(n,s),jl(s,h,null,a);var v=s.memoizedState;if(h=v.element,m.isDehydrated)if(m={element:h,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){f=ns(Error(t(423)),s),s=jg(n,s,h,a,f);break e}else if(h!==f){f=ns(Error(t(424)),s),s=jg(n,s,h,a,f);break e}else for(Qt=Ti(s.stateNode.containerInfo.firstChild),Jt=s,Be=!0,Sn=null,a=Qf(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(qr(),h===f){s=si(n,s,a);break e}Lt(n,s,h,a)}s=s.child}return s;case 5:return rg(s),n===null&&ic(s),h=s.type,f=s.pendingProps,m=n!==null?n.memoizedProps:null,v=f.children,Hu(h,f)?v=null:m!==null&&Hu(h,m)&&(s.flags|=32),bg(n,s),Lt(n,s,v,a),s.child;case 6:return n===null&&ic(s),null;case 13:return Wg(n,s,a);case 4:return hc(s,s.stateNode.containerInfo),h=s.pendingProps,n===null?s.child=Jr(s,null,h,a):Lt(n,s,h,a),s.child;case 11:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Cn(h,f),Dg(n,s,h,f,a);case 7:return Lt(n,s,s.pendingProps,a),s.child;case 8:return Lt(n,s,s.pendingProps.children,a),s.child;case 12:return Lt(n,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,f=s.pendingProps,m=s.memoizedProps,v=f.value,Ue(bl,h._currentValue),h._currentValue=v,m!==null)if(xn(m.value,v)){if(m.children===f.children&&!Dt.current){s=si(n,s,a);break e}}else for(m=s.child,m!==null&&(m.return=s);m!==null;){var C=m.dependencies;if(C!==null){v=m.child;for(var L=C.firstContext;L!==null;){if(L.context===h){if(m.tag===1){L=ri(-1,a&-a),L.tag=2;var N=m.updateQueue;if(N!==null){N=N.shared;var V=N.pending;V===null?L.next=L:(L.next=V.next,V.next=L),N.pending=L}}m.lanes|=a,L=m.alternate,L!==null&&(L.lanes|=a),ac(m.return,a,s),C.lanes|=a;break}L=L.next}}else if(m.tag===10)v=m.type===s.type?null:m.child;else if(m.tag===18){if(v=m.return,v===null)throw Error(t(341));v.lanes|=a,C=v.alternate,C!==null&&(C.lanes|=a),ac(v,a,s),v=m.sibling}else v=m.child;if(v!==null)v.return=m;else for(v=m;v!==null;){if(v===s){v=null;break}if(m=v.sibling,m!==null){m.return=v.return,v=m;break}v=v.return}m=v}Lt(n,s,f.children,a),s=s.child}return s;case 9:return f=s.type,h=s.pendingProps.children,es(s,a),f=cn(f),h=h(f),s.flags|=1,Lt(n,s,h,a),s.child;case 14:return h=s.type,f=Cn(h,s.pendingProps),f=Cn(h.type,f),Fg(n,s,h,f,a);case 15:return Ng(n,s,s.type,s.pendingProps,a);case 17:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Cn(h,f),$l(n,s),s.tag=1,Ft(h)?(n=!0,Ml(s)):n=!1,es(s,a),Ig(s,h,f),Cc(s,h,f,a),Lc(null,s,h,!0,n,a);case 19:return Xg(n,s,a);case 22:return zg(n,s,a)}throw Error(t(156,s.tag))};function gp(n,s){return Yd(n,s)}function I1(n,s,a,h){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(n,s,a,h){return new I1(n,s,a,h)}function Hc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function L1(n){if(typeof n=="function")return Hc(n)?1:0;if(n!=null){if(n=n.$$typeof,n===re)return 11;if(n===ye)return 14}return 2}function zi(n,s){var a=n.alternate;return a===null?(a=fn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function la(n,s,a,h,f,m){var v=2;if(h=n,typeof n=="function")Hc(n)&&(v=1);else if(typeof n=="string")v=5;else e:switch(n){case B:return yr(a.children,f,m,s);case G:v=8,f|=8;break;case Y:return n=fn(12,a,s,f|2),n.elementType=Y,n.lanes=m,n;case se:return n=fn(13,a,s,f),n.elementType=se,n.lanes=m,n;case $:return n=fn(19,a,s,f),n.elementType=$,n.lanes=m,n;case ee:return aa(a,f,m,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case q:v=10;break e;case le:v=9;break e;case re:v=11;break e;case ye:v=14;break e;case J:v=16,h=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return s=fn(v,a,s,f),s.elementType=n,s.type=h,s.lanes=m,s}function yr(n,s,a,h){return n=fn(7,n,h,s),n.lanes=a,n}function aa(n,s,a,h){return n=fn(22,n,h,s),n.elementType=ee,n.lanes=a,n.stateNode={isHidden:!1},n}function Zc(n,s,a){return n=fn(6,n,null,s),n.lanes=a,n}function $c(n,s,a){return s=fn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function k1(n,s,a,h,f){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Su(0),this.expirationTimes=Su(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Su(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function qc(n,s,a,h,f,m,v,C,L){return n=new k1(n,s,a,C,L),s===1?(s=1,m===!0&&(s|=8)):s=0,m=fn(3,null,null,s),n.current=m,m.stateNode=n,m.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},cc(m),n}function A1(n,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:h==null?null:""+h,children:n,containerInfo:s,implementation:a}}function pp(n){if(!n)return Li;n=n._reactInternals;e:{if(or(n)!==n||n.tag!==1)throw Error(t(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Ft(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Ft(a))return Bf(n,a,s)}return s}function mp(n,s,a,h,f,m,v,C,L){return n=qc(a,h,!0,n,f,m,v,C,L),n.context=pp(null),a=n.current,h=kt(),f=Fi(a),m=ri(h,f),m.callback=s??null,Pi(a,m,f),n.current.lanes=f,Xs(n,f,h),bt(n,h),n}function ua(n,s,a,h){var f=s.current,m=kt(),v=Fi(f);return a=pp(a),s.context===null?s.context=a:s.pendingContext=a,s=ri(m,v),s.payload={element:n},h=h===void 0?null:h,h!==null&&(s.callback=h),n=Pi(f,s,v),n!==null&&(In(n,f,v,m),Ul(n,f,v)),v}function ca(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function _p(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Jc(n,s){_p(n,s),(n=n.alternate)&&_p(n,s)}var yp=typeof reportError=="function"?reportError:function(n){console.error(n)};function Qc(n){this._internalRoot=n}ha.prototype.render=Qc.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(t(409));ua(n,s,null,null)},ha.prototype.unmount=Qc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;pr(function(){ua(null,n,null,null)}),s[Qn]=null}};function ha(n){this._internalRoot=n}ha.prototype.unstable_scheduleHydration=function(n){if(n){var s=ef();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Si.length&&s!==0&&s<Si[a].priority;a++);Si.splice(a,0,n),a===0&&rf(n)}};function eh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function da(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function vp(){}function P1(n,s,a,h,f){if(f){if(typeof h=="function"){var m=h;h=function(){var N=ca(v);m.call(N)}}var v=mp(s,h,n,0,null,!1,!1,"",vp);return n._reactRootContainer=v,n[Qn]=v.current,ro(n.nodeType===8?n.parentNode:n),pr(),v}for(;f=n.lastChild;)n.removeChild(f);if(typeof h=="function"){var C=h;h=function(){var N=ca(L);C.call(N)}}var L=qc(n,0,!1,null,null,!1,!1,"",vp);return n._reactRootContainer=L,n[Qn]=L.current,ro(n.nodeType===8?n.parentNode:n),pr(function(){ua(s,L,a,h)}),L}function fa(n,s,a,h,f){var m=a._reactRootContainer;if(m){var v=m;if(typeof f=="function"){var C=f;f=function(){var L=ca(v);C.call(L)}}ua(s,v,n,f)}else v=P1(a,s,n,f,h);return ca(v)}Jd=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var a=Bs(s.pendingLanes);a!==0&&(Cu(s,a|1),bt(s,qe()),!(Ie&6)&&(ss=qe()+500,ki()))}break;case 13:pr(function(){var h=ii(n,1);if(h!==null){var f=kt();In(h,n,1,f)}}),Jc(n,1)}},Ru=function(n){if(n.tag===13){var s=ii(n,134217728);if(s!==null){var a=kt();In(s,n,134217728,a)}Jc(n,134217728)}},Qd=function(n){if(n.tag===13){var s=Fi(n),a=ii(n,s);if(a!==null){var h=kt();In(a,n,s,h)}Jc(n,s)}},ef=function(){return Ne},tf=function(n,s){var a=Ne;try{return Ne=n,s()}finally{Ne=a}},Jn=function(n,s,a){switch(s){case"input":if(Mt(n,a),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==n&&h.form===n.form){var f=Al(h);if(!f)throw Error(t(90));nr(h),Mt(h,f)}}}break;case"textarea":tt(n,a);break;case"select":s=a.value,s!=null&&sn(n,!!a.multiple,s,!1)}},Fn=Vc,Ct=pr;var M1={usingClientEntryPoint:!1,Events:[lo,Yr,Al,Ws,St,Vc]},xo={findFiberByHostInstance:lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},O1={bundleType:xo.bundleType,version:xo.version,rendererPackageName:xo.rendererPackageName,rendererConfig:xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Xd(n),n===null?null:n.stateNode},findFiberByHostInstance:xo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ga=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ga.isDisabled&&ga.supportsFiber)try{hl=ga.inject(O1),Nn=ga}catch{}}return Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M1,Gt.createPortal=function(n,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eh(s))throw Error(t(200));return A1(n,s,null,a)},Gt.createRoot=function(n,s){if(!eh(n))throw Error(t(299));var a=!1,h="",f=yp;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=qc(n,1,!1,null,null,a,!1,h,f),n[Qn]=s.current,ro(n.nodeType===8?n.parentNode:n),new Qc(s)},Gt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Xd(s),n=n===null?null:n.stateNode,n},Gt.flushSync=function(n){return pr(n)},Gt.hydrate=function(n,s,a){if(!da(s))throw Error(t(200));return fa(null,n,s,!0,a)},Gt.hydrateRoot=function(n,s,a){if(!eh(n))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,f=!1,m="",v=yp;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),s=mp(s,null,n,1,a??null,f,!1,m,v),n[Qn]=s.current,ro(n),h)for(n=0;n<h.length;n++)a=h[n],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new ha(s)},Gt.render=function(n,s,a){if(!da(s))throw Error(t(200));return fa(null,n,s,!1,a)},Gt.unmountComponentAtNode=function(n){if(!da(n))throw Error(t(40));return n._reactRootContainer?(pr(function(){fa(null,null,n,!1,function(){n._reactRootContainer=null,n[Qn]=null})}),!0):!1},Gt.unstable_batchedUpdates=Vc,Gt.unstable_renderSubtreeIntoContainer=function(n,s,a,h){if(!da(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return fa(n,s,a,!1,h)},Gt.version="18.3.1-next-f1338f8080-20240426",Gt}var Lp;function X1(){if(Lp)return ih.exports;Lp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ih.exports=B1(),ih.exports}var kp;function V1(){if(kp)return pa;kp=1;var r=X1();return pa.createRoot=r.createRoot,pa.hydrateRoot=r.hydrateRoot,pa}var Y1=V1();const K1=Qm(Y1),Ut={ADD:"add",REMOVE:"remove"},Rs={PROPERTYCHANGE:"propertychange"},Ee={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};class Ya{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function H1(r,e,t){let i,o;t=t||Zi;let l=0,u=r.length,c=!1;for(;l<u;)i=l+(u-l>>1),o=+t(r[i],e),o<0?l=i+1:(u=i,c=!o);return c?l:~l}function Zi(r,e){return r>e?1:r<e?-1:0}function Z1(r,e){return r<e?1:r>e?-1:0}function ed(r,e,t){if(r[0]<=e)return 0;const i=r.length;if(e<=r[i-1])return i-1;if(typeof t=="function"){for(let o=1;o<i;++o){const l=r[o];if(l===e)return o;if(l<e)return t(e,r[o-1],l)>0?o-1:o}return i-1}if(t>0){for(let o=1;o<i;++o)if(r[o]<e)return o-1;return i-1}if(t<0){for(let o=1;o<i;++o)if(r[o]<=e)return o;return i-1}for(let o=1;o<i;++o){if(r[o]==e)return o;if(r[o]<e)return r[o-1]-e<e-r[o]?o-1:o}return i-1}function $1(r,e,t){for(;e<t;){const i=r[e];r[e]=r[t],r[t]=i,++e,--t}}function td(r,e){const t=Array.isArray(e)?e:[e],i=t.length;for(let o=0;o<i;o++)r[r.length]=t[o]}function tr(r,e){const t=r.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(r[i]!==e[i])return!1;return!0}function q1(r,e,t){const i=e;return r.every(function(o,l){if(l===0)return!0;const u=i(r[l-1],o);return!(u>0||u===0)})}function zo(){return!0}function Ka(){return!1}function Ts(){}function e_(r){let e,t,i;return function(){const o=Array.prototype.slice.call(arguments);return(!t||this!==i||!tr(o,t))&&(i=this,t=o,e=r.apply(this,arguments)),e}}function J1(r){function e(){let t;try{t=r()}catch(i){return Promise.reject(i)}return t instanceof Promise?t:Promise.resolve(t)}return e()}function $o(r){for(const e in r)delete r[e]}function Is(r){let e;for(e in r)return!1;return!e}class pi{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}class Ha extends Ya{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;const i=this.listeners_||(this.listeners_={}),o=i[e]||(i[e]=[]);o.includes(t)||o.push(t)}dispatchEvent(e){const t=typeof e=="string",i=t?e:e.type,o=this.listeners_&&this.listeners_[i];if(!o)return;const l=t?new pi(e):e;l.target||(l.target=this.eventTarget_||this);const u=this.dispatching_||(this.dispatching_={}),c=this.pendingRemovals_||(this.pendingRemovals_={});i in u||(u[i]=0,c[i]=0),++u[i];let d;for(let g=0,p=o.length;g<p;++g)if("handleEvent"in o[g]?d=o[g].handleEvent(l):d=o[g].call(this,l),d===!1||l.propagationStopped){d=!1;break}if(--u[i]===0){let g=c[i];for(delete c[i];g--;)this.removeEventListener(i,Ts);delete u[i]}return d}disposeInternal(){this.listeners_&&$o(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,t){if(!this.listeners_)return;const i=this.listeners_[e];if(!i)return;const o=i.indexOf(t);o!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[o]=Ts,++this.pendingRemovals_[e]):(i.splice(o,1),i.length===0&&delete this.listeners_[e]))}}function Pe(r,e,t,i,o){if(o){const u=t;t=function(c){return r.removeEventListener(e,t),u.call(i??this,c)}}else i&&i!==r&&(t=t.bind(i));const l={target:r,type:e,listener:t};return r.addEventListener(e,t),l}function Aa(r,e,t,i){return Pe(r,e,t,i,!0)}function Xe(r){r&&r.target&&(r.target.removeEventListener(r.type,r.listener),$o(r))}class qo extends Ha{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Ee.CHANGE)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){const i=e.length,o=new Array(i);for(let l=0;l<i;++l)o[l]=Pe(this,e[l],t);return o}return Pe(this,e,t)}onceInternal(e,t){let i;if(Array.isArray(e)){const o=e.length;i=new Array(o);for(let l=0;l<o;++l)i[l]=Aa(this,e[l],t)}else i=Aa(this,e,t);return t.ol_key=i,i}unInternal(e,t){const i=t.ol_key;if(i)Q1(i);else if(Array.isArray(e))for(let o=0,l=e.length;o<l;++o)this.removeEventListener(e[o],t);else this.removeEventListener(e,t)}}qo.prototype.on;qo.prototype.once;qo.prototype.un;function Q1(r){if(Array.isArray(r))for(let e=0,t=r.length;e<t;++e)Xe(r[e]);else Xe(r)}function Ae(){throw new Error("Unimplemented abstract method.")}let ev=0;function De(r){return r.ol_uid||(r.ol_uid=String(++ev))}class Ap extends pi{constructor(e,t,i){super(e),this.key=t,this.oldValue=i}}class Kn extends qo{constructor(e){super(),this.on,this.once,this.un,De(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,t){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new Ap(i,e,t)),i=Rs.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new Ap(i,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,i){const o=this.values_||(this.values_={});if(i)o[e]=t;else{const l=o[e];o[e]=t,l!==t&&this.notify(e,l)}}setProperties(e,t){for(const i in e)this.set(i,e[i],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){const i=this.values_[e];delete this.values_[e],Is(this.values_)&&(this.values_=null),t||this.notify(e,i)}}}const Pp={LENGTH:"length"};class ma extends pi{constructor(e,t,i){super(e),this.element=t,this.index=i}}class Vn extends Kn{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e||[],this.unique_)for(let i=0,o=this.array_.length;i<o;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,i=e.length;t<i;++t)this.push(e[t]);return this}forEach(e){const t=this.array_;for(let i=0,o=t.length;i<o;++i)e(t[i],i,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(Pp.LENGTH)}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new ma(Ut.ADD,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){const t=this.array_;for(let i=0,o=t.length;i<o;++i)if(t[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;const t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new ma(Ut.REMOVE,t,e)),t}setAt(e,t){const i=this.getLength();if(e>=i){this.insertAt(e,t);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);const o=this.array_[e];this.array_[e]=t,this.dispatchEvent(new ma(Ut.REMOVE,o,e)),this.dispatchEvent(new ma(Ut.ADD,t,e))}updateLength_(){this.set(Pp.LENGTH,this.array_.length)}assertUnique_(e,t){for(let i=0,o=this.array_.length;i<o;++i)if(this.array_[i]===e&&i!==t)throw new Error("Duplicate item added to a unique collection")}}function Me(r,e){if(!r)throw new Error(e)}class nd extends Kn{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const t=e;this.setGeometry(t)}else{const t=e;this.setProperties(t)}}clone(){const e=new nd(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const t=this.getGeometry();t&&e.setGeometry(t.clone());const i=this.getStyle();return i&&e.setStyle(i),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Xe(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=Pe(e,Ee.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?tv(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function tv(r){if(typeof r=="function")return r;let e;return Array.isArray(r)?e=r:(Me(typeof r.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[r]),function(){return e}}const at={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Mp(r){const e=vn();for(let t=0,i=r.length;t<i;++t)No(e,r[t]);return e}function id(r,e,t){return t?(t[0]=r[0]-e,t[1]=r[1]-e,t[2]=r[2]+e,t[3]=r[3]+e,t):[r[0]-e,r[1]-e,r[2]+e,r[3]+e]}function t_(r,e){return e?(e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e):r.slice()}function n_(r,e,t){let i,o;return e<r[0]?i=r[0]-e:r[2]<e?i=e-r[2]:i=0,t<r[1]?o=r[1]-t:r[3]<t?o=t-r[3]:o=0,i*i+o*o}function Ls(r,e){return i_(r,e[0],e[1])}function ko(r,e){return r[0]<=e[0]&&e[2]<=r[2]&&r[1]<=e[1]&&e[3]<=r[3]}function i_(r,e,t){return r[0]<=e&&e<=r[2]&&r[1]<=t&&t<=r[3]}function Mh(r,e){const t=r[0],i=r[1],o=r[2],l=r[3],u=e[0],c=e[1];let d=at.UNKNOWN;return u<t?d=d|at.LEFT:u>o&&(d=d|at.RIGHT),c<i?d=d|at.BELOW:c>l&&(d=d|at.ABOVE),d===at.UNKNOWN&&(d=at.INTERSECTING),d}function vn(){return[1/0,1/0,-1/0,-1/0]}function Qi(r,e,t,i,o){return o?(o[0]=r,o[1]=e,o[2]=t,o[3]=i,o):[r,e,t,i]}function Za(r){return Qi(1/0,1/0,-1/0,-1/0,r)}function r_(r,e){const t=r[0],i=r[1];return Qi(t,i,t,i,e)}function rd(r,e,t,i,o){const l=Za(o);return s_(l,r,e,t,i)}function bo(r,e){return r[0]==e[0]&&r[2]==e[2]&&r[1]==e[1]&&r[3]==e[3]}function nv(r,e){return e[0]<r[0]&&(r[0]=e[0]),e[2]>r[2]&&(r[2]=e[2]),e[1]<r[1]&&(r[1]=e[1]),e[3]>r[3]&&(r[3]=e[3]),r}function No(r,e){e[0]<r[0]&&(r[0]=e[0]),e[0]>r[2]&&(r[2]=e[0]),e[1]<r[1]&&(r[1]=e[1]),e[1]>r[3]&&(r[3]=e[1])}function s_(r,e,t,i,o){for(;t<i;t+=o)iv(r,e[t],e[t+1]);return r}function iv(r,e,t){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],t),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],t)}function o_(r,e){let t;return t=e($a(r)),t||(t=e(qa(r)),t)||(t=e(Ja(r)),t)||(t=e(Or(r)),t)?t:!1}function Oh(r){let e=0;return Qa(r)||(e=be(r)*Pt(r)),e}function $a(r){return[r[0],r[1]]}function qa(r){return[r[2],r[1]]}function Ar(r){return[(r[0]+r[2])/2,(r[1]+r[3])/2]}function rv(r,e){let t;if(e==="bottom-left")t=$a(r);else if(e==="bottom-right")t=qa(r);else if(e==="top-left")t=Or(r);else if(e==="top-right")t=Ja(r);else throw new Error("Invalid corner");return t}function Dh(r,e,t,i,o){const[l,u,c,d,g,p,_,y]=l_(r,e,t,i);return Qi(Math.min(l,c,g,_),Math.min(u,d,p,y),Math.max(l,c,g,_),Math.max(u,d,p,y),o)}function l_(r,e,t,i){const o=e*i[0]/2,l=e*i[1]/2,u=Math.cos(t),c=Math.sin(t),d=o*u,g=o*c,p=l*u,_=l*c,y=r[0],w=r[1];return[y-d+_,w-g-p,y-d-_,w-g+p,y+d-_,w+g+p,y+d+_,w+g-p,y-d+_,w-g-p]}function Pt(r){return r[3]-r[1]}function Ir(r,e,t){const i=t||vn();return Bt(r,e)?(r[0]>e[0]?i[0]=r[0]:i[0]=e[0],r[1]>e[1]?i[1]=r[1]:i[1]=e[1],r[2]<e[2]?i[2]=r[2]:i[2]=e[2],r[3]<e[3]?i[3]=r[3]:i[3]=e[3]):Za(i),i}function Or(r){return[r[0],r[3]]}function Ja(r){return[r[2],r[3]]}function be(r){return r[2]-r[0]}function Bt(r,e){return r[0]<=e[2]&&r[2]>=e[0]&&r[1]<=e[3]&&r[3]>=e[1]}function Qa(r){return r[2]<r[0]||r[3]<r[1]}function sv(r,e){return e?(e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e):r}function ov(r,e,t){let i=!1;const o=Mh(r,e),l=Mh(r,t);if(o===at.INTERSECTING||l===at.INTERSECTING)i=!0;else{const u=r[0],c=r[1],d=r[2],g=r[3],p=e[0],_=e[1],y=t[0],w=t[1],E=(w-_)/(y-p);let S,x;l&at.ABOVE&&!(o&at.ABOVE)&&(S=y-(w-g)/E,i=S>=u&&S<=d),!i&&l&at.RIGHT&&!(o&at.RIGHT)&&(x=w-(y-d)*E,i=x>=c&&x<=g),!i&&l&at.BELOW&&!(o&at.BELOW)&&(S=y-(w-c)/E,i=S>=u&&S<=d),!i&&l&at.LEFT&&!(o&at.LEFT)&&(x=w-(y-u)*E,i=x>=c&&x<=g)}return i}function a_(r,e){const t=e.getExtent(),i=Ar(r);if(e.canWrapX()&&(i[0]<t[0]||i[0]>=t[2])){const o=be(t),u=Math.floor((i[0]-t[0])/o)*o;r[0]-=u,r[2]-=u}return r}function u_(r,e,t){if(e.canWrapX()){const i=e.getExtent();if(!isFinite(r[0])||!isFinite(r[2]))return[[i[0],r[1],i[2],r[3]]];a_(r,e);const o=be(i);if(be(r)>o&&!t)return[[i[0],r[1],i[2],r[3]]];if(r[0]<i[0])return[[r[0]+o,r[1],i[2],r[3]],[i[0],r[1],r[2],r[3]]];if(r[2]>i[2])return[[r[0],r[1],i[2],r[3]],[i[0],r[1],r[2]-o,r[3]]]}return[r]}function et(r,e,t){return Math.min(Math.max(r,e),t)}function lv(r,e,t,i,o,l){const u=o-t,c=l-i;if(u!==0||c!==0){const d=((r-t)*u+(e-i)*c)/(u*u+c*c);d>1?(t=o,i=l):d>0&&(t+=u*d,i+=c*d)}return ws(r,e,t,i)}function ws(r,e,t,i){const o=t-r,l=i-e;return o*o+l*l}function av(r){const e=r.length;for(let i=0;i<e;i++){let o=i,l=Math.abs(r[i][i]);for(let c=i+1;c<e;c++){const d=Math.abs(r[c][i]);d>l&&(l=d,o=c)}if(l===0)return null;const u=r[o];r[o]=r[i],r[i]=u;for(let c=i+1;c<e;c++){const d=-r[c][i]/r[i][i];for(let g=i;g<e+1;g++)i==g?r[c][g]=0:r[c][g]+=d*r[i][g]}}const t=new Array(e);for(let i=e-1;i>=0;i--){t[i]=r[i][e]/r[i][i];for(let o=i-1;o>=0;o--)r[o][e]-=r[o][i]*t[i]}return t}function Op(r){return r*180/Math.PI}function $i(r){return r*Math.PI/180}function Lr(r,e){const t=r%e;return t*e<0?t+e:t}function pn(r,e,t){return r+t*(e-r)}function sd(r,e){const t=Math.pow(10,e);return Math.round(r*t)/t}function _a(r,e){return Math.floor(sd(r,e))}function ya(r,e){return Math.ceil(sd(r,e))}function Fh(r,e,t){if(r>=e&&r<t)return r;const i=t-e;return((r-e)%i+i)%i+e}const uv=63710088e-1;function Dp(r,e,t){t=t||uv;const i=$i(r[1]),o=$i(e[1]),l=(o-i)/2,u=$i(e[0]-r[0])/2,c=Math.sin(l)*Math.sin(l)+Math.sin(u)*Math.sin(u)*Math.cos(i)*Math.cos(o);return 2*t*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}function c_(...r){console.warn(...r)}function cv(r,e){return r[0]+=+e[0],r[1]+=+e[1],r}function Pa(r,e){let t=!0;for(let i=r.length-1;i>=0;--i)if(r[i]!=e[i]){t=!1;break}return t}function od(r,e){const t=Math.cos(e),i=Math.sin(e),o=r[0]*t-r[1]*i,l=r[1]*t+r[0]*i;return r[0]=o,r[1]=l,r}function hv(r,e){return r[0]*=e,r[1]*=e,r}function h_(r,e){if(e.canWrapX()){const t=be(e.getExtent()),i=dv(r,e,t);i&&(r[0]-=i*t)}return r}function dv(r,e,t){const i=e.getExtent();let o=0;return e.canWrapX()&&(r[0]<i[0]||r[0]>i[2])&&(t=t||be(i),o=Math.floor((r[0]-i[0])/t)),o}const ld={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class ad{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||ld[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const Jo=6378137,ys=Math.PI*Jo,fv=[-ys,-ys,ys,ys],gv=[-180,-85,180,85],va=Jo*Math.log(Math.tan(Math.PI/2));class ls extends ad{constructor(e){super({code:e,units:"m",extent:fv,global:!0,worldExtent:gv,getPointResolution:function(t,i){return t/Math.cosh(i[1]/Jo)}})}}const Fp=[new ls("EPSG:3857"),new ls("EPSG:102100"),new ls("EPSG:102113"),new ls("EPSG:900913"),new ls("http://www.opengis.net/def/crs/EPSG/0/3857"),new ls("http://www.opengis.net/gml/srs/epsg.xml#3857")];function pv(r,e,t,i){const o=r.length;t=t>1?t:2,i=i??t,e===void 0&&(t>2?e=r.slice():e=new Array(o));for(let l=0;l<o;l+=i){e[l]=ys*r[l]/180;let u=Jo*Math.log(Math.tan(Math.PI*(+r[l+1]+90)/360));u>va?u=va:u<-va&&(u=-va),e[l+1]=u}return e}function mv(r,e,t,i){const o=r.length;t=t>1?t:2,i=i??t,e===void 0&&(t>2?e=r.slice():e=new Array(o));for(let l=0;l<o;l+=i)e[l]=180*r[l]/ys,e[l+1]=360*Math.atan(Math.exp(r[l+1]/Jo))/Math.PI-90;return e}const _v=6378137,Np=[-180,-90,180,90],yv=Math.PI*_v/180;class vr extends ad{constructor(e,t){super({code:e,units:"degrees",extent:Np,axisOrientation:t,global:!0,metersPerUnit:yv,worldExtent:Np})}}const zp=[new vr("CRS:84"),new vr("EPSG:4326","neu"),new vr("urn:ogc:def:crs:OGC:1.3:CRS84"),new vr("urn:ogc:def:crs:OGC:2:84"),new vr("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new vr("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new vr("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let Nh={};function vv(r){return Nh[r]||Nh[r.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function Ev(r,e){Nh[r]=e}let xs={};function Go(r,e,t){const i=r.getCode(),o=e.getCode();i in xs||(xs[i]={}),xs[i][o]=t}function oh(r,e){return r in xs&&e in xs[r]?xs[r][e]:null}const Ma=.9996,yn=.00669438,eu=yn*yn,tu=eu*yn,xr=yn/(1-yn),bp=Math.sqrt(1-yn),ks=(1-bp)/(1+bp),d_=ks*ks,ud=d_*ks,cd=ud*ks,f_=cd*ks,g_=1-yn/4-3*eu/64-5*tu/256,wv=3*yn/8+3*eu/32+45*tu/1024,xv=15*eu/256+45*tu/1024,Sv=35*tu/3072,Cv=3/2*ks-27/32*ud+269/512*f_,Rv=21/16*d_-55/32*cd,Tv=151/96*ud-417/128*f_,Iv=1097/512*cd,Oa=6378137;function Lv(r,e,t){const i=r-5e5,u=(t.north?e:e-1e7)/Ma/(Oa*g_),c=u+Cv*Math.sin(2*u)+Rv*Math.sin(4*u)+Tv*Math.sin(6*u)+Iv*Math.sin(8*u),d=Math.sin(c),g=d*d,p=Math.cos(c),_=d/p,y=_*_,w=y*y,E=1-yn*g,S=Math.sqrt(1-yn*g),x=Oa/S,R=(1-yn)/E,I=xr*p**2,O=I*I,T=i/(x*Ma),M=T*T,U=M*T,B=U*T,G=B*T,Y=G*T,q=c-_/R*(M/2-B/24*(5+3*y+10*I-4*O-9*xr))+Y/720*(61+90*y+298*I+45*w-252*xr-3*O);let le=(T-U/6*(1+2*y+I)+G/120*(5-2*I+28*y-3*O+8*xr+24*w))/p;return le=Fh(le+$i(p_(t.number)),-Math.PI,Math.PI),[Op(le),Op(q)]}const Gp=-80,Up=84,kv=-180,Av=180;function Pv(r,e,t){r=Fh(r,kv,Av),e<Gp?e=Gp:e>Up&&(e=Up);const i=$i(e),o=Math.sin(i),l=Math.cos(i),u=o/l,c=u*u,d=c*c,g=$i(r),p=p_(t.number),_=$i(p),y=Oa/Math.sqrt(1-yn*o**2),w=xr*l**2,E=l*Fh(g-_,-Math.PI,Math.PI),S=E*E,x=S*E,R=x*E,I=R*E,O=I*E,T=Oa*(g_*i-wv*Math.sin(2*i)+xv*Math.sin(4*i)-Sv*Math.sin(6*i)),M=Ma*y*(E+x/6*(1-c+w)+I/120*(5-18*c+d+72*w-58*xr))+5e5;let U=Ma*(T+y*u*(S/2+R/24*(5-c+9*w+4*w**2)+O/720*(61-58*c+d+600*w-330*xr)));return t.north||(U+=1e7),[M,U]}function p_(r){return(r-1)*6-180+3}const Mv=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function m_(r){let e=0;for(const o of Mv){const l=r.match(o);if(l){e=parseInt(l[1]);break}}if(!e)return null;let t=0,i=!1;return e>32700&&e<32761?t=e-32700:e>32600&&e<32661&&(i=!0,t=e-32600),t?{number:t,north:i}:null}function jp(r,e){return function(t,i,o,l){const u=t.length;o=o>1?o:2,l=l??o,i||(o>2?i=t.slice():i=new Array(u));for(let c=0;c<u;c+=l){const d=t[c],g=t[c+1],p=r(d,g,e);i[c]=p[0],i[c+1]=p[1]}return i}}function Ov(r){return m_(r)?new ad({code:r,units:"m"}):null}function Dv(r){const e=m_(r.getCode());return e?{forward:jp(Pv,e),inverse:jp(Lv,e)}:null}const Fv=[Dv],Nv=[Ov];let zh=!0;function __(r){zh=!1}function hd(r,e){if(e!==void 0){for(let t=0,i=r.length;t<i;++t)e[t]=r[t];e=e}else e=r.slice();return e}function bh(r){Ev(r.getCode(),r),Go(r,r,hd)}function zv(r){r.forEach(bh)}function Kt(r){if(typeof r!="string")return r;const e=vv(r);if(e)return e;for(const t of Nv){const i=t(r);if(i)return i}return null}function Wp(r,e,t,i){r=Kt(r);let o;const l=r.getPointResolutionFunc();if(l)o=l(e,t);else{const u=r.getUnits();if(u=="degrees"||i=="degrees")o=e;else{const c=fd(r,Kt("EPSG:4326"));if(!c&&u!=="degrees")o=e*r.getMetersPerUnit();else{let g=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];g=c(g,g,2);const p=Dp(g.slice(0,2),g.slice(2,4)),_=Dp(g.slice(4,6),g.slice(6,8));o=(p+_)/2}const d=r.getMetersPerUnit();d!==void 0&&(o/=d)}}return o}function Bp(r){zv(r),r.forEach(function(e){r.forEach(function(t){e!==t&&Go(e,t,hd)})})}function bv(r,e,t,i){r.forEach(function(o){e.forEach(function(l){Go(o,l,t),Go(l,o,i)})})}function dd(r,e){return r?typeof r=="string"?Kt(r):r:Kt(e)}function Gv(r){return function(e,t,i,o){const l=e.length;i=i!==void 0?i:2,o=o??i,t=t!==void 0?t:new Array(l);for(let u=0;u<l;u+=o){const c=r(e.slice(u,u+i)),d=c.length;for(let g=0,p=o;g<p;++g)t[u+g]=g>=d?e[u+g]:c[g]}return t}}function Xp(r,e){return __(),nu(r,"EPSG:4326","EPSG:3857")}function Vp(r,e){const t=nu(r,"EPSG:3857","EPSG:4326"),i=t[0];return(i<-180||i>180)&&(t[0]=Lr(i+180,360)-180),t}function lh(r,e){if(r===e)return!0;const t=r.getUnits()===e.getUnits();return(r.getCode()===e.getCode()||fd(r,e)===hd)&&t}function fd(r,e){const t=r.getCode(),i=e.getCode();let o=oh(t,i);if(o)return o;let l=null,u=null;for(const d of Fv)l||(l=d(r)),u||(u=d(e));if(!l&&!u)return null;const c="EPSG:4326";if(u)if(l)o=ah(l.inverse,u.forward);else{const d=oh(t,c);d&&(o=ah(d,u.forward))}else{const d=oh(c,i);d&&(o=ah(l.inverse,d))}return o&&(bh(r),bh(e),Go(r,e,o)),o}function ah(r,e){return function(t,i,o,l){return i=r(t,i,o,l),e(i,i,o,l)}}function Da(r,e){const t=Kt(r),i=Kt(e);return fd(t,i)}function nu(r,e,t){const i=Da(e,t);if(!i){const o=Kt(e).getCode(),l=Kt(t).getCode();throw new Error(`No transform available between ${o} and ${l}`)}return i(r,void 0,r.length)}function Gh(r,e){return r}function ui(r,e){return zh&&!Pa(r,[0,0])&&r[0]>=-180&&r[0]<=180&&r[1]>=-90&&r[1]<=90&&(zh=!1,c_("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),r}function y_(r,e){return r}function Ki(r,e){return r}function Uv(){Bp(Fp),Bp(zp),bv(zp,Fp,pv,mv)}Uv();new Array(6);function Pn(){return[1,0,0,1,0,0]}function jv(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r}function ut(r,e){const t=e[0],i=e[1];return e[0]=r[0]*t+r[2]*i+r[4],e[1]=r[1]*t+r[3]*i+r[5],e}function gi(r,e,t,i,o,l,u,c){const d=Math.sin(l),g=Math.cos(l);return r[0]=i*g,r[1]=o*d,r[2]=-i*d,r[3]=o*g,r[4]=u*i*g-c*i*d+e,r[5]=u*o*d+c*o*g+t,r}function v_(r,e){const t=Wv(e);Me(t!==0,"Transformation matrix cannot be inverted");const i=e[0],o=e[1],l=e[2],u=e[3],c=e[4],d=e[5];return r[0]=u/t,r[1]=-o/t,r[2]=-l/t,r[3]=i/t,r[4]=(l*d-u*c)/t,r[5]=-(i*d-o*c)/t,r}function Wv(r){return r[0]*r[3]-r[1]*r[2]}const Yp=[1e6,1e6,1e6,1e6,2,2];function Bv(r){return"matrix("+r.map((t,i)=>Math.round(t*Yp[i])/Yp[i]).join(", ")+")"}function qi(r,e,t,i,o,l,u){l=l||[],u=u||2;let c=0;for(let d=e;d<t;d+=i){const g=r[d],p=r[d+1];l[c++]=o[0]*g+o[2]*p+o[4],l[c++]=o[1]*g+o[3]*p+o[5];for(let _=2;_<u;_++)l[c++]=r[d+_]}return l&&l.length!=c&&(l.length=c),l}function E_(r,e,t,i,o,l,u){u=u||[];const c=Math.cos(o),d=Math.sin(o),g=l[0],p=l[1];let _=0;for(let y=e;y<t;y+=i){const w=r[y]-g,E=r[y+1]-p;u[_++]=g+w*c-E*d,u[_++]=p+w*d+E*c;for(let S=y+2;S<y+i;++S)u[_++]=r[S]}return u&&u.length!=_&&(u.length=_),u}function Xv(r,e,t,i,o,l,u,c){c=c||[];const d=u[0],g=u[1];let p=0;for(let _=e;_<t;_+=i){const y=r[_]-d,w=r[_+1]-g;c[p++]=d+o*y,c[p++]=g+l*w;for(let E=_+2;E<_+i;++E)c[p++]=r[E]}return c&&c.length!=p&&(c.length=p),c}function Vv(r,e,t,i,o,l,u){u=u||[];let c=0;for(let d=e;d<t;d+=i){u[c++]=r[d]+o,u[c++]=r[d+1]+l;for(let g=d+2;g<d+i;++g)u[c++]=r[g]}return u&&u.length!=c&&(u.length=c),u}const Kp=Pn(),Yv=[NaN,NaN];class Kv extends Kn{constructor(){super(),this.extent_=vn(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=e_((e,t,i)=>{if(!i)return this.getSimplifiedGeometry(t);const o=this.clone();return o.applyTransform(i),o.getSimplifiedGeometry(t)})}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return Ae()}closestPointXY(e,t,i,o){return Ae()}containsXY(e,t){return this.closestPointXY(e,t,Yv,Number.MIN_VALUE)===0}getClosestPoint(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return Ae()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&Za(t),this.extentRevision_=this.getRevision()}return sv(this.extent_,e)}rotate(e,t){Ae()}scale(e,t,i){Ae()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return Ae()}getType(){return Ae()}applyTransform(e){Ae()}intersectsExtent(e){return Ae()}translate(e,t){Ae()}transform(e,t){const i=Kt(e),o=i.getUnits()=="tile-pixels"?function(l,u,c){const d=i.getExtent(),g=i.getWorldExtent(),p=Pt(g)/Pt(d);gi(Kp,g[0],g[3],p,-p,0,0,0);const _=qi(l,0,l.length,c,Kp,u),y=Da(i,t);return y?y(_,_,c):_}:Da(i,t);return this.applyTransform(o),this}}class gd extends Kv{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return rd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return Ae()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=Hp(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){Ae()}setLayout(e,t,i){let o;if(e)o=Hp(e);else{for(let l=0;l<i;++l){if(t.length===0){this.layout="XY",this.stride=2;return}t=t[0]}o=t.length,e=Hv(o)}this.layout=e,this.stride=o}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(e,t){const i=this.getFlatCoordinates();if(i){const o=this.getStride();E_(i,0,i.length,o,e,t,i),this.changed()}}scale(e,t,i){t===void 0&&(t=e),i||(i=Ar(this.getExtent()));const o=this.getFlatCoordinates();if(o){const l=this.getStride();Xv(o,0,o.length,l,e,t,i,o),this.changed()}}translate(e,t){const i=this.getFlatCoordinates();if(i){const o=this.getStride();Vv(i,0,i.length,o,e,t,i),this.changed()}}}function Hv(r){let e;return r==2?e="XY":r==3?e="XYZ":r==4&&(e="XYZM"),e}function Hp(r){let e;return r=="XY"?e=2:r=="XYZ"||r=="XYM"?e=3:r=="XYZM"&&(e=4),e}function Zv(r,e,t){const i=r.getFlatCoordinates();if(!i)return null;const o=r.getStride();return qi(i,0,i.length,o,e,t)}function w_(r,e,t,i){let o=0;const l=r[t-i],u=r[t-i+1];let c=0,d=0;for(;e<t;e+=i){const g=r[e]-l,p=r[e+1]-u;o+=d*g-c*p,c=g,d=p}return o/2}function $v(r,e,t,i){let o=0;for(let l=0,u=t.length;l<u;++l){const c=t[l];o+=w_(r,e,c,i),e=c}return o}function Zp(r,e,t,i,o,l,u){const c=r[e],d=r[e+1],g=r[t]-c,p=r[t+1]-d;let _;if(g===0&&p===0)_=e;else{const y=((o-c)*g+(l-d)*p)/(g*g+p*p);if(y>1)_=t;else if(y>0){for(let w=0;w<i;++w)u[w]=pn(r[e+w],r[t+w],y);u.length=i;return}else _=e}for(let y=0;y<i;++y)u[y]=r[_+y];u.length=i}function x_(r,e,t,i,o){let l=r[e],u=r[e+1];for(e+=i;e<t;e+=i){const c=r[e],d=r[e+1],g=ws(l,u,c,d);g>o&&(o=g),l=c,u=d}return o}function qv(r,e,t,i,o){for(let l=0,u=t.length;l<u;++l){const c=t[l];o=x_(r,e,c,i,o),e=c}return o}function S_(r,e,t,i,o,l,u,c,d,g,p){if(e==t)return g;let _,y;if(o===0){if(y=ws(u,c,r[e],r[e+1]),y<g){for(_=0;_<i;++_)d[_]=r[e+_];return d.length=i,y}return g}p=p||[NaN,NaN];let w=e+i;for(;w<t;)if(Zp(r,w-i,w,i,u,c,p),y=ws(u,c,p[0],p[1]),y<g){for(g=y,_=0;_<i;++_)d[_]=p[_];d.length=i,w+=i}else w+=i*Math.max((Math.sqrt(y)-Math.sqrt(g))/o|0,1);if(Zp(r,t-i,e,i,u,c,p),y=ws(u,c,p[0],p[1]),y<g){for(g=y,_=0;_<i;++_)d[_]=p[_];d.length=i}return g}function Jv(r,e,t,i,o,l,u,c,d,g,p){p=p||[NaN,NaN];for(let _=0,y=t.length;_<y;++_){const w=t[_];g=S_(r,e,w,i,o,l,u,c,d,g,p),e=w}return g}function Qv(r,e,t,i){for(let o=0,l=t.length;o<l;++o)r[e++]=t[o];return e}function C_(r,e,t,i){for(let o=0,l=t.length;o<l;++o){const u=t[o];for(let c=0;c<i;++c)r[e++]=u[c]}return e}function eE(r,e,t,i,o){o=o||[];let l=0;for(let u=0,c=t.length;u<c;++u){const d=C_(r,e,t[u],i);o[l++]=d,e=d}return o.length=l,o}function vs(r,e,t,i,o){o=o!==void 0?o:[];let l=0;for(let u=e;u<t;u+=i)o[l++]=r.slice(u,u+i);return o.length=l,o}function Fa(r,e,t,i,o){o=o!==void 0?o:[];let l=0;for(let u=0,c=t.length;u<c;++u){const d=t[u];o[l++]=vs(r,e,d,i,o[l]),e=d}return o.length=l,o}function $p(r,e,t,i,o){o=o!==void 0?o:[];let l=0;for(let u=0,c=t.length;u<c;++u){const d=t[u];o[l++]=d.length===1&&d[0]===e?[]:Fa(r,e,d,i,o[l]),e=d[d.length-1]}return o.length=l,o}function pd(r,e,t,i,o,l,u){const c=(t-e)/i;if(c<3){for(;e<t;e+=i)l[u++]=r[e],l[u++]=r[e+1];return u}const d=new Array(c);d[0]=1,d[c-1]=1;const g=[e,t-i];let p=0;for(;g.length>0;){const _=g.pop(),y=g.pop();let w=0;const E=r[y],S=r[y+1],x=r[_],R=r[_+1];for(let I=y+i;I<_;I+=i){const O=r[I],T=r[I+1],M=lv(O,T,E,S,x,R);M>w&&(p=I,w=M)}w>o&&(d[(p-e)/i]=1,y+i<p&&g.push(y,p),p+i<_&&g.push(p,_))}for(let _=0;_<c;++_)d[_]&&(l[u++]=r[e+_*i],l[u++]=r[e+_*i+1]);return u}function tE(r,e,t,i,o,l,u,c){for(let d=0,g=t.length;d<g;++d){const p=t[d];u=pd(r,e,p,i,o,l,u),c.push(u),e=p}return u}function wr(r,e){return e*Math.round(r/e)}function nE(r,e,t,i,o,l,u){if(e==t)return u;let c=wr(r[e],o),d=wr(r[e+1],o);e+=i,l[u++]=c,l[u++]=d;let g,p;do if(g=wr(r[e],o),p=wr(r[e+1],o),e+=i,e==t)return l[u++]=g,l[u++]=p,u;while(g==c&&p==d);for(;e<t;){const _=wr(r[e],o),y=wr(r[e+1],o);if(e+=i,_==g&&y==p)continue;const w=g-c,E=p-d,S=_-c,x=y-d;if(w*x==E*S&&(w<0&&S<w||w==S||w>0&&S>w)&&(E<0&&x<E||E==x||E>0&&x>E)){g=_,p=y;continue}l[u++]=g,l[u++]=p,c=g,d=p,g=_,p=y}return l[u++]=g,l[u++]=p,u}function R_(r,e,t,i,o,l,u,c){for(let d=0,g=t.length;d<g;++d){const p=t[d];u=nE(r,e,p,i,o,l,u),c.push(u),e=p}return u}class Uo extends gd{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}clone(){return new Uo(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,i,o){return o<n_(this.getExtent(),e,t)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(x_(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),S_(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,i,o))}getArea(){return w_(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return vs(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const t=[];return t.length=pd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new Uo(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=C_(this.flatCoordinates,0,e,this.stride),this.changed()}}class iu extends gd{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){const e=new iu(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,o){const l=this.flatCoordinates,u=ws(e,t,l[0],l[1]);if(u<o){const c=this.stride;for(let d=0;d<c;++d)i[d]=l[d];return i.length=c,u}return o}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return r_(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return i_(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Qv(this.flatCoordinates,0,e,this.stride),this.changed()}}function iE(r,e,t,i,o){return!o_(o,function(u){return!Sr(r,e,t,i,u[0],u[1])})}function Sr(r,e,t,i,o,l){let u=0,c=r[t-i],d=r[t-i+1];for(;e<t;e+=i){const g=r[e],p=r[e+1];d<=l?p>l&&(g-c)*(l-d)-(o-c)*(p-d)>0&&u++:p<=l&&(g-c)*(l-d)-(o-c)*(p-d)<0&&u--,c=g,d=p}return u!==0}function T_(r,e,t,i,o,l){if(t.length===0||!Sr(r,e,t[0],i,o,l))return!1;for(let u=1,c=t.length;u<c;++u)if(Sr(r,t[u-1],t[u],i,o,l))return!1;return!0}function md(r,e,t,i,o,l,u){let c,d,g,p,_,y,w;const E=o[l+1],S=[];for(let I=0,O=t.length;I<O;++I){const T=t[I];for(p=r[T-i],y=r[T-i+1],c=e;c<T;c+=i)_=r[c],w=r[c+1],(E<=y&&w<=E||y<=E&&E<=w)&&(g=(E-y)/(w-y)*(_-p)+p,S.push(g)),p=_,y=w}let x=NaN,R=-1/0;for(S.sort(Zi),p=S[0],c=1,d=S.length;c<d;++c){_=S[c];const I=Math.abs(_-p);I>R&&(g=(p+_)/2,T_(r,e,t,i,g,E)&&(x=g,R=I)),p=_}return isNaN(x)&&(x=o[l]),u?(u.push(x,E,R),u):[x,E,R]}function rE(r,e,t,i,o){let l=[];for(let u=0,c=t.length;u<c;++u){const d=t[u];l=md(r,e,d,i,o,2*u,l),e=d[d.length-1]}return l}function sE(r,e,t,i,o){let l;for(e+=i;e<t;e+=i)if(l=o(r.slice(e-i,e),r.slice(e,e+i)),l)return l;return!1}function I_(r,e,t,i,o,l){return l=l??s_(vn(),r,e,t,i),Bt(o,l)?l[0]>=o[0]&&l[2]<=o[2]||l[1]>=o[1]&&l[3]<=o[3]?!0:sE(r,e,t,i,function(u,c){return ov(o,u,c)}):!1}function L_(r,e,t,i,o){return!!(I_(r,e,t,i,o)||Sr(r,e,t,i,o[0],o[1])||Sr(r,e,t,i,o[0],o[3])||Sr(r,e,t,i,o[2],o[1])||Sr(r,e,t,i,o[2],o[3]))}function oE(r,e,t,i,o){if(!L_(r,e,t[0],i,o))return!1;if(t.length===1)return!0;for(let l=1,u=t.length;l<u;++l)if(iE(r,t[l-1],t[l],i,o)&&!I_(r,t[l-1],t[l],i,o))return!1;return!0}function lE(r,e,t,i){for(;e<t-i;){for(let o=0;o<i;++o){const l=r[e+o];r[e+o]=r[t-i+o],r[t-i+o]=l}e+=i,t-=i}}function _d(r,e,t,i){let o=0,l=r[t-i],u=r[t-i+1];for(;e<t;e+=i){const c=r[e],d=r[e+1];o+=(c-l)*(d+u),l=c,u=d}return o===0?void 0:o>0}function aE(r,e,t,i,o){o=o!==void 0?o:!1;for(let l=0,u=t.length;l<u;++l){const c=t[l],d=_d(r,e,c,i);if(l===0){if(o&&d||!o&&!d)return!1}else if(o&&!d||!o&&d)return!1;e=c}return!0}function qp(r,e,t,i,o){o=o!==void 0?o:!1;for(let l=0,u=t.length;l<u;++l){const c=t[l],d=_d(r,e,c,i);(l===0?o&&d||!o&&!d:o&&!d||!o&&d)&&lE(r,e,c,i),e=c}return e}function uE(r,e){const t=[];let i=0,o=0,l;for(let u=0,c=e.length;u<c;++u){const d=e[u],g=_d(r,i,d,2);if(l===void 0&&(l=g),g===l)t.push(e.slice(o,u+1));else{if(t.length===0)continue;t[t.length-1].push(e[o])}o=u+1,i=d}return t}class jo extends gd{constructor(e,t,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,t!==void 0&&i?(this.setFlatCoordinates(t,e),this.ends_=i):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?td(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new jo(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,o){return o<n_(this.getExtent(),e,t)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(qv(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Jv(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,i,o))}containsXY(e,t){return T_(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return $v(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),qp(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,Fa(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=Ar(this.getExtent());this.flatInteriorPoint_=md(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new iu(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new Uo(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,t=this.flatCoordinates,i=this.ends_,o=[];let l=0;for(let u=0,c=i.length;u<c;++u){const d=i[u],g=new Uo(t.slice(l,d),e);o.push(g),l=d}return o}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;aE(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=qp(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=R_(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,i),new jo(t,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return oE(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=eE(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}function Jp(r){if(Qa(r))throw new Error("Cannot create polygon from empty extent");const e=r[0],t=r[1],i=r[2],o=r[3],l=[e,t,e,o,i,o,i,t,e,t];return new jo(l,"XY",[l.length])}function Qp(r,e,t,i,o,l,u){let c,d;const g=(t-e)/i;if(g===1)c=e;else if(g===2)c=e,d=o;else if(g!==0){let p=r[e],_=r[e+1],y=0;const w=[0];for(let x=e+i;x<t;x+=i){const R=r[x],I=r[x+1];y+=Math.sqrt((R-p)*(R-p)+(I-_)*(I-_)),w.push(y),p=R,_=I}const E=o*y,S=H1(w,E);S<0?(d=(E-w[-S-2])/(w[-S-1]-w[-S-2]),c=e+(-S-2)*i):c=e+S*i}u=u>1?u:2,l=l||new Array(u);for(let p=0;p<u;++p)l[p]=c===void 0?NaN:d===void 0?r[c+p]:pn(r[c+p],r[c+i+p],d);return l}function cE(r,e,t,i){let o=r[e],l=r[e+1],u=0;for(let c=e+i;c<t;c+=i){const d=r[c],g=r[c+1];u+=Math.sqrt((d-o)*(d-o)+(g-l)*(g-l)),o=d,l=g}return u}const mn={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},er=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",hE=er.includes("firefox"),dE=er.includes("safari")&&!er.includes("chrom");dE&&(er.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(er));const fE=er.includes("webkit")&&!er.includes("edge"),k_=er.includes("macintosh"),A_=typeof devicePixelRatio<"u"?devicePixelRatio:1,P_=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,M_=typeof Image<"u"&&Image.prototype.decode,O_=function(){let r=!1;try{const e=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return r}(),Ce={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},em={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var tm={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function gE(r){var p,_;var e,t=[],i=1,o;if(typeof r=="number")return{space:"rgb",values:[r>>>16,(r&65280)>>>8,r&255],alpha:1};if(typeof r=="number")return{space:"rgb",values:[r>>>16,(r&65280)>>>8,r&255],alpha:1};if(r=String(r).toLowerCase(),em[r])t=em[r].slice(),o="rgb";else if(r==="transparent")i=0,o="rgb",t=[0,0,0];else if(r[0]==="#"){var l=r.slice(1),u=l.length,c=u<=4;i=1,c?(t=[parseInt(l[0]+l[0],16),parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16)],u===4&&(i=parseInt(l[3]+l[3],16)/255)):(t=[parseInt(l[0]+l[1],16),parseInt(l[2]+l[3],16),parseInt(l[4]+l[5],16)],u===8&&(i=parseInt(l[6]+l[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),o="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(r)){var d=e[1];o=d.replace(/a$/,"");var g=o==="cmyk"?4:o==="gray"?1:3;t=e[2].trim().split(/\s*[,\/]\s*|\s+/),o==="color"&&(o=t.shift()),t=t.map(function(y,w){if(y[y.length-1]==="%")return y=parseFloat(y)/100,w===3?y:o==="rgb"?y*255:o[0]==="h"||o[0]==="l"&&!w?y*100:o==="lab"?y*125:o==="lch"?w<2?y*150:y*360:o[0]==="o"&&!w?y:o==="oklab"?y*.4:o==="oklch"?w<2?y*.4:y*360:y;if(o[w]==="h"||w===2&&o[o.length-1]==="h"){if(tm[y]!==void 0)return tm[y];if(y.endsWith("deg"))return parseFloat(y);if(y.endsWith("turn"))return parseFloat(y)*360;if(y.endsWith("grad"))return parseFloat(y)*360/400;if(y.endsWith("rad"))return parseFloat(y)*180/Math.PI}return y==="none"?0:parseFloat(y)}),i=t.length>g?t.pop():1}else/[0-9](?:\s|\/|,)/.test(r)&&(t=r.match(/([0-9]+)/g).map(function(y){return parseFloat(y)}),o=((_=(p=r.match(/([a-z])/ig))==null?void 0:p.join(""))==null?void 0:_.toLowerCase())||"rgb");return{space:o,values:t,alpha:i}}var Wo={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]},uh={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(r){var e=r[0]/360,t=r[1]/100,i=r[2]/100,o,l,u,c,d,g=0;if(t===0)return d=i*255,[d,d,d];for(l=i<.5?i*(1+t):i+t-i*t,o=2*i-l,c=[0,0,0];g<3;)u=e+1/3*-(g-1),u<0?u++:u>1&&u--,d=6*u<1?o+(l-o)*6*u:2*u<1?l:3*u<2?o+(l-o)*(2/3-u)*6:o,c[g++]=d*255;return c}};Wo.hsl=function(r){var e=r[0]/255,t=r[1]/255,i=r[2]/255,o=Math.min(e,t,i),l=Math.max(e,t,i),u=l-o,c,d,g;return l===o?c=0:e===l?c=(t-i)/u:t===l?c=2+(i-e)/u:i===l&&(c=4+(e-t)/u),c=Math.min(c*60,360),c<0&&(c+=360),g=(o+l)/2,l===o?d=0:g<=.5?d=u/(l+o):d=u/(2-l-o),[c,d*100,g*100]};function pE(r){Array.isArray(r)&&r.raw&&(r=String.raw(...arguments)),r instanceof Number&&(r=+r);var e,t=gE(r);if(!t.space)return[];const i=t.space[0]==="h"?uh.min:Wo.min,o=t.space[0]==="h"?uh.max:Wo.max;return e=Array(3),e[0]=Math.min(Math.max(t.values[0],i[0]),o[0]),e[1]=Math.min(Math.max(t.values[1],i[1]),o[1]),e[2]=Math.min(Math.max(t.values[2],i[2]),o[2]),t.space[0]==="h"&&(e=uh.rgb(e)),e.push(Math.min(Math.max(t.alpha,0),1)),e}var xt={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"],whitepoint:{2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}}};xt.max=xt.whitepoint[2].D65;xt.rgb=function(r,e){e=e||xt.whitepoint[2].E;var t=r[0]/e[0],i=r[1]/e[1],o=r[2]/e[2],l,u,c;return l=t*3.240969941904521+i*-1.537383177570093+o*-.498610760293,u=t*-.96924363628087+i*1.87596750150772+o*.041555057407175,c=t*.055630079696993+i*-.20397695888897+o*1.056971514242878,l=l>.0031308?1.055*Math.pow(l,1/2.4)-.055:l=l*12.92,u=u>.0031308?1.055*Math.pow(u,1/2.4)-.055:u=u*12.92,c=c>.0031308?1.055*Math.pow(c,1/2.4)-.055:c=c*12.92,l=Math.min(Math.max(0,l),1),u=Math.min(Math.max(0,u),1),c=Math.min(Math.max(0,c),1),[l*255,u*255,c*255]};Wo.xyz=function(r,e){var t=r[0]/255,i=r[1]/255,o=r[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,o=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92;var l=t*.41239079926595+i*.35758433938387+o*.18048078840183,u=t*.21263900587151+i*.71516867876775+o*.072192315360733,c=t*.019330818715591+i*.11919477979462+o*.95053215224966;return e=e||xt.whitepoint[2].E,[l*e[0],u*e[1],c*e[2]]};var yd={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(r,e,t){var i,o,l,u,c,d,g,p,_,y,w,E,S;if(l=r[0],u=r[1],c=r[2],l===0)return[0,0,0];var x=.0011070564598794539;return e=e||"D65",t=t||2,_=xt.whitepoint[t][e][0],y=xt.whitepoint[t][e][1],w=xt.whitepoint[t][e][2],E=4*_/(_+15*y+3*w),S=9*y/(_+15*y+3*w),i=u/(13*l)+E||0,o=c/(13*l)+S||0,g=l>8?y*Math.pow((l+16)/116,3):y*l*x,d=g*9*i/(4*o)||0,p=g*(12-3*i-20*o)/(4*o)||0,[d,g,p]}};xt.luv=function(r,e,t){var i,o,l,u,c,d,g,p,_,y,w,E,S,x=.008856451679035631,R=903.2962962962961;e=e||"D65",t=t||2,_=xt.whitepoint[t][e][0],y=xt.whitepoint[t][e][1],w=xt.whitepoint[t][e][2],E=4*_/(_+15*y+3*w),S=9*y/(_+15*y+3*w),d=r[0],g=r[1],p=r[2],i=4*d/(d+15*g+3*p)||0,o=9*g/(d+15*g+3*p)||0;var I=g/y;return l=I<=x?R*I:116*Math.pow(I,1/3)-16,u=13*l*(i-E),c=13*l*(o-S),[l,u,c]};var D_={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(r){var e=r[0],t=r[1],i=r[2],o,l,u;return u=i/360*2*Math.PI,o=t*Math.cos(u),l=t*Math.sin(u),[e,o,l]},xyz:function(r){return yd.xyz(D_.luv(r))}};yd.lchuv=function(r){var e=r[0],t=r[1],i=r[2],o=Math.sqrt(t*t+i*i),l=Math.atan2(i,t),u=l*360/2/Math.PI;return u<0&&(u+=360),[e,o,u]};xt.lchuv=function(r){return yd.lchuv(xt.luv(r))};const vd=[NaN,NaN,NaN,0];function mE(r){return typeof r=="string"?r:wd(r)}const _E=1024,Co={};let ch=0;function yE(r){if(r.length===4)return r;const e=r.slice();return e[3]=1,e}function nm(r){const e=xt.lchuv(Wo.xyz(r));return e[3]=r[3],e}function vE(r){const e=xt.rgb(D_.xyz(r));return e[3]=r[3],e}function Ed(r){if(r==="none")return vd;if(Co.hasOwnProperty(r))return Co[r];if(ch>=_E){let t=0;for(const i in Co)t++&3||(delete Co[i],--ch)}const e=pE(r);if(e.length!==4)throw new Error('failed to parse "'+r+'" as color');for(const t of e)if(isNaN(t))throw new Error('failed to parse "'+r+'" as color');return F_(e),Co[r]=e,++ch,e}function As(r){return Array.isArray(r)?r:Ed(r)}function F_(r){return r[0]=et(r[0]+.5|0,0,255),r[1]=et(r[1]+.5|0,0,255),r[2]=et(r[2]+.5|0,0,255),r[3]=et(r[3],0,1),r}function wd(r){let e=r[0];e!=(e|0)&&(e=e+.5|0);let t=r[1];t!=(t|0)&&(t=t+.5|0);let i=r[2];i!=(i|0)&&(i=i+.5|0);const o=r[3]===void 0?1:Math.round(r[3]*1e3)/1e3;return"rgba("+e+","+t+","+i+","+o+")"}function ct(r,e,t,i){let o;return t&&t.length?o=t.shift():P_?o=new OffscreenCanvas(r||300,e||300):o=document.createElement("canvas"),r&&(o.width=r),e&&(o.height=e),o.getContext("2d",i)}let hh;function Na(){return hh||(hh=ct(1,1)),hh}function ru(r){const e=r.canvas;e.width=1,e.height=1,r.clearRect(0,0,1,1)}function im(r,e){const t=e.parentNode;t&&t.replaceChild(r,e)}function EE(r){for(;r.lastChild;)r.lastChild.remove()}function wE(r,e){const t=r.childNodes;for(let i=0;;++i){const o=t[i],l=e[i];if(!o&&!l)break;if(o!==l){if(!o){r.appendChild(l);continue}if(!l){r.removeChild(o),--i;continue}r.insertBefore(l,o)}}}function xE(r,e,t){const i=r;let o=!0,l=!1,u=!1;const c=[Aa(i,Ee.LOAD,function(){u=!0,l||e()})];return i.src&&M_?(l=!0,i.decode().then(function(){o&&e()}).catch(function(d){o&&(u?e():t())})):c.push(Aa(i,Ee.ERROR,t)),function(){o=!1,c.forEach(Xe)}}function SE(r,e){return new Promise((t,i)=>{function o(){u(),t(r)}function l(){u(),i(new Error("Image load error"))}function u(){r.removeEventListener("load",o),r.removeEventListener("error",l)}r.addEventListener("load",o),r.addEventListener("error",l)})}function CE(r,e){return e&&(r.src=e),r.src&&M_?new Promise((t,i)=>r.decode().then(()=>t(r)).catch(o=>r.complete&&r.width?t(r):i(o))):SE(r)}class RE{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const t in this.cache_){const i=this.cache_[t];!(e++&3)&&!i.hasListener()&&(delete this.cache_[t],delete this.patternCache_[t],--this.cacheSize_)}}}get(e,t,i){const o=dh(e,t,i);return o in this.cache_?this.cache_[o]:null}getPattern(e,t,i){const o=dh(e,t,i);return o in this.patternCache_?this.patternCache_[o]:null}set(e,t,i,o,l){const u=dh(e,t,i),c=u in this.cache_;this.cache_[u]=o,l&&(o.getImageState()===Ce.IDLE&&o.load(),o.getImageState()===Ce.LOADING?o.ready().then(()=>{this.patternCache_[u]=Na().createPattern(o.getImage(1),"repeat")}):this.patternCache_[u]=Na().createPattern(o.getImage(1),"repeat")),c||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function dh(r,e,t){const i=t?As(t):"null";return e+":"+r+":"+i}const _n=new RE;let Ro=null;class N_ extends Ha{constructor(e,t,i,o,l){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=l,this.imageState_=o===void 0?Ce.IDLE:o,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=t,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===Ce.LOADED){Ro||(Ro=ct(1,1,void 0,{willReadFrequently:!0})),Ro.drawImage(this.image_,0,0);try{Ro.getImageData(0,0,1,1),this.tainted_=!1}catch{Ro=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(Ee.CHANGE)}handleImageError_(){this.imageState_=Ce.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Ce.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],t=this.size_[1],i=ct(e,t);i.fillRect(0,0,e,t),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===Ce.IDLE){this.image_||this.initializeImage_(),this.imageState_=Ce.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&CE(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==Ce.LOADED)return;const t=this.image_,i=ct(Math.ceil(t.width*e),Math.ceil(t.height*e)),o=i.canvas;i.scale(e,e),i.drawImage(t,0,0),i.globalCompositeOperation="multiply",i.fillStyle=mE(this.color_),i.fillRect(0,0,o.width/e,o.height/e),i.globalCompositeOperation="destination-in",i.drawImage(t,0,0),this.canvas_[e]=o}ready(){return this.ready_||(this.ready_=new Promise(e=>{if(this.imageState_===Ce.LOADED||this.imageState_===Ce.ERROR)e();else{const t=()=>{(this.imageState_===Ce.LOADED||this.imageState_===Ce.ERROR)&&(this.removeEventListener(Ee.CHANGE,t),e())};this.addEventListener(Ee.CHANGE,t)}})),this.ready_}}function xd(r,e,t,i,o,l){let u=e===void 0?void 0:_n.get(e,t,o);return u||(u=new N_(r,r&&"src"in r?r.src||void 0:e,t,i,o),_n.set(e,t,o,u,l)),l&&u&&!_n.getPattern(e,t,o)&&_n.set(e,t,o,u,l),u}function Yn(r){return r?Array.isArray(r)?wd(r):typeof r=="object"&&"src"in r?TE(r):r:null}function TE(r){if(!r.offset||!r.size)return _n.getPattern(r.src,"anonymous",r.color);const e=r.src+":"+r.offset,t=_n.getPattern(e,void 0,r.color);if(t)return t;const i=_n.get(r.src,"anonymous",null);if(i.getImageState()!==Ce.LOADED)return null;const o=ct(r.size[0],r.size[1]);return o.drawImage(i.getImage(1),r.offset[0],r.offset[1],r.size[0],r.size[1],0,0,r.size[0],r.size[1]),xd(o.canvas,e,void 0,Ce.LOADED,r.color,!0),_n.getPattern(e,void 0,r.color)}class z_{drawCustom(e,t,i,o,l){}drawGeometry(e){}setStyle(e){}drawCircle(e,t,i){}drawFeature(e,t,i){}drawGeometryCollection(e,t,i){}drawLineString(e,t,i){}drawMultiLineString(e,t,i){}drawMultiPoint(e,t,i){}drawMultiPolygon(e,t,i){}drawPoint(e,t,i){}drawPolygon(e,t,i){}drawText(e,t,i){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}}const Ea="ol-hidden",su="ol-unselectable",Sd="ol-control",rm="ol-collapsed",IE=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),sm=["style","variant","weight","size","lineHeight","family"],b_=function(r){const e=r.match(IE);if(!e)return null;const t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,o=sm.length;i<o;++i){const l=e[i+1];l!==void 0&&(t[sm[i]]=l)}return t.families=t.family.split(/,\s?/),t},G_="10px sans-serif",jt="#000",Ps="round",di=[],fi=0,Ms="round",Bo=10,Xo="#000",Vo="center",za="middle",Cr=[0,0,0,0],Yo=1,ci=new Kn;let gs=null,Uh;const jh={},LE=function(){const e="32px ",t=["monospace","serif"],i=t.length,o="wmytzilWMYTZIL@#/&?$%10";let l,u;function c(g,p,_){let y=!0;for(let w=0;w<i;++w){const E=t[w];if(u=ba(g+" "+p+" "+e+E,o),_!=E){const S=ba(g+" "+p+" "+e+_+","+E,o);y=y&&S!=u}}return!!y}function d(){let g=!0;const p=ci.getKeys();for(let _=0,y=p.length;_<y;++_){const w=p[_];if(ci.get(w)<100){const[E,S,x]=w.split(`
`);c(E,S,x)?($o(jh),gs=null,Uh=void 0,ci.set(w,100)):(ci.set(w,ci.get(w)+1,!0),g=!1)}}g&&(clearInterval(l),l=void 0)}return function(g){const p=b_(g);if(!p)return;const _=p.families;for(let y=0,w=_.length;y<w;++y){const E=_[y],S=p.style+`
`+p.weight+`
`+E;ci.get(S)===void 0&&(ci.set(S,100,!0),c(p.style,p.weight,E)||(ci.set(S,0,!0),l===void 0&&(l=setInterval(d,32))))}}}(),kE=function(){let r;return function(e){let t=jh[e];if(t==null){if(P_){const i=b_(e),o=U_(e,"g");t=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(o.actualBoundingBoxAscent+o.actualBoundingBoxDescent)}else r||(r=document.createElement("div"),r.innerHTML="M",r.style.minHeight="0",r.style.maxHeight="none",r.style.height="auto",r.style.padding="0",r.style.border="none",r.style.position="absolute",r.style.display="block",r.style.left="-99999px"),r.style.font=e,document.body.appendChild(r),t=r.offsetHeight,document.body.removeChild(r);jh[e]=t}return t}}();function U_(r,e){return gs||(gs=ct(1,1)),r!=Uh&&(gs.font=r,Uh=gs.font),gs.measureText(e)}function ba(r,e){return U_(r,e).width}function om(r,e,t){if(e in t)return t[e];const i=e.split(`
`).reduce((o,l)=>Math.max(o,ba(r,l)),0);return t[e]=i,i}function AE(r,e){const t=[],i=[],o=[];let l=0,u=0,c=0,d=0;for(let g=0,p=e.length;g<=p;g+=2){const _=e[g];if(_===`
`||g===p){l=Math.max(l,u),o.push(u),u=0,c+=d,d=0;continue}const y=e[g+1]||r.font,w=ba(y,_);t.push(w),u+=w;const E=kE(y);i.push(E),d=Math.max(d,E)}return{width:l,height:c,widths:t,heights:i,lineWidths:o}}function PE(r,e,t,i,o,l,u,c,d,g,p){r.save(),t!==1&&(r.globalAlpha===void 0?r.globalAlpha=_=>_.globalAlpha*=t:r.globalAlpha*=t),e&&r.transform.apply(r,e),i.contextInstructions?(r.translate(d,g),r.scale(p[0],p[1]),ME(i,r)):p[0]<0||p[1]<0?(r.translate(d,g),r.scale(p[0],p[1]),r.drawImage(i,o,l,u,c,0,0,u,c)):r.drawImage(i,o,l,u,c,d,g,u*p[0],c*p[1]),r.restore()}function ME(r,e){const t=r.contextInstructions;for(let i=0,o=t.length;i<o;i+=2)Array.isArray(t[i+1])?e[t[i]].apply(e,t[i+1]):e[t[i]]=t[i+1]}class OE extends z_{constructor(e,t,i,o,l,u,c){super(),this.context_=e,this.pixelRatio_=t,this.extent_=i,this.transform_=o,this.transformRotation_=o?sd(Math.atan2(o[1],o[0]),10):0,this.viewRotation_=l,this.squaredTolerance_=u,this.userTransform_=c,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Pn()}drawImages_(e,t,i,o){if(!this.image_)return;const l=qi(e,t,i,o,this.transform_,this.pixelCoordinates_),u=this.context_,c=this.tmpLocalTransform_,d=u.globalAlpha;this.imageOpacity_!=1&&(u.globalAlpha=d*this.imageOpacity_);let g=this.imageRotation_;this.transformRotation_===0&&(g-=this.viewRotation_),this.imageRotateWithView_&&(g+=this.viewRotation_);for(let p=0,_=l.length;p<_;p+=2){const y=l[p]-this.imageAnchorX_,w=l[p+1]-this.imageAnchorY_;if(g!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const E=y+this.imageAnchorX_,S=w+this.imageAnchorY_;gi(c,E,S,1,1,g,-E,-S),u.save(),u.transform.apply(u,c),u.translate(E,S),u.scale(this.imageScale_[0],this.imageScale_[1]),u.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),u.restore()}else u.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,y,w,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(u.globalAlpha=d)}drawText_(e,t,i,o){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const l=qi(e,t,i,o,this.transform_,this.pixelCoordinates_),u=this.context_;let c=this.textRotation_;for(this.transformRotation_===0&&(c-=this.viewRotation_),this.textRotateWithView_&&(c+=this.viewRotation_);t<i;t+=o){const d=l[t]+this.textOffsetX_,g=l[t+1]+this.textOffsetY_;c!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(u.save(),u.translate(d-this.textOffsetX_,g-this.textOffsetY_),u.rotate(c),u.translate(this.textOffsetX_,this.textOffsetY_),u.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&u.strokeText(this.text_,0,0),this.textFillState_&&u.fillText(this.text_,0,0),u.restore()):(this.textStrokeState_&&u.strokeText(this.text_,d,g),this.textFillState_&&u.fillText(this.text_,d,g))}}moveToLineTo_(e,t,i,o,l){const u=this.context_,c=qi(e,t,i,o,this.transform_,this.pixelCoordinates_);u.moveTo(c[0],c[1]);let d=c.length;l&&(d-=2);for(let g=2;g<d;g+=2)u.lineTo(c[g],c[g+1]);return l&&u.closePath(),i}drawRings_(e,t,i,o){for(let l=0,u=i.length;l<u;++l)t=this.moveToLineTo_(e,t,i[l],o,!0);return t}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Bt(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=Zv(e,this.transform_,this.pixelCoordinates_),i=t[2]-t[0],o=t[3]-t[1],l=Math.sqrt(i*i+o*o),u=this.context_;u.beginPath(),u.arc(t[0],t[1],l,0,2*Math.PI),this.fillState_&&u.fill(),this.strokeState_&&u.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}}drawFeature(e,t){const i=t.getGeometryFunction()(e);i&&(this.setStyle(t),this.drawGeometry(i))}drawGeometryCollection(e){const t=e.getGeometriesArray();for(let i=0,o=t.length;i<o;++i)this.drawGeometry(t[i])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Bt(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),t.stroke()}if(this.text_!==""){const t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getExtent();if(Bt(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const i=this.context_,o=e.getFlatCoordinates();let l=0;const u=e.getEnds(),c=e.getStride();i.beginPath();for(let d=0,g=u.length;d<g;++d)l=this.moveToLineTo_(o,l,u[d],c,!1);i.stroke()}if(this.text_!==""){const i=e.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Bt(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Bt(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getOrientedFlatCoordinates();let o=0;const l=e.getEndss(),u=e.getStride();t.beginPath();for(let c=0,d=l.length;c<d;++c){const g=l[c];o=this.drawRings_(i,o,g,u)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){const t=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const t=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,t.lineCap=e.lineCap),tr(i.lineDash,e.lineDash)||t.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const t=this.context_,i=this.contextTextState_,o=e.textAlign?e.textAlign:Vo;i?(i.font!=e.font&&(i.font=e.font,t.font=e.font),i.textAlign!=o&&(i.textAlign=o,t.textAlign=o),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=o,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:o,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(!e)this.fillState_=null;else{const i=e.getColor();this.fillState_={fillStyle:Yn(i||jt)}}if(!t)this.strokeState_=null;else{const i=t.getColor(),o=t.getLineCap(),l=t.getLineDash(),u=t.getLineDashOffset(),c=t.getLineJoin(),d=t.getWidth(),g=t.getMiterLimit(),p=l||di;this.strokeState_={lineCap:o!==void 0?o:Ps,lineDash:this.pixelRatio_===1?p:p.map(_=>_*this.pixelRatio_),lineDashOffset:(u||fi)*this.pixelRatio_,lineJoin:c!==void 0?c:Ms,lineWidth:(d!==void 0?d:Yo)*this.pixelRatio_,miterLimit:g!==void 0?g:Bo,strokeStyle:Yn(i||Xo)}}}setImageStyle(e){let t;if(!e||!(t=e.getSize())){this.image_=null;return}const i=e.getPixelRatio(this.pixelRatio_),o=e.getAnchor(),l=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=o[0]*i,this.imageAnchorY_=o[1]*i,this.imageHeight_=t[1]*i,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=l[0],this.imageOriginY_=l[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const u=e.getScaleArray();this.imageScale_=[u[0]*this.pixelRatio_/i,u[1]*this.pixelRatio_/i],this.imageWidth_=t[0]*i}setTextStyle(e){if(!e)this.text_="";else{const t=e.getFill();if(!t)this.textFillState_=null;else{const w=t.getColor();this.textFillState_={fillStyle:Yn(w||jt)}}const i=e.getStroke();if(!i)this.textStrokeState_=null;else{const w=i.getColor(),E=i.getLineCap(),S=i.getLineDash(),x=i.getLineDashOffset(),R=i.getLineJoin(),I=i.getWidth(),O=i.getMiterLimit();this.textStrokeState_={lineCap:E!==void 0?E:Ps,lineDash:S||di,lineDashOffset:x||fi,lineJoin:R!==void 0?R:Ms,lineWidth:I!==void 0?I:Yo,miterLimit:O!==void 0?O:Bo,strokeStyle:Yn(w||Xo)}}const o=e.getFont(),l=e.getOffsetX(),u=e.getOffsetY(),c=e.getRotateWithView(),d=e.getRotation(),g=e.getScaleArray(),p=e.getText(),_=e.getTextAlign(),y=e.getTextBaseline();this.textState_={font:o!==void 0?o:G_,textAlign:_!==void 0?_:Vo,textBaseline:y!==void 0?y:za},this.text_=p!==void 0?Array.isArray(p)?p.reduce((w,E,S)=>w+=S%2?" ":E,""):p:"",this.textOffsetX_=l!==void 0?this.pixelRatio_*l:0,this.textOffsetY_=u!==void 0?this.pixelRatio_*u:0,this.textRotateWithView_=c!==void 0?c:!1,this.textRotation_=d!==void 0?d:0,this.textScale_=[this.pixelRatio_*g[0],this.pixelRatio_*g[1]]}}}const DE=.5,j_={Point:WE,LineString:GE,Polygon:XE,MultiPoint:BE,MultiLineString:UE,MultiPolygon:jE,GeometryCollection:bE,Circle:NE};function FE(r,e){return parseInt(De(r),10)-parseInt(De(e),10)}function lm(r,e){const t=W_(r,e);return t*t}function W_(r,e){return DE*r/e}function NE(r,e,t,i,o){const l=t.getFill(),u=t.getStroke();if(l||u){const d=r.getBuilder(t.getZIndex(),"Circle");d.setFillStrokeStyle(l,u),d.drawCircle(e,i,o)}const c=t.getText();if(c&&c.getText()){const d=r.getBuilder(t.getZIndex(),"Text");d.setTextStyle(c),d.drawText(e,i)}}function am(r,e,t,i,o,l,u,c){const d=[],g=t.getImage();if(g){let y=!0;const w=g.getImageState();w==Ce.LOADED||w==Ce.ERROR?y=!1:w==Ce.IDLE&&g.load(),y&&d.push(g.ready())}const p=t.getFill();p&&p.loading()&&d.push(p.ready());const _=d.length>0;return _&&Promise.all(d).then(()=>o(null)),zE(r,e,t,i,l,u,c),_}function zE(r,e,t,i,o,l,u){const c=t.getGeometryFunction()(e);if(!c)return;const d=c.simplifyTransformed(i,o);if(t.getRenderer())B_(r,d,t,e,u);else{const p=j_[d.getType()];p(r,d,t,e,u,l)}}function B_(r,e,t,i,o){if(e.getType()=="GeometryCollection"){const u=e.getGeometries();for(let c=0,d=u.length;c<d;++c)B_(r,u[c],t,i,o);return}r.getBuilder(t.getZIndex(),"Default").drawCustom(e,i,t.getRenderer(),t.getHitDetectionRenderer(),o)}function bE(r,e,t,i,o,l){const u=e.getGeometriesArray();let c,d;for(c=0,d=u.length;c<d;++c){const g=j_[u[c].getType()];g(r,u[c],t,i,o,l)}}function GE(r,e,t,i,o){const l=t.getStroke();if(l){const c=r.getBuilder(t.getZIndex(),"LineString");c.setFillStrokeStyle(null,l),c.drawLineString(e,i,o)}const u=t.getText();if(u&&u.getText()){const c=r.getBuilder(t.getZIndex(),"Text");c.setTextStyle(u),c.drawText(e,i,o)}}function UE(r,e,t,i,o){const l=t.getStroke();if(l){const c=r.getBuilder(t.getZIndex(),"LineString");c.setFillStrokeStyle(null,l),c.drawMultiLineString(e,i,o)}const u=t.getText();if(u&&u.getText()){const c=r.getBuilder(t.getZIndex(),"Text");c.setTextStyle(u),c.drawText(e,i,o)}}function jE(r,e,t,i,o){const l=t.getFill(),u=t.getStroke();if(u||l){const d=r.getBuilder(t.getZIndex(),"Polygon");d.setFillStrokeStyle(l,u),d.drawMultiPolygon(e,i,o)}const c=t.getText();if(c&&c.getText()){const d=r.getBuilder(t.getZIndex(),"Text");d.setTextStyle(c),d.drawText(e,i,o)}}function WE(r,e,t,i,o,l){const u=t.getImage(),c=t.getText(),d=c&&c.getText(),g=l&&u&&d?{}:void 0;if(u){if(u.getImageState()!=Ce.LOADED)return;const p=r.getBuilder(t.getZIndex(),"Image");p.setImageStyle(u,g),p.drawPoint(e,i,o)}if(d){const p=r.getBuilder(t.getZIndex(),"Text");p.setTextStyle(c,g),p.drawText(e,i,o)}}function BE(r,e,t,i,o,l){const u=t.getImage(),c=u&&u.getOpacity()!==0,d=t.getText(),g=d&&d.getText(),p=l&&c&&g?{}:void 0;if(c){if(u.getImageState()!=Ce.LOADED)return;const _=r.getBuilder(t.getZIndex(),"Image");_.setImageStyle(u,p),_.drawMultiPoint(e,i,o)}if(g){const _=r.getBuilder(t.getZIndex(),"Text");_.setTextStyle(d,p),_.drawText(e,i,o)}}function XE(r,e,t,i,o){const l=t.getFill(),u=t.getStroke();if(l||u){const d=r.getBuilder(t.getZIndex(),"Polygon");d.setFillStrokeStyle(l,u),d.drawPolygon(e,i,o)}const c=t.getText();if(c&&c.getText()){const d=r.getBuilder(t.getZIndex(),"Text");d.setTextStyle(c),d.drawText(e,i,o)}}let VE=!1;function YE(r,e,t,i,o,l,u){const c=new XMLHttpRequest;c.open("GET",typeof r=="function"?r(t,i,o):r,!0),e.getType()=="arraybuffer"&&(c.responseType="arraybuffer"),c.withCredentials=VE,c.onload=function(d){if(!c.status||c.status>=200&&c.status<300){const g=e.getType();try{let p;g=="text"||g=="json"?p=c.responseText:g=="xml"?p=c.responseXML||c.responseText:g=="arraybuffer"&&(p=c.response),p?l(e.readFeatures(p,{extent:t,featureProjection:o}),e.readProjection(p)):u()}catch{u()}}else u()},c.onerror=u,c.send()}function um(r,e){return function(t,i,o,l,u){YE(r,e,t,i,o,(c,d)=>{this.addFeatures(c),l!==void 0&&l(c)},u||Ts)}}function KE(r,e){return[[-1/0,-1/0,1/0,1/0]]}function HE(r,e,t,i){const o=[];let l=vn();for(let u=0,c=t.length;u<c;++u){const d=t[u];l=rd(r,e,d[0],i),o.push((l[0]+l[2])/2,(l[1]+l[3])/2),e=d[d.length-1]}return o}const cm=Pn();class kn{constructor(e,t,i,o,l,u){this.styleFunction,this.extent_,this.id_=u,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=l,this.squaredTolerance_,this.stride_=o,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?r_(this.flatCoordinates_):rd(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=Ar(this.getExtent());this.flatInteriorPoints_=md(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=uE(this.flatCoordinates_,this.ends_),t=HE(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=rE(this.flatCoordinates_,0,e,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=Qp(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let t=0;const i=this.ends_;for(let o=0,l=i.length;o<l;++o){const u=i[o],c=Qp(e,t,u,2,.5);td(this.flatMidpoints_,c),t=u}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,t){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){e=Kt(e);const t=e.getExtent(),i=e.getWorldExtent();if(t&&i){const o=Pt(i)/Pt(t);gi(cm,i[0],i[3],o,-o,0,0,0),qi(this.flatCoordinates_,0,this.flatCoordinates_.length,2,cm,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){var e;return new kn(this.type_,this.flatCoordinates_.slice(),(e=this.ends_)==null?void 0:e.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=e_((e,t)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),t&&this.simplifiedGeometry_.applyTransform(t);const i=this.simplifiedGeometry_.getFlatCoordinates();let o;switch(this.type_){case"LineString":i.length=pd(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,i,0),o=[i.length];break;case"MultiLineString":o=[],i.length=tE(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,i,0,o);break;case"Polygon":o=[],i.length=R_(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),i,0,o);break}return o&&(this.simplifiedGeometry_=new kn(this.type_,i,o,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}}kn.prototype.getFlatCoordinates=kn.prototype.getOrientedFlatCoordinates;function X_(r,e,t=0,i=r.length-1,o=ZE){for(;i>t;){if(i-t>600){const d=i-t+1,g=e-t+1,p=Math.log(d),_=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*_*(d-_)/d)*(g-d/2<0?-1:1),w=Math.max(t,Math.floor(e-g*_/d+y)),E=Math.min(i,Math.floor(e+(d-g)*_/d+y));X_(r,e,w,E,o)}const l=r[e];let u=t,c=i;for(To(r,t,e),o(r[i],l)>0&&To(r,t,i);u<c;){for(To(r,u,c),u++,c--;o(r[u],l)<0;)u++;for(;o(r[c],l)>0;)c--}o(r[t],l)===0?To(r,t,c):(c++,To(r,c,i)),c<=e&&(t=c+1),e<=c&&(i=c-1)}}function To(r,e,t){const i=r[e];r[e]=r[t],r[t]=i}function ZE(r,e){return r<e?-1:r>e?1:0}let V_=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const i=[];if(!xa(e,t))return i;const o=this.toBBox,l=[];for(;t;){for(let u=0;u<t.children.length;u++){const c=t.children[u],d=t.leaf?o(c):c;xa(e,d)&&(t.leaf?i.push(c):gh(e,d)?this._all(c,i):l.push(c))}t=l.pop()}return i}collides(e){let t=this.data;if(!xa(e,t))return!1;const i=[];for(;t;){for(let o=0;o<t.children.length;o++){const l=t.children[o],u=t.leaf?this.toBBox(l):l;if(xa(e,u)){if(t.leaf||gh(e,u))return!0;i.push(l)}}t=i.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const i=this.data;this.data=t,t=i}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=ps([]),this}remove(e,t){if(!e)return this;let i=this.data;const o=this.toBBox(e),l=[],u=[];let c,d,g;for(;i||l.length;){if(i||(i=l.pop(),d=l[l.length-1],c=u.pop(),g=!0),i.leaf){const p=$E(e,i.children,t);if(p!==-1)return i.children.splice(p,1),l.push(i),this._condense(l),this}!g&&!i.leaf&&gh(i,o)?(l.push(i),u.push(c),c=0,d=i,i=i.children[0]):d?(c++,i=d.children[c],g=!1):i=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const i=[];for(;e;)e.leaf?t.push(...e.children):i.push(...e.children),e=i.pop();return t}_build(e,t,i,o){const l=i-t+1;let u=this._maxEntries,c;if(l<=u)return c=ps(e.slice(t,i+1)),as(c,this.toBBox),c;o||(o=Math.ceil(Math.log(l)/Math.log(u)),u=Math.ceil(l/Math.pow(u,o-1))),c=ps([]),c.leaf=!1,c.height=o;const d=Math.ceil(l/u),g=d*Math.ceil(Math.sqrt(u));hm(e,t,i,g,this.compareMinX);for(let p=t;p<=i;p+=g){const _=Math.min(p+g-1,i);hm(e,p,_,d,this.compareMinY);for(let y=p;y<=_;y+=d){const w=Math.min(y+d-1,_);c.children.push(this._build(e,y,w,o-1))}}return as(c,this.toBBox),c}_chooseSubtree(e,t,i,o){for(;o.push(t),!(t.leaf||o.length-1===i);){let l=1/0,u=1/0,c;for(let d=0;d<t.children.length;d++){const g=t.children[d],p=fh(g),_=QE(e,g)-p;_<u?(u=_,l=p<l?p:l,c=g):_===u&&p<l&&(l=p,c=g)}t=c||t.children[0]}return t}_insert(e,t,i){const o=i?e:this.toBBox(e),l=[],u=this._chooseSubtree(o,this.data,t,l);for(u.children.push(e),Po(u,o);t>=0&&l[t].children.length>this._maxEntries;)this._split(l,t),t--;this._adjustParentBBoxes(o,l,t)}_split(e,t){const i=e[t],o=i.children.length,l=this._minEntries;this._chooseSplitAxis(i,l,o);const u=this._chooseSplitIndex(i,l,o),c=ps(i.children.splice(u,i.children.length-u));c.height=i.height,c.leaf=i.leaf,as(i,this.toBBox),as(c,this.toBBox),t?e[t-1].children.push(c):this._splitRoot(i,c)}_splitRoot(e,t){this.data=ps([e,t]),this.data.height=e.height+1,this.data.leaf=!1,as(this.data,this.toBBox)}_chooseSplitIndex(e,t,i){let o,l=1/0,u=1/0;for(let c=t;c<=i-t;c++){const d=Ao(e,0,c,this.toBBox),g=Ao(e,c,i,this.toBBox),p=ew(d,g),_=fh(d)+fh(g);p<l?(l=p,o=c,u=_<u?_:u):p===l&&_<u&&(u=_,o=c)}return o||i-t}_chooseSplitAxis(e,t,i){const o=e.leaf?this.compareMinX:qE,l=e.leaf?this.compareMinY:JE,u=this._allDistMargin(e,t,i,o),c=this._allDistMargin(e,t,i,l);u<c&&e.children.sort(o)}_allDistMargin(e,t,i,o){e.children.sort(o);const l=this.toBBox,u=Ao(e,0,t,l),c=Ao(e,i-t,i,l);let d=wa(u)+wa(c);for(let g=t;g<i-t;g++){const p=e.children[g];Po(u,e.leaf?l(p):p),d+=wa(u)}for(let g=i-t-1;g>=t;g--){const p=e.children[g];Po(c,e.leaf?l(p):p),d+=wa(c)}return d}_adjustParentBBoxes(e,t,i){for(let o=i;o>=0;o--)Po(t[o],e)}_condense(e){for(let t=e.length-1,i;t>=0;t--)e[t].children.length===0?t>0?(i=e[t-1].children,i.splice(i.indexOf(e[t]),1)):this.clear():as(e[t],this.toBBox)}};function $E(r,e,t){if(!t)return e.indexOf(r);for(let i=0;i<e.length;i++)if(t(r,e[i]))return i;return-1}function as(r,e){Ao(r,0,r.children.length,e,r)}function Ao(r,e,t,i,o){o||(o=ps(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(let l=e;l<t;l++){const u=r.children[l];Po(o,r.leaf?i(u):u)}return o}function Po(r,e){return r.minX=Math.min(r.minX,e.minX),r.minY=Math.min(r.minY,e.minY),r.maxX=Math.max(r.maxX,e.maxX),r.maxY=Math.max(r.maxY,e.maxY),r}function qE(r,e){return r.minX-e.minX}function JE(r,e){return r.minY-e.minY}function fh(r){return(r.maxX-r.minX)*(r.maxY-r.minY)}function wa(r){return r.maxX-r.minX+(r.maxY-r.minY)}function QE(r,e){return(Math.max(e.maxX,r.maxX)-Math.min(e.minX,r.minX))*(Math.max(e.maxY,r.maxY)-Math.min(e.minY,r.minY))}function ew(r,e){const t=Math.max(r.minX,e.minX),i=Math.max(r.minY,e.minY),o=Math.min(r.maxX,e.maxX),l=Math.min(r.maxY,e.maxY);return Math.max(0,o-t)*Math.max(0,l-i)}function gh(r,e){return r.minX<=e.minX&&r.minY<=e.minY&&e.maxX<=r.maxX&&e.maxY<=r.maxY}function xa(r,e){return e.minX<=r.maxX&&e.minY<=r.maxY&&e.maxX>=r.minX&&e.maxY>=r.minY}function ps(r){return{children:r,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function hm(r,e,t,i,o){const l=[e,t];for(;l.length;){if(t=l.pop(),e=l.pop(),t-e<=i)continue;const u=e+Math.ceil((t-e)/i/2)*i;X_(r,u,e,t,o),l.push(e,u,u,t)}}class dm{constructor(e){this.rbush_=new V_(e),this.items_={}}insert(e,t){const i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(i),this.items_[De(t)]=i}load(e,t){const i=new Array(t.length);for(let o=0,l=t.length;o<l;o++){const u=e[o],c=t[o],d={minX:u[0],minY:u[1],maxX:u[2],maxY:u[3],value:c};i[o]=d,this.items_[De(c)]=d}this.rbush_.load(i)}remove(e){const t=De(e),i=this.items_[t];return delete this.items_[t],this.rbush_.remove(i)!==null}update(e,t){const i=this.items_[De(t)],o=[i.minX,i.minY,i.maxX,i.maxY];bo(o,e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map(function(t){return t.value})}getInExtent(e){const t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map(function(o){return o.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let i;for(let o=0,l=e.length;o<l;o++)if(i=t(e[o]),i)return i;return i}isEmpty(){return Is(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const t=this.rbush_.toJSON();return Qi(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const t in e.items_)this.items_[t]=e.items_[t]}}class Y_ extends Kn{constructor(e){super(),this.projection=Kt(e.projection),this.attributions_=fm(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const t=this;this.viewPromise_=new Promise(function(i,o){t.viewResolver=i,t.viewRejector=o})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=fm(e),this.changed()}setState(e){this.state_=e,this.changed()}}function fm(r){return r?typeof r=="function"?r:(Array.isArray(r)||(r=[r]),e=>r):null}const gn={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};class Gi extends pi{constructor(e,t,i){super(e),this.feature=t,this.features=i}}class tw extends Y_{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=Ts,this.format_=e.format||null,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(Me(this.format_,"`format` must be set when `url` is set"),this.loader_=um(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:KE;const t=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=t?new dm:null,this.loadedExtentsRtree_=new dm,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let i,o;Array.isArray(e.features)?o=e.features:e.features&&(i=e.features,o=i.getArray()),!t&&i===void 0&&(i=new Vn(o)),o!==void 0&&this.addFeaturesInternal(o),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const t=De(e);if(!this.addToIndex_(t,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(t,e);const i=e.getGeometry();if(i){const o=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(o,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new Gi(gn.ADDFEATURE,e))}setupChangeEvents_(e,t){t instanceof kn||(this.featureChangeKeys_[e]=[Pe(t,Ee.CHANGE,this.handleFeatureChange_,this),Pe(t,Rs.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,t){let i=!0;if(t.getId()!==void 0){const o=String(t.getId());if(!(o in this.idIndex_))this.idIndex_[o]=t;else if(t instanceof kn){const l=this.idIndex_[o];l instanceof kn?Array.isArray(l)?l.push(t):this.idIndex_[o]=[l,t]:i=!1}else i=!1}return i&&(Me(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=t),i}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const t=[],i=[],o=[];for(let l=0,u=e.length;l<u;l++){const c=e[l],d=De(c);this.addToIndex_(d,c)&&i.push(c)}for(let l=0,u=i.length;l<u;l++){const c=i[l],d=De(c);this.setupChangeEvents_(d,c);const g=c.getGeometry();if(g){const p=g.getExtent();t.push(p),o.push(c)}else this.nullGeometryFeatures_[d]=c}if(this.featuresRtree_&&this.featuresRtree_.load(t,o),this.hasListener(gn.ADDFEATURE))for(let l=0,u=i.length;l<u;l++)this.dispatchEvent(new Gi(gn.ADDFEATURE,i[l]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(gn.ADDFEATURE,function(i){t||(t=!0,e.push(i.feature),t=!1)}),this.addEventListener(gn.REMOVEFEATURE,function(i){t||(t=!0,e.remove(i.feature),t=!1)}),e.addEventListener(Ut.ADD,i=>{t||(t=!0,this.addFeature(i.element),t=!1)}),e.addEventListener(Ut.REMOVE,i=>{t||(t=!0,this.removeFeature(i.element),t=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(Xe);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(i=>{this.removeFeatureInternal(i)});for(const i in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const t=new Gi(gn.CLEAR);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){const i=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(i,function(o){const l=o.getGeometry();if(l instanceof kn||l.intersectsCoordinate(e))return t(o)})}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,function(i){const o=i.getGeometry();if(o instanceof kn||o.intersectsExtent(e)){const l=t(i);if(l)return l}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),Is(this.nullGeometryFeatures_)||td(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const t=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){t.push(i)}),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const o=u_(e,t);return[].concat(...o.map(l=>this.featuresRtree_.getInExtent(l)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){const i=e[0],o=e[1];let l=null;const u=[NaN,NaN];let c=1/0;const d=[-1/0,-1/0,1/0,1/0];return t=t||zo,this.featuresRtree_.forEachInExtent(d,function(g){if(t(g)){const p=g.getGeometry(),_=c;if(c=p instanceof kn?0:p.closestPointXY(i,o,u,c),c<_){l=g;const y=Math.sqrt(c);d[0]=i-y,d[1]=o-y,d[2]=i+y,d[3]=o+y}}}),l}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const t=this.idIndex_[e.toString()];return t!==void 0?t:null}getFeatureByUid(e){const t=this.uidIndex_[e];return t!==void 0?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const t=e.target,i=De(t),o=t.getGeometry();if(!o)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[i]=t);else{const u=o.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(u,t)):this.featuresRtree_&&this.featuresRtree_.update(u,t)}const l=t.getId();if(l!==void 0){const u=l.toString();this.idIndex_[u]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[u]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[i]=t;this.changed(),this.dispatchEvent(new Gi(gn.CHANGEFEATURE,t))}hasFeature(e){const t=e.getId();return t!==void 0?t in this.idIndex_:De(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Is(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,t,i){const o=this.loadedExtentsRtree_,l=this.strategy_(e,t,i);for(let u=0,c=l.length;u<c;++u){const d=l[u];o.forEachInExtent(d,function(p){return ko(p.extent,d)})||(++this.loadingExtentsCount_,this.dispatchEvent(new Gi(gn.FEATURESLOADSTART)),this.loader_.call(this,d,t,i,p=>{--this.loadingExtentsCount_,this.dispatchEvent(new Gi(gn.FEATURESLOADEND,void 0,p))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Gi(gn.FEATURESLOADERROR))}),o.insert(d,{extent:d.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const t=this.loadedExtentsRtree_,i=t.forEachInExtent(e,function(o){if(bo(o.extent,e))return o});i&&t.remove(i)}removeFeatures(e){let t=!1;for(let i=0,o=e.length;i<o;++i)t=this.removeFeatureInternal(e[i])||t;t&&this.changed()}removeFeature(e){if(!e)return;this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const t=De(e);if(!(t in this.uidIndex_))return!1;t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e);const i=this.featureChangeKeys_[t];i==null||i.forEach(Xe),delete this.featureChangeKeys_[t];const o=e.getId();if(o!==void 0){const l=o.toString(),u=this.idIndex_[l];u===e?delete this.idIndex_[l]:Array.isArray(u)&&(u.splice(u.indexOf(e),1),u.length===1&&(this.idIndex_[l]=u[0]))}return delete this.uidIndex_[t],this.hasListener(gn.REMOVEFEATURE)&&this.dispatchEvent(new Gi(gn.REMOVEFEATURE,e)),!0}removeFromIdIndex_(e){for(const t in this.idIndex_)if(this.idIndex_[t]===e){delete this.idIndex_[t];break}}setLoader(e){this.loader_=e}setUrl(e){Me(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(um(e,this.format_))}setOverlaps(e){this.overlaps_=e,this.changed()}}class Os{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){const e=this.getColor();return new Os({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){const t=xd(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));t.ready().then(()=>{this.patternImage_=null}),t.getImageState()===Ce.IDLE&&t.load(),t.getImageState()===Ce.LOADING&&(this.patternImage_=t)}this.color_=e}getKey(){const e=this.getColor();return e?e instanceof CanvasPattern||e instanceof CanvasGradient?De(e):typeof e=="object"&&"src"in e?e.src+":"+e.offset:As(e).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}class Qo{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new Qo({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}function gm(r){return r[0]>0&&r[1]>0}function nw(r,e,t){return t===void 0&&(t=[0,0]),t[0]=r[0]*e+.5|0,t[1]=r[1]*e+.5|0,t}function Vt(r,e){return Array.isArray(r)?r:(e===void 0?e=[r,r]:(e[0]=r,e[1]=r),e)}class ou{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=Vt(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new ou({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Ae()}getImage(e){return Ae()}getHitDetectionImage(){return Ae()}getPixelRatio(e){return 1}getImageState(){return Ae()}getImageSize(){return Ae()}getOrigin(){return Ae()}getSize(){return Ae()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=Vt(e)}listenImageChange(e){Ae()}load(){Ae()}unlistenImageChange(e){Ae()}ready(){return Promise.resolve()}}class lu extends ou{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?Ce.LOADING:Ce.LOADED,this.imageState_===Ce.LOADING&&this.ready().then(()=>this.imageState_=Ce.LOADED),this.render()}clone(){const e=this.getScale(),t=new lu({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}getAnchor(){const e=this.size_,t=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-t[0]/i[0],e[1]/2+t[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){var l,u;const t=(l=this.fill_)==null?void 0:l.getKey(),i=`${e},${this.angle_},${this.radius},${this.radius2_},${this.points_},${t}`+Object.values(this.renderOptions_).join(",");let o=(u=_n.get(i,null,null))==null?void 0:u.getImage(1);if(!o){const c=this.renderOptions_,d=Math.ceil(c.size*e),g=ct(d,d);this.draw_(c,g,e),o=g.canvas,_n.set(i,null,null,new N_(o,void 0,null,Ce.LOADED,null))}return o}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,t,i){if(t===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return t;let o=this.radius,l=this.radius2_===void 0?o:this.radius2_;if(o<l){const U=o;o=l,l=U}const u=this.radius2_===void 0?this.points_:this.points_*2,c=2*Math.PI/u,d=l*Math.sin(c),g=Math.sqrt(l*l-d*d),p=o-g,_=Math.sqrt(d*d+p*p),y=_/d;if(e==="miter"&&y<=i)return y*t;const w=t/2/y,E=t/2*(p/_),x=Math.sqrt((o+w)*(o+w)+E*E)-o;if(this.radius2_===void 0||e==="bevel")return x*2;const R=o*Math.sin(c),I=Math.sqrt(o*o-R*R),O=l-I,M=Math.sqrt(R*R+O*O)/R;if(M<=i){const U=M*t/2-l-o;return 2*Math.max(x,U)}return x*2}createRenderOptions(){let e=Ps,t=Ms,i=0,o=null,l=0,u,c=0;this.stroke_&&(u=Yn(this.stroke_.getColor()??Xo),c=this.stroke_.getWidth()??Yo,o=this.stroke_.getLineDash(),l=this.stroke_.getLineDashOffset()??0,t=this.stroke_.getLineJoin()??Ms,e=this.stroke_.getLineCap()??Ps,i=this.stroke_.getMiterLimit()??Bo);const d=this.calculateLineJoinSize_(t,c,i),g=Math.max(this.radius,this.radius2_||0),p=Math.ceil(2*g+d);return{strokeStyle:u,strokeWidth:c,size:p,lineCap:e,lineDash:o,lineDashOffset:l,lineJoin:t,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,t,i){if(t.scale(i,i),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){let o=this.fill_.getColor();o===null&&(o=jt),t.fillStyle=Yn(o),t.fill()}e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}createHitDetectionCanvas_(e){let t;if(this.fill_){let i=this.fill_.getColor(),o=0;typeof i=="string"&&(i=As(i)),i===null?o=1:Array.isArray(i)&&(o=i.length===4?i[3]:1),o===0&&(t=ct(e.size,e.size),this.drawHitDetectionCanvas_(e,t))}return t?t.canvas:this.getImage(1)}createPath_(e){let t=this.points_;const i=this.radius;if(t===1/0)e.arc(0,0,i,0,2*Math.PI);else{const o=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(t*=2);const l=this.angle_-Math.PI/2,u=2*Math.PI/t;for(let c=0;c<t;c++){const d=l+c*u,g=c%2===0?i:o;e.lineTo(g*Math.cos(d),g*Math.sin(d))}e.closePath()}}drawHitDetectionCanvas_(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=jt,t.fill(),e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class au extends lu{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),t=new au({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(e){this.radius=e,this.render()}}class Ji{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=pm,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new Ji({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=pm,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function iw(r){let e;if(typeof r=="function")e=r;else{let t;Array.isArray(r)?t=r:(Me(typeof r.getZIndex=="function","Expected an `Style` or an array of `Style`"),t=[r]),e=function(){return t}}return e}let ph=null;function K_(r,e){if(!ph){const t=new Os({color:"rgba(255,255,255,0.4)"}),i=new Qo({color:"#3399CC",width:1.25});ph=[new Ji({image:new au({fill:t,stroke:i,radius:5}),fill:t,stroke:i})]}return ph}function pm(r){return r.getGeometry()}const rw="#333";class uu{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.keepUpright_=e.keepUpright,this.scale_=e.scale,this.scaleArray_=Vt(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new Os({color:rw}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new uu({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setKeepUpright(e){this.keepUpright_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=Vt(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}const Et={ANIMATING:0,INTERACTING:1},ce={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Sa=[ce.FILL],Hi=[ce.STROKE],Rr=[ce.BEGIN_PATH],mm=[ce.CLOSE_PATH];class el extends z_{constructor(e,t,i,o){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=o,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const t=this.pixelRatio;return t==1?e:e.map(function(i){return i*t})}appendFlatPointCoordinates(e,t){const i=this.getBufferedMaxExtent(),o=this.tmpCoordinate_,l=this.coordinates;let u=l.length;for(let c=0,d=e.length;c<d;c+=t)o[0]=e[c],o[1]=e[c+1],Ls(i,o)&&(l[u++]=o[0],l[u++]=o[1]);return u}appendFlatLineCoordinates(e,t,i,o,l,u){const c=this.coordinates;let d=c.length;const g=this.getBufferedMaxExtent();u&&(t+=o);let p=e[t],_=e[t+1];const y=this.tmpCoordinate_;let w=!0,E,S,x;for(E=t+o;E<i;E+=o)y[0]=e[E],y[1]=e[E+1],x=Mh(g,y),x!==S?(w&&(c[d++]=p,c[d++]=_,w=!1),c[d++]=y[0],c[d++]=y[1]):x===at.INTERSECTING?(c[d++]=y[0],c[d++]=y[1],w=!1):w=!0,p=y[0],_=y[1],S=x;return(l&&w||E===t+o)&&(c[d++]=p,c[d++]=_),d}drawCustomCoordinates_(e,t,i,o,l){for(let u=0,c=i.length;u<c;++u){const d=i[u],g=this.appendFlatLineCoordinates(e,t,d,o,!1,!1);l.push(g),t=d}return t}drawCustom(e,t,i,o,l){this.beginGeometry(e,t,l);const u=e.getType(),c=e.getStride(),d=this.coordinates.length;let g,p,_,y,w;switch(u){case"MultiPolygon":g=e.getOrientedFlatCoordinates(),y=[];const E=e.getEndss();w=0;for(let S=0,x=E.length;S<x;++S){const R=[];w=this.drawCustomCoordinates_(g,w,E[S],c,R),y.push(R)}this.instructions.push([ce.CUSTOM,d,y,e,i,$p,l]),this.hitDetectionInstructions.push([ce.CUSTOM,d,y,e,o||i,$p,l]);break;case"Polygon":case"MultiLineString":_=[],g=u=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),w=this.drawCustomCoordinates_(g,0,e.getEnds(),c,_),this.instructions.push([ce.CUSTOM,d,_,e,i,Fa,l]),this.hitDetectionInstructions.push([ce.CUSTOM,d,_,e,o||i,Fa,l]);break;case"LineString":case"Circle":g=e.getFlatCoordinates(),p=this.appendFlatLineCoordinates(g,0,g.length,c,!1,!1),this.instructions.push([ce.CUSTOM,d,p,e,i,vs,l]),this.hitDetectionInstructions.push([ce.CUSTOM,d,p,e,o||i,vs,l]);break;case"MultiPoint":g=e.getFlatCoordinates(),p=this.appendFlatPointCoordinates(g,c),p>d&&(this.instructions.push([ce.CUSTOM,d,p,e,i,vs,l]),this.hitDetectionInstructions.push([ce.CUSTOM,d,p,e,o||i,vs,l]));break;case"Point":g=e.getFlatCoordinates(),this.coordinates.push(g[0],g[1]),p=this.coordinates.length,this.instructions.push([ce.CUSTOM,d,p,e,i,void 0,l]),this.hitDetectionInstructions.push([ce.CUSTOM,d,p,e,o||i,void 0,l]);break}this.endGeometry(t)}beginGeometry(e,t,i){this.beginGeometryInstruction1_=[ce.BEGIN_GEOMETRY,t,0,e,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[ce.BEGIN_GEOMETRY,t,0,e,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;e.reverse();let t;const i=e.length;let o,l,u=-1;for(t=0;t<i;++t)o=e[t],l=o[0],l==ce.END_GEOMETRY?u=t:l==ce.BEGIN_GEOMETRY&&(o[2]=t,$1(this.hitDetectionInstructions,u,t),u=-1)}fillStyleToState(e,t={}){if(e){const i=e.getColor();t.fillPatternScale=i&&typeof i=="object"&&"src"in i?this.pixelRatio:1,t.fillStyle=Yn(i||jt)}else t.fillStyle=void 0;return t}strokeStyleToState(e,t={}){if(e){const i=e.getColor();t.strokeStyle=Yn(i||Xo);const o=e.getLineCap();t.lineCap=o!==void 0?o:Ps;const l=e.getLineDash();t.lineDash=l?l.slice():di;const u=e.getLineDashOffset();t.lineDashOffset=u||fi;const c=e.getLineJoin();t.lineJoin=c!==void 0?c:Ms;const d=e.getWidth();t.lineWidth=d!==void 0?d:Yo;const g=e.getMiterLimit();t.miterLimit=g!==void 0?g:Bo,t.lineWidth>this.maxLineWidth&&(this.maxLineWidth=t.lineWidth,this.bufferedMaxExtent_=null)}else t.strokeStyle=void 0,t.lineCap=void 0,t.lineDash=null,t.lineDashOffset=void 0,t.lineJoin=void 0,t.lineWidth=void 0,t.miterLimit=void 0;return t}setFillStrokeStyle(e,t){const i=this.state;this.fillStyleToState(e,i),this.strokeStyleToState(t,i)}createFill(e){const t=e.fillStyle,i=[ce.SET_FILL_STYLE,t];return typeof t!="string"&&i.push(e.fillPatternScale),i}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[ce.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,e.lineDash?this.applyPixelRatio(e.lineDash):null,e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){const i=e.fillStyle;(typeof i!="string"||e.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(t.call(this,e)),e.currentFillStyle=i)}updateStrokeStyle(e,t){const i=e.strokeStyle,o=e.lineCap,l=e.lineDash,u=e.lineDashOffset,c=e.lineJoin,d=e.lineWidth,g=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=o||l!=e.currentLineDash&&!tr(e.currentLineDash,l)||e.currentLineDashOffset!=u||e.currentLineJoin!=c||e.currentLineWidth!=d||e.currentMiterLimit!=g)&&(i!==void 0&&t.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=o,e.currentLineDash=l,e.currentLineDashOffset=u,e.currentLineJoin=c,e.currentLineWidth=d,e.currentMiterLimit=g)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const t=[ce.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=t_(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;id(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class sw extends el{constructor(e,t,i,o){super(e,t,i,o),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t,i){if(!this.image_||this.maxExtent&&!Ls(this.maxExtent,e.getFlatCoordinates()))return;this.beginGeometry(e,t,i);const o=e.getFlatCoordinates(),l=e.getStride(),u=this.coordinates.length,c=this.appendFlatPointCoordinates(o,l);this.instructions.push([ce.DRAW_IMAGE,u,c,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([ce.DRAW_IMAGE,u,c,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(e,t,i){if(!this.image_)return;this.beginGeometry(e,t,i);const o=e.getFlatCoordinates(),l=[];for(let d=0,g=o.length;d<g;d+=e.getStride())(!this.maxExtent||Ls(this.maxExtent,o.slice(d,d+2)))&&l.push(o[d],o[d+1]);const u=this.coordinates.length,c=this.appendFlatPointCoordinates(l,2);this.instructions.push([ce.DRAW_IMAGE,u,c,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([ce.DRAW_IMAGE,u,c,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){const i=e.getAnchor(),o=e.getSize(),l=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=o[1],this.opacity_=e.getOpacity(),this.originX_=l[0],this.originY_=l[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=o[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}}class ow extends el{constructor(e,t,i,o){super(e,t,i,o)}drawFlatCoordinates_(e,t,i,o){const l=this.coordinates.length,u=this.appendFlatLineCoordinates(e,t,i,o,!1,!1),c=[ce.MOVE_TO_LINE_TO,l,u];return this.instructions.push(c),this.hitDetectionInstructions.push(c),i}drawLineString(e,t,i){const o=this.state,l=o.strokeStyle,u=o.lineWidth;if(l===void 0||u===void 0)return;this.updateStrokeStyle(o,this.applyStroke),this.beginGeometry(e,t,i),this.hitDetectionInstructions.push([ce.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,di,fi],Rr);const c=e.getFlatCoordinates(),d=e.getStride();this.drawFlatCoordinates_(c,0,c.length,d),this.hitDetectionInstructions.push(Hi),this.endGeometry(t)}drawMultiLineString(e,t,i){const o=this.state,l=o.strokeStyle,u=o.lineWidth;if(l===void 0||u===void 0)return;this.updateStrokeStyle(o,this.applyStroke),this.beginGeometry(e,t,i),this.hitDetectionInstructions.push([ce.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,di,fi],Rr);const c=e.getEnds(),d=e.getFlatCoordinates(),g=e.getStride();let p=0;for(let _=0,y=c.length;_<y;++_)p=this.drawFlatCoordinates_(d,p,c[_],g);this.hitDetectionInstructions.push(Hi),this.endGeometry(t)}finish(){const e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Hi),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Hi),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(Rr)}}class _m extends el{constructor(e,t,i,o){super(e,t,i,o)}drawFlatCoordinatess_(e,t,i,o){const l=this.state,u=l.fillStyle!==void 0,c=l.strokeStyle!==void 0,d=i.length;this.instructions.push(Rr),this.hitDetectionInstructions.push(Rr);for(let g=0;g<d;++g){const p=i[g],_=this.coordinates.length,y=this.appendFlatLineCoordinates(e,t,p,o,!0,!c),w=[ce.MOVE_TO_LINE_TO,_,y];this.instructions.push(w),this.hitDetectionInstructions.push(w),c&&(this.instructions.push(mm),this.hitDetectionInstructions.push(mm)),t=p}return u&&(this.instructions.push(Sa),this.hitDetectionInstructions.push(Sa)),c&&(this.instructions.push(Hi),this.hitDetectionInstructions.push(Hi)),t}drawCircle(e,t,i){const o=this.state,l=o.fillStyle,u=o.strokeStyle;if(l===void 0&&u===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),o.fillStyle!==void 0&&this.hitDetectionInstructions.push([ce.SET_FILL_STYLE,jt]),o.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ce.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,di,fi]);const c=e.getFlatCoordinates(),d=e.getStride(),g=this.coordinates.length;this.appendFlatLineCoordinates(c,0,c.length,d,!1,!1);const p=[ce.CIRCLE,g];this.instructions.push(Rr,p),this.hitDetectionInstructions.push(Rr,p),o.fillStyle!==void 0&&(this.instructions.push(Sa),this.hitDetectionInstructions.push(Sa)),o.strokeStyle!==void 0&&(this.instructions.push(Hi),this.hitDetectionInstructions.push(Hi)),this.endGeometry(t)}drawPolygon(e,t,i){const o=this.state,l=o.fillStyle,u=o.strokeStyle;if(l===void 0&&u===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),o.fillStyle!==void 0&&this.hitDetectionInstructions.push([ce.SET_FILL_STYLE,jt]),o.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ce.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,di,fi]);const c=e.getEnds(),d=e.getOrientedFlatCoordinates(),g=e.getStride();this.drawFlatCoordinatess_(d,0,c,g),this.endGeometry(t)}drawMultiPolygon(e,t,i){const o=this.state,l=o.fillStyle,u=o.strokeStyle;if(l===void 0&&u===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),o.fillStyle!==void 0&&this.hitDetectionInstructions.push([ce.SET_FILL_STYLE,jt]),o.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ce.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,di,fi]);const c=e.getEndss(),d=e.getOrientedFlatCoordinates(),g=e.getStride();let p=0;for(let _=0,y=c.length;_<y;++_)p=this.drawFlatCoordinatess_(d,p,c[_],g);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const t=this.coordinates;for(let i=0,o=t.length;i<o;++i)t[i]=wr(t[i],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;e.fillStyle!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)}}function lw(r,e,t,i,o){const l=[];let u=t,c=0,d=e.slice(t,2);for(;c<r&&u+o<i;){const[g,p]=d.slice(-2),_=e[u+o],y=e[u+o+1],w=Math.sqrt((_-g)*(_-g)+(y-p)*(y-p));if(c+=w,c>=r){const E=(r-c+w)/w,S=pn(g,_,E),x=pn(p,y,E);d.push(S,x),l.push(d),d=[S,x],c==r&&(u+=o),c=0}else if(c<r)d.push(e[u+o],e[u+o+1]),u+=o;else{const E=w-c,S=pn(g,_,E/w),x=pn(p,y,E/w);d.push(S,x),l.push(d),d=[S,x],c=0,u+=o}}return c>0&&l.push(d),l}function aw(r,e,t,i,o){let l=t,u=t,c=0,d=0,g=t,p,_,y,w,E,S,x,R,I,O;for(_=t;_<i;_+=o){const T=e[_],M=e[_+1];E!==void 0&&(I=T-E,O=M-S,w=Math.sqrt(I*I+O*O),x!==void 0&&(d+=y,p=Math.acos((x*I+R*O)/(y*w)),p>r&&(d>c&&(c=d,l=g,u=_),d=0,g=_-o)),y=w,x=I,R=O),E=T,S=M}return d+=w,d>c?[g,_]:[l,u]}const Ga={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class uw extends el{constructor(e,t,i,o){super(e,t,i,o),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[jt]={fillStyle:jt},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t,i){const o=this.textFillState_,l=this.textStrokeState_,u=this.textState_;if(this.text_===""||!u||!o&&!l)return;const c=this.coordinates;let d=c.length;const g=e.getType();let p=null,_=e.getStride();if(u.placement==="line"&&(g=="LineString"||g=="MultiLineString"||g=="Polygon"||g=="MultiPolygon")){if(!Bt(this.maxExtent,e.getExtent()))return;let y;if(p=e.getFlatCoordinates(),g=="LineString")y=[p.length];else if(g=="MultiLineString")y=e.getEnds();else if(g=="Polygon")y=e.getEnds().slice(0,1);else if(g=="MultiPolygon"){const x=e.getEndss();y=[];for(let R=0,I=x.length;R<I;++R)y.push(x[R][0])}this.beginGeometry(e,t,i);const w=u.repeat,E=w?void 0:u.textAlign;let S=0;for(let x=0,R=y.length;x<R;++x){let I;w?I=lw(w*this.resolution,p,S,y[x],_):I=[p.slice(S,y[x])];for(let O=0,T=I.length;O<T;++O){const M=I[O];let U=0,B=M.length;if(E==null){const Y=aw(u.maxAngle,M,0,M.length,2);U=Y[0],B=Y[1]}for(let Y=U;Y<B;Y+=_)c.push(M[Y],M[Y+1]);const G=c.length;S=y[x],this.drawChars_(d,G),d=G}}this.endGeometry(t)}else{let y=u.overflow?null:[];switch(g){case"Point":case"MultiPoint":p=e.getFlatCoordinates();break;case"LineString":p=e.getFlatMidpoint();break;case"Circle":p=e.getCenter();break;case"MultiLineString":p=e.getFlatMidpoints(),_=2;break;case"Polygon":p=e.getFlatInteriorPoint(),u.overflow||y.push(p[2]/this.resolution),_=3;break;case"MultiPolygon":const T=e.getFlatInteriorPoints();p=[];for(let M=0,U=T.length;M<U;M+=3)u.overflow||y.push(T[M+2]/this.resolution),p.push(T[M],T[M+1]);if(p.length===0)return;_=2;break}const w=this.appendFlatPointCoordinates(p,_);if(w===d)return;if(y&&(w-d)/2!==p.length/_){let T=d/2;y=y.filter((M,U)=>{const B=c[(T+U)*2]===p[U*_]&&c[(T+U)*2+1]===p[U*_+1];return B||--T,B})}this.saveTextStates_();const E=u.backgroundFill?this.createFill(this.fillStyleToState(u.backgroundFill)):null,S=u.backgroundStroke?this.createStroke(this.strokeStyleToState(u.backgroundStroke)):null;this.beginGeometry(e,t,i);let x=u.padding;if(x!=Cr&&(u.scale[0]<0||u.scale[1]<0)){let T=u.padding[0],M=u.padding[1],U=u.padding[2],B=u.padding[3];u.scale[0]<0&&(M=-M,B=-B),u.scale[1]<0&&(T=-T,U=-U),x=[T,M,U,B]}const R=this.pixelRatio;this.instructions.push([ce.DRAW_IMAGE,d,w,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,x==Cr?Cr:x.map(function(T){return T*R}),E,S,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,y]);const I=1/R,O=E?E.slice(0):null;O&&(O[1]=jt),this.hitDetectionInstructions.push([ce.DRAW_IMAGE,d,w,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[I,I],NaN,this.declutterMode_,this.declutterImageWithText_,x,O,S,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?jt:this.fillKey_,this.textOffsetX_,this.textOffsetY_,y]),this.endGeometry(t)}}saveTextStates_(){const e=this.textStrokeState_,t=this.textState_,i=this.textFillState_,o=this.strokeKey_;e&&(o in this.strokeStates||(this.strokeStates[o]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const l=this.textKey_;l in this.textStates||(this.textStates[l]={font:t.font,textAlign:t.textAlign||Vo,justify:t.justify,textBaseline:t.textBaseline||za,scale:t.scale});const u=this.fillKey_;i&&(u in this.fillStates||(this.fillStates[u]={fillStyle:i.fillStyle}))}drawChars_(e,t){const i=this.textStrokeState_,o=this.textState_,l=this.strokeKey_,u=this.textKey_,c=this.fillKey_;this.saveTextStates_();const d=this.pixelRatio,g=Ga[o.textBaseline],p=this.textOffsetY_*d,_=this.text_,y=i?i.lineWidth*Math.abs(o.scale[0])/2:0;this.instructions.push([ce.DRAW_CHARS,e,t,g,o.overflow,c,o.maxAngle,d,p,l,y*d,_,u,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([ce.DRAW_CHARS,e,t,g,o.overflow,c&&jt,o.maxAngle,d,p,l,y*d,_,u,1/d,this.declutterMode_,this.textKeepUpright_])}setTextStyle(e,t){let i,o,l;if(!e)this.text_="";else{const u=e.getFill();u?(o=this.textFillState_,o||(o={},this.textFillState_=o),o.fillStyle=Yn(u.getColor()||jt)):(o=null,this.textFillState_=o);const c=e.getStroke();if(!c)l=null,this.textStrokeState_=l;else{l=this.textStrokeState_,l||(l={},this.textStrokeState_=l);const S=c.getLineDash(),x=c.getLineDashOffset(),R=c.getWidth(),I=c.getMiterLimit();l.lineCap=c.getLineCap()||Ps,l.lineDash=S?S.slice():di,l.lineDashOffset=x===void 0?fi:x,l.lineJoin=c.getLineJoin()||Ms,l.lineWidth=R===void 0?Yo:R,l.miterLimit=I===void 0?Bo:I,l.strokeStyle=Yn(c.getColor()||Xo)}i=this.textState_;const d=e.getFont()||G_;LE(d);const g=e.getScaleArray();i.overflow=e.getOverflow(),i.font=d,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.repeat=e.getRepeat(),i.justify=e.getJustify(),i.textBaseline=e.getTextBaseline()||za,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||Cr,i.scale=g===void 0?[1,1]:g;const p=e.getOffsetX(),_=e.getOffsetY(),y=e.getRotateWithView(),w=e.getKeepUpright(),E=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=p===void 0?0:p,this.textOffsetY_=_===void 0?0:_,this.textRotateWithView_=y===void 0?!1:y,this.textKeepUpright_=w===void 0?!0:w,this.textRotation_=E===void 0?0:E,this.strokeKey_=l?(typeof l.strokeStyle=="string"?l.strokeStyle:De(l.strokeStyle))+l.lineCap+l.lineDashOffset+"|"+l.lineWidth+l.lineJoin+l.miterLimit+"["+l.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=o&&o.fillStyle?typeof o.fillStyle=="string"?o.fillStyle:"|"+De(o.fillStyle):""}this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}}const cw={Circle:_m,Default:el,Image:sw,LineString:ow,Polygon:_m,Text:uw};class hw{constructor(e,t,i,o){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=o,this.resolution_=i,this.buildersByZIndex_={}}finish(){const e={};for(const t in this.buildersByZIndex_){e[t]=e[t]||{};const i=this.buildersByZIndex_[t];for(const o in i){const l=i[o].finish();e[t][o]=l}}return e}getBuilder(e,t){const i=e!==void 0?e.toString():"0";let o=this.buildersByZIndex_[i];o===void 0&&(o={},this.buildersByZIndex_[i]=o);let l=o[t];if(l===void 0){const u=cw[t];l=new u(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),o[t]=l}return l}}function dw(r,e,t,i,o,l,u,c,d,g,p,_,y=!0){let w=r[e],E=r[e+1],S=0,x=0,R=0,I=0;function O(){S=w,x=E,e+=i,w=r[e],E=r[e+1],I+=R,R=Math.sqrt((w-S)*(w-S)+(E-x)*(E-x))}do O();while(e<t-i&&I+R<l);let T=R===0?0:(l-I)/R;const M=pn(S,w,T),U=pn(x,E,T),B=e-i,G=I,Y=l+c*d(g,o,p);for(;e<t-i&&I+R<Y;)O();T=R===0?0:(Y-I)/R;const q=pn(S,w,T),le=pn(x,E,T);let re=!1;if(y)if(_){const ee=[M,U,q,le];E_(ee,0,4,2,_,ee,ee),re=ee[0]>ee[2]}else re=M>q;const se=Math.PI,$=[],ye=B+i===e;e=B,R=0,I=G,w=r[e],E=r[e+1];let J;if(ye){O(),J=Math.atan2(E-x,w-S),re&&(J+=J>0?-se:se);const ee=(q+M)/2,j=(le+U)/2;return $[0]=[ee,j,(Y-l)/2,J,o],$}o=o.replace(/\n/g," ");for(let ee=0,j=o.length;ee<j;){O();let H=Math.atan2(E-x,w-S);if(re&&(H+=H>0?-se:se),J!==void 0){let ae=H-J;if(ae+=ae>se?-2*se:ae<-se?2*se:0,Math.abs(ae)>u)return null}J=H;const W=ee;let k=0;for(;ee<j;++ee){const ae=re?j-ee-1:ee,pe=c*d(g,o[ae],p);if(e+i<t&&I+R<l+k+pe/2)break;k+=pe}if(ee===W)continue;const P=re?o.substring(j-W,j-ee):o.substring(W,ee);T=R===0?0:(l+k/2-I)/R;const ue=pn(S,w,T),de=pn(x,E,T);$.push([ue,de,k/2,H,P]),l+=k}return $}class H_{constructor(){Ep(this,"pushMethodArgs_",(...e)=>(this.instructions_[this.zIndex+this.offset_].push(e),this));this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(Na(),{get:(e,t)=>{if(typeof Na()[t]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(t),this.pushMethodArgs_},set:(e,t,i)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(t,i),!0)})}pushFunction(e){this.instructions_[this.zIndex+this.offset_].push(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(t=>{for(let i=0,o=t.length;i<o;++i){const l=t[i];if(typeof l=="function"){l(e);continue}const u=t[++i];if(typeof e[l]=="function")e[l](...u);else{if(typeof u=="function"){e[l]=u(e);continue}e[l]=u}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const us=vn(),Ui=[],li=[],ai=[],ji=[];function ym(r){return r[3].declutterBox}const vm=new RegExp("[-----]");function mh(r,e){return e==="start"?e=vm.test(r)?"right":"left":e==="end"&&(e=vm.test(r)?"left":"right"),Ga[e]}function fw(r,e,t){return t>0&&r.push(`
`,""),r.push(e,""),r}class gw{constructor(e,t,i,o,l){this.overlaps=i,this.pixelRatio=t,this.resolution=e,this.alignAndScaleFill_,this.instructions=o.instructions,this.coordinates=o.coordinates,this.coordinateCache_={},this.renderedTransform_=Pn(),this.hitDetectionInstructions=o.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=o.fillStates||{},this.strokeStates=o.strokeStates||{},this.textStates=o.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=l?new H_:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,t,i,o){const l=e+t+i+o;if(this.labels_[l])return this.labels_[l];const u=o?this.strokeStates[o]:null,c=i?this.fillStates[i]:null,d=this.textStates[t],g=this.pixelRatio,p=[d.scale[0]*g,d.scale[1]*g],_=d.justify?Ga[d.justify]:mh(Array.isArray(e)?e[0]:e,d.textAlign||Vo),y=o&&u.lineWidth?u.lineWidth:0,w=Array.isArray(e)?e:String(e).split(`
`).reduce(fw,[]),{width:E,height:S,widths:x,heights:R,lineWidths:I}=AE(d,w),O=E+y,T=[],M=(O+2)*p[0],U=(S+y)*p[1],B={width:M<0?Math.floor(M):Math.ceil(M),height:U<0?Math.floor(U):Math.ceil(U),contextInstructions:T};(p[0]!=1||p[1]!=1)&&T.push("scale",p),o&&(T.push("strokeStyle",u.strokeStyle),T.push("lineWidth",y),T.push("lineCap",u.lineCap),T.push("lineJoin",u.lineJoin),T.push("miterLimit",u.miterLimit),T.push("setLineDash",[u.lineDash]),T.push("lineDashOffset",u.lineDashOffset)),i&&T.push("fillStyle",c.fillStyle),T.push("textBaseline","middle"),T.push("textAlign","center");const G=.5-_;let Y=_*O+G*y;const q=[],le=[];let re=0,se=0,$=0,ye=0,J;for(let ee=0,j=w.length;ee<j;ee+=2){const H=w[ee];if(H===`
`){se+=re,re=0,Y=_*O+G*y,++ye;continue}const W=w[ee+1]||d.font;W!==J&&(o&&q.push("font",W),i&&le.push("font",W),J=W),re=Math.max(re,R[$]);const k=[H,Y+G*x[$]+_*(x[$]-I[ye]),.5*(y+re)+se];Y+=x[$],o&&q.push("strokeText",k),i&&le.push("fillText",k),++$}return Array.prototype.push.apply(T,q),Array.prototype.push.apply(T,le),this.labels_[l]=B,B}replayTextBackground_(e,t,i,o,l,u,c){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,i),e.lineTo.apply(e,o),e.lineTo.apply(e,l),e.lineTo.apply(e,t),u&&(this.alignAndScaleFill_=u[2],e.fillStyle=u[1],this.fill_(e)),c&&(this.setStrokeStyle_(e,c),e.stroke())}calculateImageOrLabelDimensions_(e,t,i,o,l,u,c,d,g,p,_,y,w,E,S,x){c*=y[0],d*=y[1];let R=i-c,I=o-d;const O=l+g>e?e-g:l,T=u+p>t?t-p:u,M=E[3]+O*y[0]+E[1],U=E[0]+T*y[1]+E[2],B=R-E[3],G=I-E[0];(S||_!==0)&&(Ui[0]=B,ji[0]=B,Ui[1]=G,li[1]=G,li[0]=B+M,ai[0]=li[0],ai[1]=G+U,ji[1]=ai[1]);let Y;return _!==0?(Y=gi(Pn(),i,o,1,1,_,-i,-o),ut(Y,Ui),ut(Y,li),ut(Y,ai),ut(Y,ji),Qi(Math.min(Ui[0],li[0],ai[0],ji[0]),Math.min(Ui[1],li[1],ai[1],ji[1]),Math.max(Ui[0],li[0],ai[0],ji[0]),Math.max(Ui[1],li[1],ai[1],ji[1]),us)):Qi(Math.min(B,B+M),Math.min(G,G+U),Math.max(B,B+M),Math.max(G,G+U),us),w&&(R=Math.round(R),I=Math.round(I)),{drawImageX:R,drawImageY:I,drawImageW:O,drawImageH:T,originX:g,originY:p,declutterBox:{minX:us[0],minY:us[1],maxX:us[2],maxY:us[3],value:x},canvasTransform:Y,scale:y}}replayImageOrLabel_(e,t,i,o,l,u,c){const d=!!(u||c),g=o.declutterBox,p=c?c[2]*o.scale[0]/2:0;return g.minX-p<=t[0]&&g.maxX+p>=0&&g.minY-p<=t[1]&&g.maxY+p>=0&&(d&&this.replayTextBackground_(e,Ui,li,ai,ji,u,c),PE(e,o.canvasTransform,l,i,o.originX,o.originY,o.drawImageW,o.drawImageH,o.drawImageX,o.drawImageY,o.scale)),!0}fill_(e){const t=this.alignAndScaleFill_;if(t){const i=ut(this.renderedTransform_,[0,0]),o=512*this.pixelRatio;e.save(),e.translate(i[0]%o,i[1]%o),t!==1&&e.scale(t,t),e.rotate(this.viewRotation_)}e.fill(),t&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6])}drawLabelWithPointPlacement_(e,t,i,o){const l=this.textStates[t],u=this.createLabel(e,t,o,i),c=this.strokeStates[i],d=this.pixelRatio,g=mh(Array.isArray(e)?e[0]:e,l.textAlign||Vo),p=Ga[l.textBaseline||za],_=c&&c.lineWidth?c.lineWidth:0,y=u.width/d-2*l.scale[0],w=g*y+2*(.5-g)*_,E=p*u.height/d+2*(.5-p)*_;return{label:u,anchorX:w,anchorY:E}}execute_(e,t,i,o,l,u,c,d){const g=this.zIndexContext_;let p;this.pixelCoordinates_&&tr(i,this.renderedTransform_)?p=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),p=qi(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),jv(this.renderedTransform_,i));let _=0;const y=o.length;let w=0,E,S,x,R,I,O,T,M,U,B,G,Y,q,le=0,re=0;const se=this.coordinateCache_,$=this.viewRotation_,ye=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,J={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:$},ee=this.instructions!=o||this.overlaps?0:200;let j,H,W,k;for(;_<y;){const P=o[_];switch(P[0]){case ce.BEGIN_GEOMETRY:j=P[1],k=P[3],j.getGeometry()?c!==void 0&&!Bt(c,k.getExtent())?_=P[2]+1:++_:_=P[2],g&&(g.zIndex=P[4]);break;case ce.BEGIN_PATH:le>ee&&(this.fill_(e),le=0),re>ee&&(e.stroke(),re=0),!le&&!re&&(e.beginPath(),I=NaN,O=NaN),++_;break;case ce.CIRCLE:w=P[1];const de=p[w],ae=p[w+1],pe=p[w+2],xe=p[w+3],ve=pe-de,Le=xe-ae,Fe=Math.sqrt(ve*ve+Le*Le);e.moveTo(de+Fe,ae),e.arc(de,ae,Fe,0,2*Math.PI,!0),++_;break;case ce.CLOSE_PATH:e.closePath(),++_;break;case ce.CUSTOM:w=P[1],E=P[2];const Hn=P[3],nr=P[4],Zn=P[5];J.geometry=Hn,J.feature=j,_ in se||(se[_]=[]);const nn=se[_];Zn?Zn(p,w,E,2,nn):(nn[0]=p[w],nn[1]=p[w+1],nn.length=2),g&&(g.zIndex=P[6]),nr(nn,J),++_;break;case ce.DRAW_IMAGE:w=P[1],E=P[2],U=P[3],S=P[4],x=P[5];let _i=P[6];const Ht=P[7],Mt=P[8],$n=P[9],En=P[10];let rn=P[11];const sn=P[12];let Zt=P[13];R=P[14]||"declutter";const Dn=P[15];if(!U&&P.length>=20){B=P[19],G=P[20],Y=P[21],q=P[22];const St=this.drawLabelWithPointPlacement_(B,G,Y,q);U=St.label,P[3]=U;const Fn=P[23];S=(St.anchorX-Fn)*this.pixelRatio,P[4]=S;const Ct=P[24];x=(St.anchorY-Ct)*this.pixelRatio,P[5]=x,_i=U.height,P[6]=_i,Zt=U.width,P[13]=Zt}let tt;P.length>25&&(tt=P[25]);let Fr,ir,yi;P.length>17?(Fr=P[16],ir=P[17],yi=P[18]):(Fr=Cr,ir=null,yi=null),En&&ye?rn+=$:!En&&!ye&&(rn-=$);let Nr=0;for(;w<E;w+=2){if(tt&&tt[Nr++]<Zt/this.pixelRatio)continue;const St=this.calculateImageOrLabelDimensions_(U.width,U.height,p[w],p[w+1],Zt,_i,S,x,Mt,$n,rn,sn,l,Fr,!!ir||!!yi,j),Fn=[e,t,U,St,Ht,ir,yi];if(d){let Ct,Ot,Rt;if(Dn){const Ge=E-w;if(!Dn[Ge]){Dn[Ge]={args:Fn,declutterMode:R};continue}const ht=Dn[Ge];Ct=ht.args,Ot=ht.declutterMode,delete Dn[Ge],Rt=ym(Ct)}let Tt,$t;if(Ct&&(Ot!=="declutter"||!d.collides(Rt))&&(Tt=!0),(R!=="declutter"||!d.collides(St.declutterBox))&&($t=!0),Ot==="declutter"&&R==="declutter"){const Ge=Tt&&$t;Tt=Ge,$t=Ge}Tt&&(Ot!=="none"&&d.insert(Rt),this.replayImageOrLabel_.apply(this,Ct)),$t&&(R!=="none"&&d.insert(St.declutterBox),this.replayImageOrLabel_.apply(this,Fn))}else this.replayImageOrLabel_.apply(this,Fn)}++_;break;case ce.DRAW_CHARS:const bs=P[1],vi=P[2],qn=P[3],vu=P[4];q=P[5];const ll=P[6],Gs=P[7],al=P[8];Y=P[9];const rr=P[10];B=P[11],G=P[12];const zr=[P[13],P[13]];R=P[14]||"declutter";const Us=P[15],sr=this.textStates[G],Jn=sr.font,on=[sr.scale[0]*Gs,sr.scale[1]*Gs];let ln;Jn in this.widths_?ln=this.widths_[Jn]:(ln={},this.widths_[Jn]=ln);const js=cE(p,bs,vi,2),Ws=Math.abs(on[0])*om(Jn,B,ln);if(vu||Ws<=js){const St=this.textStates[G].textAlign,Fn=(js-Ws)*mh(B,St),Ct=dw(p,bs,vi,2,B,Fn,ll,Math.abs(on[0]),om,Jn,ln,ye?0:this.viewRotation_,Us);e:if(Ct){const Ot=[];let Rt,Tt,$t,Ge,ht;if(Y)for(Rt=0,Tt=Ct.length;Rt<Tt;++Rt){ht=Ct[Rt],$t=ht[4],Ge=this.createLabel($t,G,"",Y),S=ht[2]+(on[0]<0?-rr:rr),x=qn*Ge.height+(.5-qn)*2*rr*on[1]/on[0]-al;const It=this.calculateImageOrLabelDimensions_(Ge.width,Ge.height,ht[0],ht[1],Ge.width,Ge.height,S,x,0,0,ht[3],zr,!1,Cr,!1,j);if(d&&R==="declutter"&&d.collides(It.declutterBox))break e;Ot.push([e,t,Ge,It,1,null,null])}if(q)for(Rt=0,Tt=Ct.length;Rt<Tt;++Rt){ht=Ct[Rt],$t=ht[4],Ge=this.createLabel($t,G,q,""),S=ht[2],x=qn*Ge.height-al;const It=this.calculateImageOrLabelDimensions_(Ge.width,Ge.height,ht[0],ht[1],Ge.width,Ge.height,S,x,0,0,ht[3],zr,!1,Cr,!1,j);if(d&&R==="declutter"&&d.collides(It.declutterBox))break e;Ot.push([e,t,Ge,It,1,null,null])}d&&R!=="none"&&d.load(Ot.map(ym));for(let It=0,br=Ot.length;It<br;++It)this.replayImageOrLabel_.apply(this,Ot[It])}}++_;break;case ce.END_GEOMETRY:if(u!==void 0){j=P[1];const St=u(j,k,R);if(St)return St}++_;break;case ce.FILL:ee?le++:this.fill_(e),++_;break;case ce.MOVE_TO_LINE_TO:for(w=P[1],E=P[2],H=p[w],W=p[w+1],e.moveTo(H,W),I=H+.5|0,O=W+.5|0,w+=2;w<E;w+=2)H=p[w],W=p[w+1],T=H+.5|0,M=W+.5|0,(w==E-2||T!==I||M!==O)&&(e.lineTo(H,W),I=T,O=M);++_;break;case ce.SET_FILL_STYLE:this.alignAndScaleFill_=P[2],le&&(this.fill_(e),le=0,re&&(e.stroke(),re=0)),e.fillStyle=P[1],++_;break;case ce.SET_STROKE_STYLE:re&&(e.stroke(),re=0),this.setStrokeStyle_(e,P),++_;break;case ce.STROKE:ee?re++:e.stroke(),++_;break;default:++_;break}}le&&this.fill_(e),re&&e.stroke()}execute(e,t,i,o,l,u){this.viewRotation_=o,this.execute_(e,t,i,this.instructions,l,void 0,void 0,u)}executeHitDetection(e,t,i,o,l){return this.viewRotation_=i,this.execute_(e,[e.canvas.width,e.canvas.height],t,this.hitDetectionInstructions,!0,o,l)}}const Es=["Polygon","Circle","LineString","Image","Text","Default"],Z_=["Image","Text"],pw=Es.filter(r=>!Z_.includes(r));class mw{constructor(e,t,i,o,l,u,c){this.maxExtent_=e,this.overlaps_=o,this.pixelRatio_=i,this.resolution_=t,this.renderBuffer_=u,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Pn(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(l,c)}clip(e,t){const i=this.getClipCoords(t);e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.lineTo(i[4],i[5]),e.lineTo(i[6],i[7]),e.clip()}createExecutors_(e,t){for(const i in e){let o=this.executorsByZIndex_[i];o===void 0&&(o={},this.executorsByZIndex_[i]=o);const l=e[i];for(const u in l){const c=l[u];o[u]=new gw(this.resolution_,this.pixelRatio_,this.overlaps_,c,t)}}}hasExecutors(e){for(const t in this.executorsByZIndex_){const i=this.executorsByZIndex_[t];for(let o=0,l=e.length;o<l;++o)if(e[o]in i)return!0}return!1}forEachFeatureAtCoordinate(e,t,i,o,l,u){o=Math.round(o);const c=o*2+1,d=gi(this.hitDetectionTransform_,o+.5,o+.5,1/t,-1/t,-i,-e[0],-e[1]),g=!this.hitDetectionContext_;g&&(this.hitDetectionContext_=ct(c,c,void 0,{willReadFrequently:!0}));const p=this.hitDetectionContext_;p.canvas.width!==c||p.canvas.height!==c?(p.canvas.width=c,p.canvas.height=c):g||p.clearRect(0,0,c,c);let _;this.renderBuffer_!==void 0&&(_=vn(),No(_,e),id(_,t*(this.renderBuffer_+o),_));const y=_w(o);let w;function E(M,U,B){const G=p.getImageData(0,0,c,c).data;for(let Y=0,q=y.length;Y<q;Y++)if(G[y[Y]]>0){if(!u||B==="none"||w!=="Image"&&w!=="Text"||u.includes(M)){const le=(y[Y]-3)/4,re=o-le%c,se=o-(le/c|0),$=l(M,U,re*re+se*se);if($)return $}p.clearRect(0,0,c,c);break}}const S=Object.keys(this.executorsByZIndex_).map(Number);S.sort(Zi);let x,R,I,O,T;for(x=S.length-1;x>=0;--x){const M=S[x].toString();for(I=this.executorsByZIndex_[M],R=Es.length-1;R>=0;--R)if(w=Es[R],O=I[w],O!==void 0&&(T=O.executeHitDetection(p,d,i,E,_),T))return T}}getClipCoords(e){const t=this.maxExtent_;if(!t)return null;const i=t[0],o=t[1],l=t[2],u=t[3],c=[i,o,i,u,l,u,l,o];return qi(c,0,8,2,e,c),c}isEmpty(){return Is(this.executorsByZIndex_)}execute(e,t,i,o,l,u,c){const d=Object.keys(this.executorsByZIndex_).map(Number);d.sort(c?Z1:Zi),u=u||Es;const g=Es.length;for(let p=0,_=d.length;p<_;++p){const y=d[p].toString(),w=this.executorsByZIndex_[y];for(let E=0,S=u.length;E<S;++E){const x=u[E],R=w[x];if(R!==void 0){const I=c===null?void 0:R.getZIndexContext(),O=I?I.getContext():e,T=this.maxExtent_&&x!=="Image"&&x!=="Text";if(T&&(O.save(),this.clip(O,i)),!I||x==="Text"||x==="Image"?R.execute(O,t,i,o,l,c):I.pushFunction(M=>R.execute(M,t,i,o,l,c)),T&&O.restore(),I){I.offset();const M=d[p]*g+E;this.deferredZIndexContexts_[M]||(this.deferredZIndexContexts_[M]=[]),this.deferredZIndexContexts_[M].push(I)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const e=this.deferredZIndexContexts_,t=Object.keys(e).map(Number).sort(Zi);for(let i=0,o=t.length;i<o;++i)e[t[i]].forEach(l=>{l.draw(this.renderedContext_),l.clear()}),e[t[i]].length=0}}const _h={};function _w(r){if(_h[r]!==void 0)return _h[r];const e=r*2+1,t=r*r,i=new Array(t+1);for(let l=0;l<=r;++l)for(let u=0;u<=r;++u){const c=l*l+u*u;if(c>t)break;let d=i[c];d||(d=[],i[c]=d),d.push(((r+l)*e+(r+u))*4+3),l>0&&d.push(((r-l)*e+(r+u))*4+3),u>0&&(d.push(((r+l)*e+(r-u))*4+3),l>0&&d.push(((r-l)*e+(r-u))*4+3))}const o=[];for(let l=0,u=i.length;l<u;++l)i[l]&&o.push(...i[l]);return _h[r]=o,o}function Em(r,e,t,i){return t!==void 0&&i!==void 0?[t/r,i/e]:t!==void 0?t/r:i!==void 0?i/e:1}class tl extends ou{constructor(e){e=e||{};const t=e.opacity!==void 0?e.opacity:1,i=e.rotation!==void 0?e.rotation:0,o=e.scale!==void 0?e.scale:1,l=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:t,rotation:i,scale:o,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:l,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const u=e.img!==void 0?e.img:null;let c=e.src;Me(!(c!==void 0&&u),"`image` and `src` cannot be provided at the same time"),(c===void 0||c.length===0)&&u&&(c=u.src||De(u)),Me(c!==void 0&&c.length>0,"A defined and non-empty `src` or `image` must be provided"),Me(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let d;if(e.src!==void 0?d=Ce.IDLE:u!==void 0&&("complete"in u?u.complete?d=u.src?Ce.LOADED:Ce.IDLE:d=Ce.LOADING:d=Ce.LOADED),this.color_=e.color!==void 0?As(e.color):null,this.iconImage_=xd(u,c,this.crossOrigin_,d,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.initialOptions_,e.width!==void 0||e.height!==void 0){let g,p;if(e.size)[g,p]=e.size;else{const _=this.getImage(1);if(_.width&&_.height)g=_.width,p=_.height;else if(_ instanceof HTMLImageElement){this.initialOptions_=e;const y=()=>{if(this.unlistenImageChange(y),!this.initialOptions_)return;const w=this.iconImage_.getSize();this.setScale(Em(w[0],w[1],e.width,e.height))};this.listenImageChange(y);return}}g!==void 0&&this.setScale(Em(g,p,e.width,e.height))}}clone(){let e,t,i;return this.initialOptions_?(t=this.initialOptions_.width,i=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new tl({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:t,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const o=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!o)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=o[0]),this.anchorYUnits_=="fraction"&&(e[1]*=o[1])}if(this.anchorOrigin_!="top-left"){if(!o)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+o[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+o[1])}this.normalizedAnchor_=e}const t=this.getDisplacement(),i=this.getScaleArray();return[e[0]-t[0]/i[0],e[1]+t[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const t=this.getSize(),i=this.iconImage_.getSize();if(!t||!i)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=i[0]-t[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=i[1]-t[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==Ce.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){const e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==Ce.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(Ee.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(Ee.CHANGE,e)}ready(){return this.iconImage_.ready()}}const Bn=.5;function yw(r,e,t,i,o,l,u,c,d){const g=o,p=r[0]*Bn,_=r[1]*Bn,y=ct(p,_);y.imageSmoothingEnabled=!1;const w=y.canvas,E=new OE(y,Bn,o,null,u,c,null),S=t.length,x=Math.floor((256*256*256-1)/S),R={};for(let O=1;O<=S;++O){const T=t[O-1],M=T.getStyleFunction()||i;if(!M)continue;let U=M(T,l);if(!U)continue;Array.isArray(U)||(U=[U]);const G=(O*x).toString(16).padStart(7,"#00000");for(let Y=0,q=U.length;Y<q;++Y){const le=U[Y],re=le.getGeometryFunction()(T);if(!re||!Bt(g,re.getExtent()))continue;const se=le.clone(),$=se.getFill();$&&$.setColor(G);const ye=se.getStroke();ye&&(ye.setColor(G),ye.setLineDash(null)),se.setText(void 0);const J=le.getImage();if(J){const W=J.getImageSize();if(!W)continue;const k=ct(W[0],W[1],void 0,{alpha:!1}),P=k.canvas;k.fillStyle=G,k.fillRect(0,0,P.width,P.height),se.setImage(new tl({img:P,anchor:J.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:J.getOrigin(),opacity:1,size:J.getSize(),scale:J.getScale(),rotation:J.getRotation(),rotateWithView:J.getRotateWithView()}))}const ee=se.getZIndex()||0;let j=R[ee];j||(j={},R[ee]=j,j.Polygon=[],j.Circle=[],j.LineString=[],j.Point=[]);const H=re.getType();if(H==="GeometryCollection"){const W=re.getGeometriesArrayRecursive();for(let k=0,P=W.length;k<P;++k){const ue=W[k];j[ue.getType().replace("Multi","")].push(ue,se)}}else j[H.replace("Multi","")].push(re,se)}}const I=Object.keys(R).map(Number).sort(Zi);for(let O=0,T=I.length;O<T;++O){const M=R[I[O]];for(const U in M){const B=M[U];for(let G=0,Y=B.length;G<Y;G+=2){E.setStyle(B[G+1]);for(let q=0,le=e.length;q<le;++q)E.setTransform(e[q]),E.drawGeometry(B[G])}}}return y.getImageData(0,0,w.width,w.height)}function vw(r,e,t){const i=[];if(t){const o=Math.floor(Math.round(r[0])*Bn),l=Math.floor(Math.round(r[1])*Bn),u=(et(o,0,t.width-1)+et(l,0,t.height-1)*t.width)*4,c=t.data[u],d=t.data[u+1],p=t.data[u+2]+256*(d+256*c),_=Math.floor((256*256*256-1)/e.length);p&&p%_===0&&i.push(e[p/_-1])}return i}class $_ extends pi{constructor(e,t,i,o){super(e),this.inversePixelTransform=t,this.frameState=i,this.context=o}}const Ew=5;class ww extends qo{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=Ew}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return Ae()}getData(e){return null}prepareFrame(e){return Ae()}renderFrame(e,t){return Ae()}forEachFeatureAtCoordinate(e,t,i,o,l){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const t=e.target;(t.getState()===Ce.LOADED||t.getState()===Ce.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=Ce.LOADED&&t!=Ce.ERROR&&e.addEventListener(Ee.CHANGE,this.boundHandleImageChange_),t==Ce.IDLE&&(e.load(),t=e.getState()),t==Ce.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}}const wm=[];let ms=null;function xw(){ms=ct(1,1,void 0,{willReadFrequently:!0})}class q_ extends ww{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=Pn(),this.pixelTransform=Pn(),this.inversePixelTransform=Pn(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,t,i){ms||xw(),ms.clearRect(0,0,1,1);let o;try{ms.drawImage(e,t,i,1,1,0,0,1,1),o=ms.getImageData(0,0,1,1).data}catch{return ms=null,null}return o}getBackground(e){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(e.viewState.resolution)),i||void 0}useContainer(e,t,i){const o=this.getLayer().getClassName();let l,u;if(e&&e.className===o&&(!i||e&&e.style.backgroundColor&&tr(As(e.style.backgroundColor),As(i)))){const c=e.firstElementChild;c instanceof HTMLCanvasElement&&(u=c.getContext("2d"))}if(u&&u.canvas.style.transform===t?(this.container=e,this.context=u,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){l=document.createElement("div"),l.className=o;let c=l.style;c.position="absolute",c.width="100%",c.height="100%",u=ct();const d=u.canvas;l.appendChild(d),c=d.style,c.position="absolute",c.left="0",c.transformOrigin="top left",this.container=l,this.context=u}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(e,t,i){const o=Or(i),l=Ja(i),u=qa(i),c=$a(i);ut(t.coordinateToPixelTransform,o),ut(t.coordinateToPixelTransform,l),ut(t.coordinateToPixelTransform,u),ut(t.coordinateToPixelTransform,c);const d=this.inversePixelTransform;ut(d,o),ut(d,l),ut(d,u),ut(d,c),e.save(),e.beginPath(),e.moveTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(l[0]),Math.round(l[1])),e.lineTo(Math.round(u[0]),Math.round(u[1])),e.lineTo(Math.round(c[0]),Math.round(c[1])),e.clip()}prepareContainer(e,t){const i=e.extent,o=e.viewState.resolution,l=e.viewState.rotation,u=e.pixelRatio,c=Math.round(be(i)/o*u),d=Math.round(Pt(i)/o*u);gi(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/u,1/u,l,-c/2,-d/2),v_(this.inversePixelTransform,this.pixelTransform);const g=Bv(this.pixelTransform);if(this.useContainer(t,g,this.getBackground(e)),!this.containerReused){const p=this.context.canvas;p.width!=c||p.height!=d?(p.width=c,p.height=d):this.context.clearRect(0,0,c,d),g!==p.style.transform&&(p.style.transform=g)}}dispatchRenderEvent_(e,t,i){const o=this.getLayer();if(o.hasListener(e)){const l=new $_(e,this.inversePixelTransform,i,t);o.dispatchEvent(l)}}preRender(e,t){this.frameState=t,!t.declutter&&this.dispatchRenderEvent_(mn.PRERENDER,e,t)}postRender(e,t){t.declutter||this.dispatchRenderEvent_(mn.POSTRENDER,e,t)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new H_),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(mn.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(mn.POSTRENDER,this.context,e))}getRenderTransform(e,t,i,o,l,u,c){const d=l/2,g=u/2,p=o/t,_=-p,y=-e[0]+c,w=-e[1];return gi(this.tempTransform,d,g,p,_,-i,y,w)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class Sw extends q_{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=vn(),this.wrappedRenderedExtent_=vn(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,t,i){const o=t.extent,l=t.viewState,u=l.center,c=l.resolution,d=l.projection,g=l.rotation,p=d.getExtent(),_=this.getLayer().getSource(),y=this.getLayer().getDeclutter(),w=t.pixelRatio,E=t.viewHints,S=!(E[Et.ANIMATING]||E[Et.INTERACTING]),x=this.context,R=Math.round(be(o)/c*w),I=Math.round(Pt(o)/c*w),O=_.getWrapX()&&d.canWrapX(),T=O?be(p):null,M=O?Math.ceil((o[2]-p[2])/T)+1:1;let U=O?Math.floor((o[0]-p[0])/T):0;do{let B=this.getRenderTransform(u,c,0,w,R,I,U*T);t.declutter&&(B=B.slice(0)),e.execute(x,[x.canvas.width,x.canvas.height],B,g,S,i===void 0?Es:i?Z_:pw,i?y&&t.declutter[y]:void 0)}while(++U<M)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=ct(this.context.canvas.width,this.context.canvas.height,wm))}resetDrawContext_(){if(this.opacity_!==1){const e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,ru(this.context),wm.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,t){const i=e.layerStatesArray[e.layerIndex];this.opacity_=i.opacity;const o=e.viewState;this.prepareContainer(e,t);const l=this.context,u=this.replayGroup_;let c=u&&!u.isEmpty();if(!c&&!(this.getLayer().hasListener(mn.PRERENDER)||this.getLayer().hasListener(mn.POSTRENDER)))return null;if(this.setDrawContext_(),this.preRender(l,e),o.projection,this.clipped_=!1,c&&i.extent&&this.clipping){const d=Ki(i.extent);c=Bt(d,e.extent),this.clipped_=c&&!ko(d,e.extent),this.clipped_&&this.clipUnrotated(l,e,d)}return c&&this.renderWorlds(u,e,this.getLayer().getDeclutter()?!1:void 0),!e.declutter&&this.clipped_&&l.restore(),this.postRender(l,e),this.renderedRotation_!==o.rotation&&(this.renderedRotation_=o.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(t=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const i=this.frameState.size.slice(),o=this.renderedCenter_,l=this.renderedResolution_,u=this.renderedRotation_,c=this.renderedProjection_,d=this.wrappedRenderedExtent_,g=this.getLayer(),p=[],_=i[0]*Bn,y=i[1]*Bn;p.push(this.getRenderTransform(o,l,u,Bn,_,y,0).slice());const w=g.getSource(),E=c.getExtent();if(w.getWrapX()&&c.canWrapX()&&!ko(E,d)){let S=d[0];const x=be(E);let R=0,I;for(;S<E[0];)--R,I=x*R,p.push(this.getRenderTransform(o,l,u,Bn,_,y,I).slice()),S+=x;for(R=0,S=d[2];S>E[2];)++R,I=x*R,p.push(this.getRenderTransform(o,l,u,Bn,_,y,I).slice()),S-=x}this.hitDetectionImageData_=yw(i,p,this.renderedFeatures_,g.getStyleFunction(),d,l,u,lm(l,this.renderedPixelRatio_))}t(vw(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,t,i,o,l){var y,w;if(!this.replayGroup_)return;const u=t.viewState.resolution,c=t.viewState.rotation,d=this.getLayer(),g={},p=function(E,S,x){const R=De(E),I=g[R];if(I){if(I!==!0&&x<I.distanceSq){if(x===0)return g[R]=!0,l.splice(l.lastIndexOf(I),1),o(E,d,S);I.geometry=S,I.distanceSq=x}}else{if(x===0)return g[R]=!0,o(E,d,S);l.push(g[R]={feature:E,layer:d,geometry:S,distanceSq:x,callback:o})}},_=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(e,u,c,i,p,_?(w=(y=t.declutter)==null?void 0:y[_])==null?void 0:w.all().map(E=>E.value):null)}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const t=this.getLayer(),i=t.getSource();if(!i)return!1;const o=e.viewHints[Et.ANIMATING],l=e.viewHints[Et.INTERACTING],u=t.getUpdateWhileAnimating(),c=t.getUpdateWhileInteracting();if(this.ready&&!u&&o||!c&&l)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const d=e.extent,g=e.viewState,p=g.projection,_=g.resolution,y=e.pixelRatio,w=t.getRevision(),E=t.getRenderBuffer();let S=t.getRenderOrder();S===void 0&&(S=FE);const x=g.center.slice(),R=id(d,E*_),I=R.slice(),O=[R.slice()],T=p.getExtent();if(i.getWrapX()&&p.canWrapX()&&!ko(T,e.extent)){const $=be(T),ye=Math.max(be(R)/2,$);R[0]=T[0]-ye,R[2]=T[2]+ye,h_(x,p);const J=a_(O[0],p);J[0]<T[0]&&J[2]<T[2]?O.push([J[0]+$,J[1],J[2]+$,J[3]]):J[0]>T[0]&&J[2]>T[2]&&O.push([J[0]-$,J[1],J[2]-$,J[3]])}if(this.ready&&this.renderedResolution_==_&&this.renderedRevision_==w&&this.renderedRenderOrder_==S&&this.renderedFrameDeclutter_===!!e.declutter&&ko(this.wrappedRenderedExtent_,R))return tr(this.renderedExtent_,I)||(this.hitDetectionImageData_=null,this.renderedExtent_=I),this.renderedCenter_=x,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const M=new hw(W_(_,y),R,_,y);let U;for(let $=0,ye=O.length;$<ye;++$)i.loadFeatures(O[$],_,p);const B=lm(_,y);let G=!0;const Y=($,ye)=>{let J;const ee=$.getStyleFunction()||t.getStyleFunction();if(ee&&(J=ee($,_)),J){const j=this.renderFeature($,B,J,M,U,this.getLayer().getDeclutter(),ye);G=G&&!j}},q=y_(R),le=i.getFeaturesInExtent(q);S&&le.sort(S);for(let $=0,ye=le.length;$<ye;++$)Y(le[$],$);this.renderedFeatures_=le,this.ready=G;const re=M.finish(),se=new mw(R,_,y,i.getOverlaps(),re,t.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=_,this.renderedRevision_=w,this.renderedRenderOrder_=S,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=I,this.wrappedRenderedExtent_=R,this.renderedCenter_=x,this.renderedProjection_=p,this.renderedPixelRatio_=y,this.replayGroup_=se,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,i,o,l,u,c){if(!i)return!1;let d=!1;if(Array.isArray(i))for(let g=0,p=i.length;g<p;++g)d=am(o,e,i[g],t,this.boundHandleStyleImageChange_,l,u,c)||d;else d=am(o,e,i,t,this.boundHandleStyleImageChange_,l,u,c);return d}}let Dr=0;const At=1<<Dr++,Te=1<<Dr++,Wt=1<<Dr++,An=1<<Dr++,Pr=1<<Dr++,Mo=1<<Dr++,Ca=Math.pow(2,Dr)-1,Cd={[At]:"boolean",[Te]:"number",[Wt]:"string",[An]:"color",[Pr]:"number[]",[Mo]:"size"},Cw=Object.keys(Cd).map(Number).sort(Zi);function Rw(r){return r in Cd}function Oo(r){const e=[];for(const t of Cw)Do(r,t)&&e.push(Cd[t]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function Do(r,e){return(r&e)===e}function Wi(r,e){return r===e}class rt{constructor(e,t){if(!Rw(e))throw new Error(`literal expressions must have a specific type, got ${Oo(e)}`);this.type=e,this.value=t}}class Tw{constructor(e,t,...i){this.type=e,this.operator=t,this.args=i}}function J_(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function gt(r,e,t){switch(typeof r){case"boolean":{if(Wi(e,Wt))return new rt(Wt,r?"true":"false");if(!Do(e,At))throw new Error(`got a boolean, but expected ${Oo(e)}`);return new rt(At,r)}case"number":{if(Wi(e,Mo))return new rt(Mo,Vt(r));if(Wi(e,At))return new rt(At,!!r);if(Wi(e,Wt))return new rt(Wt,r.toString());if(!Do(e,Te))throw new Error(`got a number, but expected ${Oo(e)}`);return new rt(Te,r)}case"string":{if(Wi(e,An))return new rt(An,Ed(r));if(Wi(e,At))return new rt(At,!!r);if(!Do(e,Wt))throw new Error(`got a string, but expected ${Oo(e)}`);return new rt(Wt,r)}}if(!Array.isArray(r))throw new Error("expression must be an array or a primitive value");if(r.length===0)throw new Error("empty expression");if(typeof r[0]=="string")return zw(r,e,t);for(const i of r)if(typeof i!="number")throw new Error("expected an array of numbers");if(Wi(e,Mo)){if(r.length!==2)throw new Error(`expected an array of two values for a size, got ${r.length}`);return new rt(Mo,r)}if(Wi(e,An)){if(r.length===3)return new rt(An,[...r,1]);if(r.length===4)return new rt(An,r);throw new Error(`expected an array of 3 or 4 values for a color, got ${r.length}`)}if(!Do(e,Pr))throw new Error(`got an array of numbers, but expected ${Oo(e)}`);return new rt(Pr,r)}const b={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},Iw={[b.Get]:_e(Se(1,1/0),xm),[b.Var]:_e(Se(1,1),Lw),[b.Has]:_e(Se(1,1/0),xm),[b.Id]:_e(kw,cs),[b.Concat]:_e(Se(2,1/0),Oe(Wt)),[b.GeometryType]:_e(Aw,cs),[b.LineMetric]:_e(cs),[b.Resolution]:_e(yh,cs),[b.Zoom]:_e(yh,cs),[b.Time]:_e(yh,cs),[b.Any]:_e(Se(2,1/0),Oe(At)),[b.All]:_e(Se(2,1/0),Oe(At)),[b.Not]:_e(Se(1,1),Oe(At)),[b.Equal]:_e(Se(2,2),Oe(Ca)),[b.NotEqual]:_e(Se(2,2),Oe(Ca)),[b.GreaterThan]:_e(Se(2,2),Oe(Te)),[b.GreaterThanOrEqualTo]:_e(Se(2,2),Oe(Te)),[b.LessThan]:_e(Se(2,2),Oe(Te)),[b.LessThanOrEqualTo]:_e(Se(2,2),Oe(Te)),[b.Multiply]:_e(Se(2,1/0),Sm),[b.Coalesce]:_e(Se(2,1/0),Sm),[b.Divide]:_e(Se(2,2),Oe(Te)),[b.Add]:_e(Se(2,1/0),Oe(Te)),[b.Subtract]:_e(Se(2,2),Oe(Te)),[b.Clamp]:_e(Se(3,3),Oe(Te)),[b.Mod]:_e(Se(2,2),Oe(Te)),[b.Pow]:_e(Se(2,2),Oe(Te)),[b.Abs]:_e(Se(1,1),Oe(Te)),[b.Floor]:_e(Se(1,1),Oe(Te)),[b.Ceil]:_e(Se(1,1),Oe(Te)),[b.Round]:_e(Se(1,1),Oe(Te)),[b.Sin]:_e(Se(1,1),Oe(Te)),[b.Cos]:_e(Se(1,1),Oe(Te)),[b.Atan]:_e(Se(1,2),Oe(Te)),[b.Sqrt]:_e(Se(1,1),Oe(Te)),[b.Match]:_e(Se(4,1/0),Cm,Mw),[b.Between]:_e(Se(3,3),Oe(Te)),[b.Interpolate]:_e(Se(6,1/0),Cm,Ow),[b.Case]:_e(Se(3,1/0),Pw,Dw),[b.In]:_e(Se(2,2),Fw),[b.Number]:_e(Se(1,1/0),Oe(Ca)),[b.String]:_e(Se(1,1/0),Oe(Ca)),[b.Array]:_e(Se(1,1/0),Oe(Te)),[b.Color]:_e(Se(1,4),Oe(Te)),[b.Band]:_e(Se(1,3),Oe(Te)),[b.Palette]:_e(Se(2,2),Nw),[b.ToString]:_e(Se(1,1),Oe(At|Te|Wt|An))};function xm(r,e,t){const i=r.length-1,o=new Array(i);for(let l=0;l<i;++l){const u=r[l+1];switch(typeof u){case"number":{o[l]=new rt(Te,u);break}case"string":{o[l]=new rt(Wt,u);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${u}`)}l===0&&t.properties.add(String(u))}return o}function Lw(r,e,t){const i=r[1];if(typeof i!="string")throw new Error("expected a string argument for var operation");return t.variables.add(i),[new rt(Wt,i)]}function kw(r,e,t){t.featureId=!0}function Aw(r,e,t){t.geometryType=!0}function yh(r,e,t){t.mapState=!0}function cs(r,e,t){const i=r[0];if(r.length!==1)throw new Error(`expected no arguments for ${i} operation`);return[]}function Se(r,e){return function(t,i,o){const l=t[0],u=t.length-1;if(r===e){if(u!==r){const c=r===1?"":"s";throw new Error(`expected ${r} argument${c} for ${l}, got ${u}`)}}else if(u<r||u>e){const c=e===1/0?`${r} or more`:`${r} to ${e}`;throw new Error(`expected ${c} arguments for ${l}, got ${u}`)}}}function Sm(r,e,t){const i=r.length-1,o=new Array(i);for(let l=0;l<i;++l){const u=gt(r[l+1],e,t);o[l]=u}return o}function Oe(r){return function(e,t,i){const o=e.length-1,l=new Array(o);for(let u=0;u<o;++u){const c=gt(e[u+1],r,i);l[u]=c}return l}}function Pw(r,e,t){const i=r[0],o=r.length-1;if(o%2===0)throw new Error(`expected an odd number of arguments for ${i}, got ${o} instead`)}function Cm(r,e,t){const i=r[0],o=r.length-1;if(o%2===1)throw new Error(`expected an even number of arguments for operation ${i}, got ${o} instead`)}function Mw(r,e,t){const i=r.length-1,o=Wt|Te|At,l=gt(r[1],o,t),u=gt(r[r.length-1],e,t),c=new Array(i-2);for(let d=0;d<i-2;d+=2){try{const g=gt(r[d+2],l.type,t);c[d]=g}catch(g){throw new Error(`failed to parse argument ${d+1} of match expression: ${g.message}`)}try{const g=gt(r[d+3],u.type,t);c[d+1]=g}catch(g){throw new Error(`failed to parse argument ${d+2} of match expression: ${g.message}`)}}return[l,...c,u]}function Ow(r,e,t){const i=r[1];let o;switch(i[0]){case"linear":o=1;break;case"exponential":const d=i[1];if(typeof d!="number"||d<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(d)} instead`);o=d;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(i)}`)}const l=new rt(Te,o);let u;try{u=gt(r[2],Te,t)}catch(d){throw new Error(`failed to parse argument 1 in interpolate expression: ${d.message}`)}const c=new Array(r.length-3);for(let d=0;d<c.length;d+=2){try{const g=gt(r[d+3],Te,t);c[d]=g}catch(g){throw new Error(`failed to parse argument ${d+2} for interpolate expression: ${g.message}`)}try{const g=gt(r[d+4],e,t);c[d+1]=g}catch(g){throw new Error(`failed to parse argument ${d+3} for interpolate expression: ${g.message}`)}}return[l,u,...c]}function Dw(r,e,t){const i=gt(r[r.length-1],e,t),o=new Array(r.length-1);for(let l=0;l<o.length-1;l+=2){try{const u=gt(r[l+1],At,t);o[l]=u}catch(u){throw new Error(`failed to parse argument ${l} of case expression: ${u.message}`)}try{const u=gt(r[l+2],i.type,t);o[l+1]=u}catch(u){throw new Error(`failed to parse argument ${l+1} of case expression: ${u.message}`)}}return o[o.length-1]=i,o}function Fw(r,e,t){let i=r[2];if(!Array.isArray(i))throw new Error('the second argument for the "in" operator must be an array');let o;if(typeof i[0]=="string"){if(i[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(i[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');i=i[1],o=Wt}else o=Te;const l=new Array(i.length);for(let c=0;c<l.length;c++)try{const d=gt(i[c],o,t);l[c]=d}catch(d){throw new Error(`failed to parse haystack item ${c} for "in" expression: ${d.message}`)}return[gt(r[1],o,t),...l]}function Nw(r,e,t){let i;try{i=gt(r[1],Te,t)}catch(u){throw new Error(`failed to parse first argument in palette expression: ${u.message}`)}const o=r[2];if(!Array.isArray(o))throw new Error("the second argument of palette must be an array");const l=new Array(o.length);for(let u=0;u<l.length;u++){let c;try{c=gt(o[u],An,t)}catch(d){throw new Error(`failed to parse color at index ${u} in palette expression: ${d.message}`)}if(!(c instanceof rt))throw new Error(`the palette color at index ${u} must be a literal value`);l[u]=c}return[i,...l]}function _e(...r){return function(e,t,i){const o=e[0];let l;for(let u=0;u<r.length;u++){const c=r[u](e,t,i);if(u==r.length-1){if(!c)throw new Error("expected last argument validator to return the parsed args");l=c}}return new Tw(t,o,...l)}}function zw(r,e,t){const i=r[0],o=Iw[i];if(!o)throw new Error(`unknown operator: ${i}`);return o(r,e,t)}function Q_(r){if(!r)return"";const e=r.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return Q_(r.getGeometries()[0]);default:return""}}function ey(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function mi(r,e,t){const i=gt(r,e,t);return Mn(i)}function Mn(r,e){if(r instanceof rt){if(r.type===An&&typeof r.value=="string"){const i=Ed(r.value);return function(){return i}}return function(){return r.value}}const t=r.operator;switch(t){case b.Number:case b.String:case b.Coalesce:return bw(r);case b.Get:case b.Var:case b.Has:return Gw(r);case b.Id:return i=>i.featureId;case b.GeometryType:return i=>i.geometryType;case b.Concat:{const i=r.args.map(o=>Mn(o));return o=>"".concat(...i.map(l=>l(o).toString()))}case b.Resolution:return i=>i.resolution;case b.Any:case b.All:case b.Between:case b.In:case b.Not:return jw(r);case b.Equal:case b.NotEqual:case b.LessThan:case b.LessThanOrEqualTo:case b.GreaterThan:case b.GreaterThanOrEqualTo:return Uw(r);case b.Multiply:case b.Divide:case b.Add:case b.Subtract:case b.Clamp:case b.Mod:case b.Pow:case b.Abs:case b.Floor:case b.Ceil:case b.Round:case b.Sin:case b.Cos:case b.Atan:case b.Sqrt:return Ww(r);case b.Case:return Bw(r);case b.Match:return Xw(r);case b.Interpolate:return Vw(r);case b.ToString:return Yw(r);default:throw new Error(`Unsupported operator ${t}`)}}function bw(r,e){const t=r.operator,i=r.args.length,o=new Array(i);for(let l=0;l<i;++l)o[l]=Mn(r.args[l]);switch(t){case b.Coalesce:return l=>{for(let u=0;u<i;++u){const c=o[u](l);if(typeof c<"u"&&c!==null)return c}throw new Error("Expected one of the values to be non-null")};case b.Number:case b.String:return l=>{for(let u=0;u<i;++u){const c=o[u](l);if(typeof c===t)return c}throw new Error(`Expected one of the values to be a ${t}`)};default:throw new Error(`Unsupported assertion operator ${t}`)}}function Gw(r,e){const i=r.args[0].value;switch(r.operator){case b.Get:return o=>{const l=r.args;let u=o.properties[i];for(let c=1,d=l.length;c<d;++c){const p=l[c].value;u=u[p]}return u};case b.Var:return o=>o.variables[i];case b.Has:return o=>{const l=r.args;if(!(i in o.properties))return!1;let u=o.properties[i];for(let c=1,d=l.length;c<d;++c){const p=l[c].value;if(!u||!Object.hasOwn(u,p))return!1;u=u[p]}return!0};default:throw new Error(`Unsupported accessor operator ${r.operator}`)}}function Uw(r,e){const t=r.operator,i=Mn(r.args[0]),o=Mn(r.args[1]);switch(t){case b.Equal:return l=>i(l)===o(l);case b.NotEqual:return l=>i(l)!==o(l);case b.LessThan:return l=>i(l)<o(l);case b.LessThanOrEqualTo:return l=>i(l)<=o(l);case b.GreaterThan:return l=>i(l)>o(l);case b.GreaterThanOrEqualTo:return l=>i(l)>=o(l);default:throw new Error(`Unsupported comparison operator ${t}`)}}function jw(r,e){const t=r.operator,i=r.args.length,o=new Array(i);for(let l=0;l<i;++l)o[l]=Mn(r.args[l]);switch(t){case b.Any:return l=>{for(let u=0;u<i;++u)if(o[u](l))return!0;return!1};case b.All:return l=>{for(let u=0;u<i;++u)if(!o[u](l))return!1;return!0};case b.Between:return l=>{const u=o[0](l),c=o[1](l),d=o[2](l);return u>=c&&u<=d};case b.In:return l=>{const u=o[0](l);for(let c=1;c<i;++c)if(u===o[c](l))return!0;return!1};case b.Not:return l=>!o[0](l);default:throw new Error(`Unsupported logical operator ${t}`)}}function Ww(r,e){const t=r.operator,i=r.args.length,o=new Array(i);for(let l=0;l<i;++l)o[l]=Mn(r.args[l]);switch(t){case b.Multiply:return l=>{let u=1;for(let c=0;c<i;++c)u*=o[c](l);return u};case b.Divide:return l=>o[0](l)/o[1](l);case b.Add:return l=>{let u=0;for(let c=0;c<i;++c)u+=o[c](l);return u};case b.Subtract:return l=>o[0](l)-o[1](l);case b.Clamp:return l=>{const u=o[0](l),c=o[1](l);if(u<c)return c;const d=o[2](l);return u>d?d:u};case b.Mod:return l=>o[0](l)%o[1](l);case b.Pow:return l=>Math.pow(o[0](l),o[1](l));case b.Abs:return l=>Math.abs(o[0](l));case b.Floor:return l=>Math.floor(o[0](l));case b.Ceil:return l=>Math.ceil(o[0](l));case b.Round:return l=>Math.round(o[0](l));case b.Sin:return l=>Math.sin(o[0](l));case b.Cos:return l=>Math.cos(o[0](l));case b.Atan:return i===2?l=>Math.atan2(o[0](l),o[1](l)):l=>Math.atan(o[0](l));case b.Sqrt:return l=>Math.sqrt(o[0](l));default:throw new Error(`Unsupported numeric operator ${t}`)}}function Bw(r,e){const t=r.args.length,i=new Array(t);for(let o=0;o<t;++o)i[o]=Mn(r.args[o]);return o=>{for(let l=0;l<t-1;l+=2)if(i[l](o))return i[l+1](o);return i[t-1](o)}}function Xw(r,e){const t=r.args.length,i=new Array(t);for(let o=0;o<t;++o)i[o]=Mn(r.args[o]);return o=>{const l=i[0](o);for(let u=1;u<t;u+=2)if(l===i[u](o))return i[u+1](o);return i[t-1](o)}}function Vw(r,e){const t=r.args.length,i=new Array(t);for(let o=0;o<t;++o)i[o]=Mn(r.args[o]);return o=>{const l=i[0](o),u=i[1](o);let c,d;for(let g=2;g<t;g+=2){const p=i[g](o);let _=i[g+1](o);const y=Array.isArray(_);if(y&&(_=yE(_)),p>=u)return g===2?_:y?Kw(l,u,c,d,p,_):Fo(l,u,c,d,p,_);c=p,d=_}return d}}function Yw(r,e){const t=r.operator,i=r.args.length,o=new Array(i);for(let l=0;l<i;++l)o[l]=Mn(r.args[l]);switch(t){case b.ToString:return l=>{const u=o[0](l);return r.args[0].type===An?wd(u):u.toString()};default:throw new Error(`Unsupported convert operator ${t}`)}}function Fo(r,e,t,i,o,l){const u=o-t;if(u===0)return i;const c=e-t,d=r===1?c/u:(Math.pow(r,c)-1)/(Math.pow(r,u)-1);return i+d*(l-i)}function Kw(r,e,t,i,o,l){if(o-t===0)return i;const c=nm(i),d=nm(l);let g=d[2]-c[2];g>180?g-=360:g<-180&&(g+=360);const p=[Fo(r,e,t,c[0],o,d[0]),Fo(r,e,t,c[1],o,d[1]),c[2]+Fo(r,e,t,0,o,g),Fo(r,e,t,i[3],o,l[3])];return F_(vE(p))}function Hw(r){return!0}function Zw(r){const e=J_(),t=$w(r,e),i=ey();return function(o,l){if(i.properties=o.getPropertiesInternal(),i.resolution=l,e.featureId){const u=o.getId();u!==void 0?i.featureId=u:i.featureId=null}return e.geometryType&&(i.geometryType=Q_(o.getGeometry())),t(i)}}function Rm(r){const e=J_(),t=r.length,i=new Array(t);for(let u=0;u<t;++u)i[u]=Wh(r[u],e);const o=ey(),l=new Array(t);return function(u,c){if(o.properties=u.getPropertiesInternal(),o.resolution=c,e.featureId){const g=u.getId();g!==void 0?o.featureId=g:o.featureId=null}let d=0;for(let g=0;g<t;++g){const p=i[g](o);p&&(l[d]=p,d+=1)}return l.length=d,l}}function $w(r,e){const t=r.length,i=new Array(t);for(let o=0;o<t;++o){const l=r[o],u="filter"in l?mi(l.filter,At,e):Hw;let c;if(Array.isArray(l.style)){const d=l.style.length;c=new Array(d);for(let g=0;g<d;++g)c[g]=Wh(l.style[g],e)}else c=[Wh(l.style,e)];i[o]={filter:u,styles:c}}return function(o){const l=[];let u=!1;for(let c=0;c<t;++c){const d=i[c].filter;if(d(o)&&!(r[c].else&&u)){u=!0;for(const g of i[c].styles){const p=g(o);p&&l.push(p)}}}return l}}function Wh(r,e){const t=Ko(r,"",e),i=Ho(r,"",e),o=qw(r,e),l=Jw(r,e),u=Xt(r,"z-index",e);if(!t&&!i&&!o&&!l&&!Is(r))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(r));const c=new Ji;return function(d){let g=!0;if(t){const p=t(d);p&&(g=!1),c.setFill(p)}if(i){const p=i(d);p&&(g=!1),c.setStroke(p)}if(o){const p=o(d);p&&(g=!1),c.setText(p)}if(l){const p=l(d);p&&(g=!1),c.setImage(p)}return u&&c.setZIndex(u(d)),g?null:c}}function Ko(r,e,t){let i;if(e+"fill-pattern-src"in r)i=nx(r,e+"fill-",t);else{if(r[e+"fill-color"]==="none")return l=>null;i=Rd(r,e+"fill-color",t)}if(!i)return null;const o=new Os;return function(l){const u=i(l);return u===vd?null:(o.setColor(u),o)}}function Ho(r,e,t){const i=Xt(r,e+"stroke-width",t),o=Rd(r,e+"stroke-color",t);if(!i&&!o)return null;const l=hi(r,e+"stroke-line-cap",t),u=hi(r,e+"stroke-line-join",t),c=ty(r,e+"stroke-line-dash",t),d=Xt(r,e+"stroke-line-dash-offset",t),g=Xt(r,e+"stroke-miter-limit",t),p=new Qo;return function(_){if(o){const y=o(_);if(y===vd)return null;p.setColor(y)}if(i&&p.setWidth(i(_)),l){const y=l(_);if(y!=="butt"&&y!=="round"&&y!=="square")throw new Error("Expected butt, round, or square line cap");p.setLineCap(y)}if(u){const y=u(_);if(y!=="bevel"&&y!=="round"&&y!=="miter")throw new Error("Expected bevel, round, or miter line join");p.setLineJoin(y)}return c&&p.setLineDash(c(_)),d&&p.setLineDashOffset(d(_)),g&&p.setMiterLimit(g(_)),p}}function qw(r,e){const t="text-",i=hi(r,t+"value",e);if(!i)return null;const o=Ko(r,t,e),l=Ko(r,t+"background-",e),u=Ho(r,t,e),c=Ho(r,t+"background-",e),d=hi(r,t+"font",e),g=Xt(r,t+"max-angle",e),p=Xt(r,t+"offset-x",e),_=Xt(r,t+"offset-y",e),y=Ss(r,t+"overflow",e),w=hi(r,t+"placement",e),E=Xt(r,t+"repeat",e),S=cu(r,t+"scale",e),x=Ss(r,t+"rotate-with-view",e),R=Xt(r,t+"rotation",e),I=hi(r,t+"align",e),O=hi(r,t+"justify",e),T=hi(r,t+"baseline",e),M=Ss(r,t+"keep-upright",e),U=ty(r,t+"padding",e),B=hu(r,t+"declutter-mode"),G=new uu({declutterMode:B});return function(Y){if(G.setText(i(Y)),o&&G.setFill(o(Y)),l&&G.setBackgroundFill(l(Y)),u&&G.setStroke(u(Y)),c&&G.setBackgroundStroke(c(Y)),d&&G.setFont(d(Y)),g&&G.setMaxAngle(g(Y)),p&&G.setOffsetX(p(Y)),_&&G.setOffsetY(_(Y)),y&&G.setOverflow(y(Y)),w){const q=w(Y);if(q!=="point"&&q!=="line")throw new Error("Expected point or line for text-placement");G.setPlacement(q)}if(E&&G.setRepeat(E(Y)),S&&G.setScale(S(Y)),x&&G.setRotateWithView(x(Y)),R&&G.setRotation(R(Y)),I){const q=I(Y);if(q!=="left"&&q!=="center"&&q!=="right"&&q!=="end"&&q!=="start")throw new Error("Expected left, right, center, start, or end for text-align");G.setTextAlign(q)}if(O){const q=O(Y);if(q!=="left"&&q!=="right"&&q!=="center")throw new Error("Expected left, right, or center for text-justify");G.setJustify(q)}if(T){const q=T(Y);if(q!=="bottom"&&q!=="top"&&q!=="middle"&&q!=="alphabetic"&&q!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");G.setTextBaseline(q)}return U&&G.setPadding(U(Y)),M&&G.setKeepUpright(M(Y)),G}}function Jw(r,e){return"icon-src"in r?Qw(r,e):"shape-points"in r?ex(r,e):"circle-radius"in r?tx(r,e):null}function Qw(r,e){const t="icon-",i=t+"src",o=ny(r[i],i),l=Ua(r,t+"anchor",e),u=cu(r,t+"scale",e),c=Xt(r,t+"opacity",e),d=Ua(r,t+"displacement",e),g=Xt(r,t+"rotation",e),p=Ss(r,t+"rotate-with-view",e),_=Im(r,t+"anchor-origin"),y=Lm(r,t+"anchor-x-units"),w=Lm(r,t+"anchor-y-units"),E=ox(r,t+"color"),S=rx(r,t+"cross-origin"),x=sx(r,t+"offset"),R=Im(r,t+"offset-origin"),I=ja(r,t+"width"),O=ja(r,t+"height"),T=ix(r,t+"size"),M=hu(r,t+"declutter-mode"),U=new tl({src:o,anchorOrigin:_,anchorXUnits:y,anchorYUnits:w,color:E,crossOrigin:S,offset:x,offsetOrigin:R,height:O,width:I,size:T,declutterMode:M});return function(B){return c&&U.setOpacity(c(B)),d&&U.setDisplacement(d(B)),g&&U.setRotation(g(B)),p&&U.setRotateWithView(p(B)),u&&U.setScale(u(B)),l&&U.setAnchor(l(B)),U}}function ex(r,e){const t="shape-",i=t+"points",o=t+"radius",l=Bh(r[i],i),u=Bh(r[o],o),c=Ko(r,t,e),d=Ho(r,t,e),g=cu(r,t+"scale",e),p=Ua(r,t+"displacement",e),_=Xt(r,t+"rotation",e),y=Ss(r,t+"rotate-with-view",e),w=ja(r,t+"radius2"),E=ja(r,t+"angle"),S=hu(r,t+"declutter-mode"),x=new lu({points:l,radius:u,radius2:w,angle:E,declutterMode:S});return function(R){return c&&x.setFill(c(R)),d&&x.setStroke(d(R)),p&&x.setDisplacement(p(R)),_&&x.setRotation(_(R)),y&&x.setRotateWithView(y(R)),g&&x.setScale(g(R)),x}}function tx(r,e){const t="circle-",i=Ko(r,t,e),o=Ho(r,t,e),l=Xt(r,t+"radius",e),u=cu(r,t+"scale",e),c=Ua(r,t+"displacement",e),d=Xt(r,t+"rotation",e),g=Ss(r,t+"rotate-with-view",e),p=hu(r,t+"declutter-mode"),_=new au({radius:5,declutterMode:p});return function(y){return l&&_.setRadius(l(y)),i&&_.setFill(i(y)),o&&_.setStroke(o(y)),c&&_.setDisplacement(c(y)),d&&_.setRotation(d(y)),g&&_.setRotateWithView(g(y)),u&&_.setScale(u(y)),_}}function Xt(r,e,t){if(!(e in r))return;const i=mi(r[e],Te,t);return function(o){return Bh(i(o),e)}}function hi(r,e,t){if(!(e in r))return null;const i=mi(r[e],Wt,t);return function(o){return ny(i(o),e)}}function nx(r,e,t){const i=hi(r,e+"pattern-src",t),o=Tm(r,e+"pattern-offset",t),l=Tm(r,e+"pattern-size",t),u=Rd(r,e+"color",t);return function(c){return{src:i(c),offset:o&&o(c),size:l&&l(c),color:u&&u(c)}}}function Ss(r,e,t){if(!(e in r))return null;const i=mi(r[e],At,t);return function(o){const l=i(o);if(typeof l!="boolean")throw new Error(`Expected a boolean for ${e}`);return l}}function Rd(r,e,t){if(!(e in r))return null;const i=mi(r[e],An,t);return function(o){return iy(i(o),e)}}function ty(r,e,t){if(!(e in r))return null;const i=mi(r[e],Pr,t);return function(o){return nl(i(o),e)}}function Ua(r,e,t){if(!(e in r))return null;const i=mi(r[e],Pr,t);return function(o){const l=nl(i(o),e);if(l.length!==2)throw new Error(`Expected two numbers for ${e}`);return l}}function Tm(r,e,t){if(!(e in r))return null;const i=mi(r[e],Pr,t);return function(o){return ry(i(o),e)}}function cu(r,e,t){if(!(e in r))return null;const i=mi(r[e],Pr|Te,t);return function(o){return lx(i(o),e)}}function ja(r,e){const t=r[e];if(t!==void 0){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}}function ix(r,e){const t=r[e];if(t!==void 0){if(typeof t=="number")return Vt(t);if(!Array.isArray(t))throw new Error(`Expected a number or size array for ${e}`);if(t.length!==2||typeof t[0]!="number"||typeof t[1]!="number")throw new Error(`Expected a number or size array for ${e}`);return t}}function rx(r,e){const t=r[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}}function Im(r,e){const t=r[e];if(t!==void 0){if(t!=="bottom-left"&&t!=="bottom-right"&&t!=="top-left"&&t!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return t}}function Lm(r,e){const t=r[e];if(t!==void 0){if(t!=="pixels"&&t!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return t}}function sx(r,e){const t=r[e];if(t!==void 0)return nl(t,e)}function hu(r,e){const t=r[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);if(t!=="declutter"&&t!=="obstacle"&&t!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return t}}function ox(r,e){const t=r[e];if(t!==void 0)return iy(t,e)}function nl(r,e){if(!Array.isArray(r))throw new Error(`Expected an array for ${e}`);const t=r.length;for(let i=0;i<t;++i)if(typeof r[i]!="number")throw new Error(`Expected an array of numbers for ${e}`);return r}function ny(r,e){if(typeof r!="string")throw new Error(`Expected a string for ${e}`);return r}function Bh(r,e){if(typeof r!="number")throw new Error(`Expected a number for ${e}`);return r}function iy(r,e){if(typeof r=="string")return r;const t=nl(r,e),i=t.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return t}function ry(r,e){const t=nl(r,e);if(t.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return t}function lx(r,e){return typeof r=="number"?r:ry(r,e)}const Ln={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function km(r,e,t){return function(i,o,l,u,c){if(!i)return;if(!o&&!e)return i;const d=e?0:l[0]*o,g=e?0:l[1]*o,p=c?c[0]:0,_=c?c[1]:0;let y=r[0]+d/2+p,w=r[2]-d/2+p,E=r[1]+g/2+_,S=r[3]-g/2+_;y>w&&(y=(w+y)/2,w=y),E>S&&(E=(S+E)/2,S=E);let x=et(i[0],y,w),R=et(i[1],E,S);if(u&&t&&o){const I=30*o;x+=-I*Math.log(1+Math.max(0,y-i[0])/I)+I*Math.log(1+Math.max(0,i[0]-w)/I),R+=-I*Math.log(1+Math.max(0,E-i[1])/I)+I*Math.log(1+Math.max(0,i[1]-S)/I)}return[x,R]}}function ax(r){return r}function sy(r){return Math.pow(r,3)}function Ds(r){return 1-sy(1-r)}function ux(r){return 3*r*r-2*r*r*r}function cx(r){return r}function Td(r,e,t,i){const o=be(e)/t[0],l=Pt(e)/t[1];return i?Math.min(r,Math.max(o,l)):Math.min(r,Math.min(o,l))}function Id(r,e,t){let i=Math.min(r,e);const o=50;return i*=Math.log(1+o*Math.max(0,r/e-1))/o+1,t&&(i=Math.max(i,t),i/=Math.log(1+o*Math.max(0,t/r-1))/o+1),et(i,t/2,e*2)}function hx(r,e,t,i){return e=e!==void 0?e:!0,function(o,l,u,c){if(o!==void 0){const d=r[0],g=r[r.length-1],p=t?Td(d,t,u,i):d;if(c)return e?Id(o,p,g):et(o,g,p);const _=Math.min(p,o),y=Math.floor(ed(r,_,l));return r[y]>p&&y<r.length-1?r[y+1]:r[y]}}}function dx(r,e,t,i,o,l){return i=i!==void 0?i:!0,t=t!==void 0?t:0,function(u,c,d,g){if(u!==void 0){const p=o?Td(e,o,d,l):e;if(g)return i?Id(u,p,t):et(u,t,p);const _=1e-9,y=Math.ceil(Math.log(e/p)/Math.log(r)-_),w=-c*(.5-_)+.5,E=Math.min(p,u),S=Math.floor(Math.log(e/E)/Math.log(r)+w),x=Math.max(y,S),R=e/Math.pow(r,x);return et(R,t,p)}}}function Am(r,e,t,i,o){return t=t!==void 0?t:!0,function(l,u,c,d){if(l!==void 0){const g=i?Td(r,i,c,o):r;return!t||!d?et(l,e,g):Id(l,g,e)}}}function Ld(r){if(r!==void 0)return 0}function Pm(r){if(r!==void 0)return r}function fx(r){const e=2*Math.PI/r;return function(t,i){if(i)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function gx(r){const e=$i(5);return function(t,i){return i||t===void 0?t:Math.abs(t)<=e?0:t}}const px=42,kd=256,vh=0;class Xn extends Kn{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=dd(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&__(),e.center&&(e.center=ui(e.center,this.projection_)),e.extent&&(e.extent=Ki(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const t=Object.assign({},e);for(const c in Ln)delete t[c];this.setProperties(t,!0);const i=_x(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;const o=mx(e),l=i.constraint,u=yx(e);this.constraints_={center:o,resolution:l,rotation:u},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;const i=this.getCenterInternal();if(i){const o=e||[0,0,0,0];t=t||[0,0,0,0];const l=this.getResolution(),u=l/2*(o[3]-t[3]+t[1]-o[1]),c=l/2*(o[0]-t[0]+t[2]-o[2]);this.setCenterInternal([i[0]+u,i[1]-c])}}getUpdatedOptions_(e){const t=this.getProperties();return t.resolution!==void 0?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const t=new Array(arguments.length);for(let i=0;i<t.length;++i){let o=arguments[i];o.center&&(o=Object.assign({},o),o.center=ui(o.center,this.getProjection())),o.anchor&&(o=Object.assign({},o),o.anchor=ui(o.anchor,this.getProjection())),t[i]=o}this.animateInternal.apply(this,t)}animateInternal(e){let t=arguments.length,i;t>1&&typeof arguments[t-1]=="function"&&(i=arguments[t-1],--t);let o=0;for(;o<t&&!this.isDef();++o){const p=arguments[o];p.center&&this.setCenterInternal(p.center),p.zoom!==void 0?this.setZoom(p.zoom):p.resolution&&this.setResolution(p.resolution),p.rotation!==void 0&&this.setRotation(p.rotation)}if(o===t){i&&Ra(i,!0);return}let l=Date.now(),u=this.targetCenter_.slice(),c=this.targetResolution_,d=this.targetRotation_;const g=[];for(;o<t;++o){const p=arguments[o],_={start:l,complete:!1,anchor:p.anchor,duration:p.duration!==void 0?p.duration:1e3,easing:p.easing||ux,callback:i};if(p.center&&(_.sourceCenter=u,_.targetCenter=p.center.slice(),u=_.targetCenter),p.zoom!==void 0?(_.sourceResolution=c,_.targetResolution=this.getResolutionForZoom(p.zoom),c=_.targetResolution):p.resolution&&(_.sourceResolution=c,_.targetResolution=p.resolution,c=_.targetResolution),p.rotation!==void 0){_.sourceRotation=d;const y=Lr(p.rotation-d+Math.PI,2*Math.PI)-Math.PI;_.targetRotation=d+y,d=_.targetRotation}vx(_)?_.complete=!0:l+=_.duration,g.push(_)}this.animations_.push(g),this.setHint(Et.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[Et.ANIMATING]>0}getInteracting(){return this.hints_[Et.INTERACTING]>0}cancelAnimations(){this.setHint(Et.ANIMATING,-this.hints_[Et.ANIMATING]);let e;for(let t=0,i=this.animations_.length;t<i;++t){const o=this.animations_[t];if(o[0].callback&&Ra(o[0].callback,!1),!e)for(let l=0,u=o.length;l<u;++l){const c=o[l];if(!c.complete){e=c.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let t=!1;for(let i=this.animations_.length-1;i>=0;--i){const o=this.animations_[i];let l=!0;for(let u=0,c=o.length;u<c;++u){const d=o[u];if(d.complete)continue;const g=e-d.start;let p=d.duration>0?g/d.duration:1;p>=1?(d.complete=!0,p=1):l=!1;const _=d.easing(p);if(d.sourceCenter){const y=d.sourceCenter[0],w=d.sourceCenter[1],E=d.targetCenter[0],S=d.targetCenter[1];this.nextCenter_=d.targetCenter;const x=y+_*(E-y),R=w+_*(S-w);this.targetCenter_=[x,R]}if(d.sourceResolution&&d.targetResolution){const y=_===1?d.targetResolution:d.sourceResolution+_*(d.targetResolution-d.sourceResolution);if(d.anchor){const w=this.getViewportSize_(this.getRotation()),E=this.constraints_.resolution(y,0,w,!0);this.targetCenter_=this.calculateCenterZoom(E,d.anchor)}this.nextResolution_=d.targetResolution,this.targetResolution_=y,this.applyTargetState_(!0)}if(d.sourceRotation!==void 0&&d.targetRotation!==void 0){const y=_===1?Lr(d.targetRotation+Math.PI,2*Math.PI)-Math.PI:d.sourceRotation+_*(d.targetRotation-d.sourceRotation);if(d.anchor){const w=this.constraints_.rotation(y,!0);this.targetCenter_=this.calculateCenterRotate(w,d.anchor)}this.nextRotation_=d.targetRotation,this.targetRotation_=y}if(this.applyTargetState_(!0),t=!0,!d.complete)break}if(l){this.animations_[i]=null,this.setHint(Et.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const u=o[0].callback;u&&Ra(u,!0)}}this.animations_=this.animations_.filter(Boolean),t&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let i;const o=this.getCenterInternal();return o!==void 0&&(i=[o[0]-t[0],o[1]-t[1]],od(i,e-this.getRotation()),cv(i,t)),i}calculateCenterZoom(e,t){let i;const o=this.getCenterInternal(),l=this.getResolution();if(o!==void 0&&l!==void 0){const u=t[0]-e*(t[0]-o[0])/l,c=t[1]-e*(t[1]-o[1])/l;i=[u,c]}return i}getViewportSize_(e){const t=this.viewportSize_;if(e){const i=t[0],o=t[1];return[Math.abs(i*Math.cos(e))+Math.abs(o*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(o*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&Gh(e,this.getProjection())}getCenterInternal(){return this.get(Ln.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const t=this.calculateExtentInternal(e);return y_(t,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const t=this.getCenterInternal();Me(t,"The view center is not defined");const i=this.getResolution();Me(i!==void 0,"The view resolution is not defined");const o=this.getRotation();return Me(o!==void 0,"The view rotation is not defined"),Dh(t,i,o,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(Ln.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(Ki(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();const i=be(e)/t[0],o=Pt(e)/t[1];return Math.max(i,o)}getResolutionForValueFunction(e){e=e||2;const t=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,o=Math.log(t/i)/Math.log(e);return function(l){return t/Math.pow(e,l*o)}}getRotation(){return this.get(Ln.ROTATION)}getValueForResolutionFunction(e){const t=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,l=Math.log(i/o)/t;return function(u){return Math.log(i/u)/t/l}}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e);const i=this.padding_;return i&&(t=[t[0]-i[1]-i[3],t[1]-i[0]-i[2]]),t}getState(){const e=this.getProjection(),t=this.getResolution(),i=this.getRotation();let o=this.getCenterInternal();const l=this.padding_;if(l){const u=this.getViewportSizeMinusPadding_();o=Eh(o,this.getViewportSize_(),[u[0]/2+l[3],u[1]/2+l[0]],t,i)}return{center:o.slice(0),projection:e!==void 0?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const t=this.getResolution();return t!==void 0&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let t=this.minZoom_||0,i,o;if(this.resolutions_){const l=ed(this.resolutions_,e,1);t=l,i=this.resolutions_[l],l==this.resolutions_.length-1?o=2:o=i/this.resolutions_[l+1]}else i=this.maxResolution_,o=this.zoomFactor_;return t+Math.log(i/e)/Math.log(o)}getResolutionForZoom(e){var t;if((t=this.resolutions_)!=null&&t.length){if(this.resolutions_.length===1)return this.resolutions_[0];const i=et(Math.floor(e),0,this.resolutions_.length-2),o=this.resolutions_[i]/this.resolutions_[i+1];return this.resolutions_[i]/Math.pow(o,et(e-i,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let i;if(Me(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){Me(!Qa(e),"Cannot fit empty extent provided as `geometry`");const o=Ki(e,this.getProjection());i=Jp(o)}else if(e.getType()==="Circle"){const o=Ki(e.getExtent(),this.getProjection());i=Jp(o),i.rotate(this.getRotation(),Ar(o))}else i=e;this.fitInternal(i,t)}rotatedExtentForGeometry(e){const t=this.getRotation(),i=Math.cos(t),o=Math.sin(-t),l=e.getFlatCoordinates(),u=e.getStride();let c=1/0,d=1/0,g=-1/0,p=-1/0;for(let _=0,y=l.length;_<y;_+=u){const w=l[_]*i-l[_+1]*o,E=l[_]*o+l[_+1]*i;c=Math.min(c,w),d=Math.min(d,E),g=Math.max(g,w),p=Math.max(p,E)}return[c,d,g,p]}fitInternal(e,t){t=t||{};let i=t.size;i||(i=this.getViewportSizeMinusPadding_());const o=t.padding!==void 0?t.padding:[0,0,0,0],l=t.nearest!==void 0?t.nearest:!1;let u;t.minResolution!==void 0?u=t.minResolution:t.maxZoom!==void 0?u=this.getResolutionForZoom(t.maxZoom):u=0;const c=this.rotatedExtentForGeometry(e);let d=this.getResolutionForExtentInternal(c,[i[0]-o[1]-o[3],i[1]-o[0]-o[2]]);d=isNaN(d)?u:Math.max(d,u),d=this.getConstrainedResolution(d,l?0:1);const g=this.getRotation(),p=Math.sin(g),_=Math.cos(g),y=Ar(c);y[0]+=(o[1]-o[3])/2*d,y[1]+=(o[0]-o[2])/2*d;const w=y[0]*_-y[1]*p,E=y[1]*_+y[0]*p,S=this.getConstrainedCenter([w,E],d),x=t.callback?t.callback:Ts;t.duration!==void 0?this.animateInternal({resolution:d,center:S,duration:t.duration,easing:t.easing},x):(this.targetResolution_=d,this.targetCenter_=S,this.applyTargetState_(!1,!0),Ra(x,!0))}centerOn(e,t,i){this.centerOnInternal(ui(e,this.getProjection()),t,i)}centerOnInternal(e,t,i){this.setCenterInternal(Eh(e,t,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,i,o){let l;const u=this.padding_;if(u&&e){const c=this.getViewportSizeMinusPadding_(-i),d=Eh(e,o,[c[0]/2+u[3],c[1]/2+u[0]],t,i);l=[e[0]-d[0],e[1]-d[1]]}return l}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const t=Gh(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){const t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&ui(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){const i=this.getAnimating()||this.getInteracting(),o=this.getViewportSize_(this.getRotation()),l=this.constraints_.resolution(this.targetResolution_*e,0,o,i);t&&(this.targetCenter_=this.calculateCenterZoom(l,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=ui(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){const i=this.getAnimating()||this.getInteracting(),o=this.constraints_.rotation(this.targetRotation_+e,i);t&&(this.targetCenter_=this.calculateCenterRotate(o,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&ui(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){const i=this.getAnimating()||this.getInteracting()||t,o=this.constraints_.rotation(this.targetRotation_,i),l=this.getViewportSize_(o),u=this.constraints_.resolution(this.targetResolution_,0,l,i),c=this.constraints_.center(this.targetCenter_,u,l,i,this.calculateCenterShift(this.targetCenter_,u,o,l));this.get(Ln.ROTATION)!==o&&this.set(Ln.ROTATION,o),this.get(Ln.RESOLUTION)!==u&&(this.set(Ln.RESOLUTION,u),this.set("zoom",this.getZoom(),!0)),(!c||!this.get(Ln.CENTER)||!Pa(this.get(Ln.CENTER),c))&&this.set(Ln.CENTER,c),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,i){e=e!==void 0?e:200;const o=t||0,l=this.constraints_.rotation(this.targetRotation_),u=this.getViewportSize_(l),c=this.constraints_.resolution(this.targetResolution_,o,u),d=this.constraints_.center(this.targetCenter_,c,u,!1,this.calculateCenterShift(this.targetCenter_,c,l,u));if(e===0&&!this.cancelAnchor_){this.targetResolution_=c,this.targetRotation_=l,this.targetCenter_=d,this.applyTargetState_();return}i=i||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==c||this.getRotation()!==l||!this.getCenterInternal()||!Pa(this.getCenterInternal(),d))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:l,center:d,resolution:c,duration:e,easing:Ds,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(Et.INTERACTING,1)}endInteraction(e,t,i){i=i&&ui(i,this.getProjection()),this.endInteractionInternal(e,t,i)}endInteractionInternal(e,t,i){this.getInteracting()&&(this.setHint(Et.INTERACTING,-1),this.resolveConstraints(e,t,i))}getConstrainedCenter(e,t){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),i)}getConstrainedZoom(e,t){const i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,t))}getConstrainedResolution(e,t){t=t||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,i)}}function Ra(r,e){setTimeout(function(){r(e)},0)}function mx(r){if(r.extent!==void 0){const t=r.smoothExtentConstraint!==void 0?r.smoothExtentConstraint:!0;return km(r.extent,r.constrainOnlyCenter,t)}const e=dd(r.projection,"EPSG:3857");if(r.multiWorld!==!0&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,km(t,!1,!1)}return ax}function _x(r){let e,t,i,u=r.minZoom!==void 0?r.minZoom:vh,c=r.maxZoom!==void 0?r.maxZoom:28;const d=r.zoomFactor!==void 0?r.zoomFactor:2,g=r.multiWorld!==void 0?r.multiWorld:!1,p=r.smoothResolutionConstraint!==void 0?r.smoothResolutionConstraint:!0,_=r.showFullExtent!==void 0?r.showFullExtent:!1,y=dd(r.projection,"EPSG:3857"),w=y.getExtent();let E=r.constrainOnlyCenter,S=r.extent;if(!g&&!S&&y.isGlobal()&&(E=!1,S=w),r.resolutions!==void 0){const x=r.resolutions;t=x[u],i=x[c]!==void 0?x[c]:x[x.length-1],r.constrainResolution?e=hx(x,p,!E&&S,_):e=Am(t,i,p,!E&&S,_)}else{const R=(w?Math.max(be(w),Pt(w)):360*ld.degrees/y.getMetersPerUnit())/kd/Math.pow(2,vh),I=R/Math.pow(2,28-vh);t=r.maxResolution,t!==void 0?u=0:t=R/Math.pow(d,u),i=r.minResolution,i===void 0&&(r.maxZoom!==void 0?r.maxResolution!==void 0?i=t/Math.pow(d,c):i=R/Math.pow(d,c):i=I),c=u+Math.floor(Math.log(t/i)/Math.log(d)),i=t/Math.pow(d,c-u),r.constrainResolution?e=dx(d,t,i,p,!E&&S,_):e=Am(t,i,p,!E&&S,_)}return{constraint:e,maxResolution:t,minResolution:i,minZoom:u,zoomFactor:d}}function yx(r){if(r.enableRotation!==void 0?r.enableRotation:!0){const t=r.constrainRotation;return t===void 0||t===!0?gx():t===!1?Pm:typeof t=="number"?fx(t):Pm}return Ld}function vx(r){return!(r.sourceCenter&&r.targetCenter&&!Pa(r.sourceCenter,r.targetCenter)||r.sourceResolution!==r.targetResolution||r.sourceRotation!==r.targetRotation)}function Eh(r,e,t,i,o){const l=Math.cos(-o);let u=Math.sin(-o),c=r[0]*l-r[1]*u,d=r[1]*l+r[0]*u;c+=(e[0]/2-t[0])*i,d+=(t[1]-e[1]/2)*i,u=-u;const g=c*l-d*u,p=d*l+c*u;return[g,p]}const ze={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class oy extends Kn{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const t=Object.assign({},e);typeof e.properties=="object"&&(delete t.properties,Object.assign(t,e.properties)),t[ze.OPACITY]=e.opacity!==void 0?e.opacity:1,Me(typeof t[ze.OPACITY]=="number","Layer opacity must be a number"),t[ze.VISIBLE]=e.visible!==void 0?e.visible:!0,t[ze.Z_INDEX]=e.zIndex,t[ze.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,t[ze.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,t[ze.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,t[ze.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=t.className!==void 0?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const t=this.state_||{layer:this,managed:e===void 0?!0:e},i=this.getZIndex();return t.opacity=et(Math.round(this.getOpacity()*100)/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=i===void 0&&!t.managed?1/0:i,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return Ae()}getLayerStatesArray(e){return Ae()}getExtent(){return this.get(ze.EXTENT)}getMaxResolution(){return this.get(ze.MAX_RESOLUTION)}getMinResolution(){return this.get(ze.MIN_RESOLUTION)}getMinZoom(){return this.get(ze.MIN_ZOOM)}getMaxZoom(){return this.get(ze.MAX_ZOOM)}getOpacity(){return this.get(ze.OPACITY)}getSourceState(){return Ae()}getVisible(){return this.get(ze.VISIBLE)}getZIndex(){return this.get(ze.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(ze.EXTENT,e)}setMaxResolution(e){this.set(ze.MAX_RESOLUTION,e)}setMinResolution(e){this.set(ze.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(ze.MAX_ZOOM,e)}setMinZoom(e){this.set(ze.MIN_ZOOM,e)}setOpacity(e){Me(typeof e=="number","Layer opacity must be a number"),this.set(ze.OPACITY,e)}setVisible(e){this.set(ze.VISIBLE,e)}setZIndex(e){this.set(ze.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}class du extends oy{constructor(e){const t=Object.assign({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(ze.SOURCE,this.handleSourcePropertyChange_);const i=e.source?e.source:null;this.setSource(i)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(ze.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Xe(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=Pe(e,Ee.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0)),this.clearRenderer()),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let t;const i=this.getMapInternal();!e&&i&&(e=i.getView()),e instanceof Xn?t={viewState:e.getState(),extent:e.calculateExtent()}:t=e,!t.layerStatesArray&&i&&(t.layerStatesArray=i.getLayerGroup().getLayerStatesArray());let o;if(t.layerStatesArray){if(o=t.layerStatesArray.find(u=>u.layer===this),!o)return!1}else o=this.getLayerState();const l=this.getExtent();return Ad(o,t.viewState)&&(!l||Bt(l,t.extent))}getAttributions(e){var l;if(!this.isVisible(e))return[];const t=(l=this.getSource())==null?void 0:l.getAttributions();if(!t)return[];const i=e instanceof Xn?e.getViewStateAndExtent():e;let o=t(i);return Array.isArray(o)||(o=[o]),o}render(e,t){const i=this.getRenderer();return i.prepareFrame(e)?(this.rendered=!0,i.renderFrame(e,t)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,t){}renderDeferred(e){const t=this.getRenderer();t&&t.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(ze.MAP,e)}getMapInternal(){return this.get(ze.MAP)}setMap(e){this.mapPrecomposeKey_&&(Xe(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Xe(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Pe(e,mn.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=Pe(this,Ee.CHANGE,e.render,e),this.changed())}handlePrecompose_(e){const t=e.frameState.layerStatesArray,i=this.getLayerState(!1);Me(!t.some(o=>o.layer===i.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),t.push(i)}setSource(e){this.set(ze.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}}function Ad(r,e){if(!r.visible)return!1;const t=e.resolution;if(t<r.minResolution||t>=r.maxResolution)return!1;const i=e.zoom;return i>r.minZoom&&i<=r.maxZoom}const Mm={RENDER_ORDER:"renderOrder"};class ly extends du{constructor(e){e=e||{};const t=Object.assign({},e);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,super(t),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(Mm.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,t){const i=this.getDeclutter();i in e.declutter||(e.declutter[i]=new V_(9)),this.getRenderer().renderDeclutter(e,t)}setRenderOrder(e){this.set(Mm.RENDER_ORDER,e)}setStyle(e){this.style_=e===void 0?K_:e;const t=Ex(e);this.styleFunction_=e===null?void 0:iw(t),this.changed()}setDeclutter(e){this.declutter_=e?String(e):void 0,this.changed()}}function Ex(r){if(r===void 0)return K_;if(!r)return null;if(typeof r=="function"||r instanceof Ji)return r;if(!Array.isArray(r))return Rm([r]);if(r.length===0)return[];const e=r.length,t=r[0];if(t instanceof Ji){const o=new Array(e);for(let l=0;l<e;++l){const u=r[l];if(!(u instanceof Ji))throw new Error("Expected a list of style instances");o[l]=u}return o}if("style"in t){const o=new Array(e);for(let l=0;l<e;++l){const u=r[l];if(!("style"in u))throw new Error("Expected a list of rules with a style property");o[l]=u}return Zw(o)}return Rm(r)}class wx extends ly{constructor(e){super(e)}createRenderer(){return new Sw(this)}}const he={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class Pd extends Ha{constructor(e,t,i){super(),i=i||{},this.tileCoord=e,this.state=t,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(Ee.CHANGE)}release(){this.setState(he.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==he.EMPTY){if(this.state!==he.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}}load(){Ae()}getAlpha(e,t){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(!i)i=t,this.transitionStarts_[e]=i;else if(i===-1)return 1;const o=t-i+1e3/60;return o>=this.transition_?1:sy(o/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}class ay extends Pd{constructor(e,t,i,o,l,u){super(e,t,u),this.crossOrigin_=o,this.src_=i,this.key=i,this.image_=new Image,o!==null&&(this.image_.crossOrigin=o),this.unlisten_=null,this.tileLoadFunction_=l}getImage(){return this.image_}setImage(e){this.image_=e,this.state=he.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=he.ERROR,this.unlistenImage_(),this.image_=xx(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=he.LOADED:this.state=he.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==he.ERROR&&(this.state=he.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==he.IDLE&&(this.state=he.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=xE(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}function xx(){const r=ct(1,1);return r.fillStyle="rgba(0,0,0,0)",r.fillRect(0,0,1,1),r.canvas}class Sx{constructor(e,t,i){this.decay_=e,this.minVelocity_=t,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let i=t-3;for(;i>0&&this.points_[i+2]>e;)i-=3;const o=this.points_[t+2]-this.points_[i+2];if(o<1e3/60)return!1;const l=this.points_[t]-this.points_[i],u=this.points_[t+1]-this.points_[i+1];return this.angle_=Math.atan2(u,l),this.initialVelocity_=Math.sqrt(l*l+u*u)/o,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class _s extends pi{constructor(e,t,i){super(e),this.map=t,this.frameState=i!==void 0?i:null}}class Xi extends _s{constructor(e,t,i,o,l,u){super(e,t,l),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=o!==void 0?o:!1,this.activePointers=u}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const He={SINGLECLICK:"singleclick",CLICK:Ee.CLICK,DBLCLICK:Ee.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Xh={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};class Cx extends Ha{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=t===void 0?1:t,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=Pe(i,Xh.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=Pe(i,Xh.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Ee.TOUCHMOVE,this.boundHandleTouchMove_,O_?{passive:!1}:!1)}emulateClick_(e){let t=new Xi(He.CLICK,this.map_,e);this.dispatchEvent(t),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new Xi(He.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const i=new Xi(He.SINGLECLICK,this.map_,e);this.dispatchEvent(i)},250)}updateActivePointers_(e){const t=e,i=t.pointerId;if(t.type==He.POINTERUP||t.type==He.POINTERCANCEL){delete this.trackedTouches_[i];for(const o in this.trackedTouches_)if(this.trackedTouches_[o].target!==t.target){delete this.trackedTouches_[o];break}}else(t.type==He.POINTERDOWN||t.type==He.POINTERMOVE)&&(this.trackedTouches_[i]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const t=new Xi(He.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Xe),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const t=new Xi(He.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Pe(i,He.POINTERMOVE,this.handlePointerMove_,this),Pe(i,He.POINTERUP,this.handlePointerUp_,this),Pe(this.element_,He.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(Pe(this.element_.getRootNode(),He.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const t=new Xi(He.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const t=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new Xi(He.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){const t=this.originalPointerMoveEvent_;(!t||t.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Xe(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Ee.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Xe(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Xe),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const Vi={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},vt={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Wa=1/0;class Rx{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,$o(this.queuedElements_)}dequeue(){const e=this.elements_,t=this.priorities_,i=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));const o=this.keyFunction_(i);return delete this.queuedElements_[o],i}enqueue(e){Me(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const t=this.priorityFunction_(e);return t!=Wa?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const t=this.elements_,i=this.priorities_,o=t.length,l=t[e],u=i[e],c=e;for(;e<o>>1;){const d=this.getLeftChildIndex_(e),g=this.getRightChildIndex_(e),p=g<o&&i[g]<i[d]?g:d;t[e]=t[p],i[e]=i[p],e=p}t[e]=l,i[e]=u,this.siftDown_(c,e)}siftDown_(e,t){const i=this.elements_,o=this.priorities_,l=i[t],u=o[t];for(;t>e;){const c=this.getParentIndex_(t);if(o[c]>u)i[t]=i[c],o[t]=o[c],t=c;else break}i[t]=l,o[t]=u}reprioritize(){const e=this.priorityFunction_,t=this.elements_,i=this.priorities_;let o=0;const l=t.length;let u,c,d;for(c=0;c<l;++c)u=t[c],d=e(u),d==Wa?delete this.queuedElements_[this.keyFunction_(u)]:(i[o]=d,t[o++]=u);t.length=o,i.length=o,this.heapify_()}}class Tx extends Rx{constructor(e,t){super(i=>e.apply(null,i),i=>i[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const t=super.enqueue(e);return t&&e[0].addEventListener(Ee.CHANGE,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const t=e.target,i=t.getState();if(i===he.LOADED||i===he.ERROR||i===he.EMPTY){i!==he.ERROR&&t.removeEventListener(Ee.CHANGE,this.boundHandleTileChange_);const o=t.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let i=0;for(;this.tilesLoading_<e&&i<t&&this.getCount()>0;){const o=this.dequeue()[0],l=o.getKey();o.getState()===he.IDLE&&!(l in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[l]=!0,++this.tilesLoading_,++i,o.load())}}}function Ix(r,e,t,i,o){if(!r||!(t in r.wantedTiles)||!r.wantedTiles[t][e.getKey()])return Wa;const l=r.viewState.center,u=i[0]-l[0],c=i[1]-l[1];return 65536*Math.log(o)+Math.sqrt(u*u+c*c)/o}class Md extends Kn{constructor(e){super();const t=e.element;t&&!e.target&&!t.style.pointerEvents&&(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){var e;(e=this.element)==null||e.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){var t;this.map_&&((t=this.element)==null||t.remove());for(let i=0,o=this.listenerKeys.length;i<o;++i)Xe(this.listenerKeys[i]);if(this.listenerKeys.length=0,this.map_=e,e){const i=this.target_??e.getOverlayContainerStopEvent();this.element&&i.appendChild(this.element),this.render!==Ts&&this.listenerKeys.push(Pe(e,Vi.POSTRENDER,this.render,this)),e.render()}}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}class Lx extends Md{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=e.attributions;const t=e.className!==void 0?e.className:"ol-attribution",i=e.tipLabel!==void 0?e.tipLabel:"Attributions",o=e.expandClassName!==void 0?e.expandClassName:t+"-expand",l=e.collapseLabel!==void 0?e.collapseLabel:"",u=e.collapseClassName!==void 0?e.collapseClassName:t+"-collapse";typeof l=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=l,this.collapseLabel_.className=u):this.collapseLabel_=l;const c=e.label!==void 0?e.label:"i";typeof c=="string"?(this.label_=document.createElement("span"),this.label_.textContent=c,this.label_.className=o):this.label_=c;const d=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(d),this.toggleButton_.addEventListener(Ee.CLICK,this.handleClick_.bind(this),!1);const g=t+" "+su+" "+Sd+(this.collapsed_&&this.collapsible_?" "+rm:"")+(this.collapsible_?"":" ol-uncollapsible"),p=this.element;p.className=g,p.appendChild(this.toggleButton_),p.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const t=this.getMap().getAllLayers(),i=new Set(t.flatMap(o=>o.getAttributions(e)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(o=>i.add(o)):i.add(this.attributions_)),!this.overrideCollapsible_){const o=!t.some(l=>{var u;return((u=l.getSource())==null?void 0:u.getAttributionsCollapsible())===!1});this.setCollapsible(o)}return Array.from(i)}async updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const t=await Promise.all(this.collectSourceAttributions_(e).map(o=>J1(()=>o))),i=t.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!tr(t,this.renderedAttributions_)){EE(this.ulElement_);for(let o=0,l=t.length;o<l;++o){const u=document.createElement("li");u.innerHTML=t[o],this.ulElement_.appendChild(u)}this.renderedAttributions_=t}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(rm),this.collapsed_?im(this.collapseLabel_,this.label_):im(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class kx extends Md{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const t=e.className!==void 0?e.className:"ol-rotate",i=e.label!==void 0?e.label:"",o=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=o,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(o));const l=e.tipLabel?e.tipLabel:"Reset rotation",u=document.createElement("button");u.className=t+"-reset",u.setAttribute("type","button"),u.title=l,u.appendChild(this.label_),u.addEventListener(Ee.CLICK,this.handleClick_.bind(this),!1);const c=t+" "+su+" "+Sd,d=this.element;d.className=c,d.appendChild(u),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Ea)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const t=this.getMap().getView();if(!t)return;const i=t.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?t.animate({rotation:0,duration:this.duration_,easing:Ds}):t.setRotation(0))}render(e){const t=e.frameState;if(!t)return;const i=t.viewState.rotation;if(i!=this.rotation_){const o="rotate("+i+"rad)";if(this.autoHide_){const l=this.element.classList.contains(Ea);!l&&i===0?this.element.classList.add(Ea):l&&i!==0&&this.element.classList.remove(Ea)}this.label_.style.transform=o}this.rotation_=i}}class Ax extends Md{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const t=e.className!==void 0?e.className:"ol-zoom",i=e.delta!==void 0?e.delta:1,o=e.zoomInClassName!==void 0?e.zoomInClassName:t+"-in",l=e.zoomOutClassName!==void 0?e.zoomOutClassName:t+"-out",u=e.zoomInLabel!==void 0?e.zoomInLabel:"+",c=e.zoomOutLabel!==void 0?e.zoomOutLabel:"",d=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",g=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",p=document.createElement("button");p.className=o,p.setAttribute("type","button"),p.title=d,p.appendChild(typeof u=="string"?document.createTextNode(u):u),p.addEventListener(Ee.CLICK,this.handleClick_.bind(this,i),!1);const _=document.createElement("button");_.className=l,_.setAttribute("type","button"),_.title=g,_.appendChild(typeof c=="string"?document.createTextNode(c):c),_.addEventListener(Ee.CLICK,this.handleClick_.bind(this,-i),!1);const y=t+" "+su+" "+Sd,w=this.element;w.className=y,w.appendChild(p),w.appendChild(_),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const i=this.getMap().getView();if(!i)return;const o=i.getZoom();if(o!==void 0){const l=i.getConstrainedZoom(o+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:l,duration:this.duration_,easing:Ds})):i.setZoom(l)}}}function Px(r){r=r||{};const e=new Vn;return(r.zoom!==void 0?r.zoom:!0)&&e.push(new Ax(r.zoomOptions)),(r.rotate!==void 0?r.rotate:!0)&&e.push(new kx(r.rotateOptions)),(r.attribution!==void 0?r.attribution:!0)&&e.push(new Lx(r.attributionOptions)),e}const Om={ACTIVE:"active"};class il extends Kn{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(Om.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(Om.ACTIVE,e)}setMap(e){this.map_=e}}function Mx(r,e,t){const i=r.getCenterInternal();if(i){const o=[i[0]+e[0],i[1]+e[1]];r.animateInternal({duration:t!==void 0?t:250,easing:cx,center:r.getConstrainedCenter(o)})}}function Od(r,e,t,i){const o=r.getZoom();if(o===void 0)return;const l=r.getConstrainedZoom(o+e),u=r.getResolutionForZoom(l);r.getAnimating()&&r.cancelAnimations(),r.animate({resolution:u,anchor:t,duration:i!==void 0?i:250,easing:Ds})}class Ox extends il{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let t=!1;if(e.type==He.DBLCLICK){const i=e.originalEvent,o=e.map,l=e.coordinate,u=i.shiftKey?-this.delta_:this.delta_,c=o.getView();Od(c,u,l,this.duration_),i.preventDefault(),t=!0}return!t}}function Vh(r){const e=arguments;return function(t){let i=!0;for(let o=0,l=e.length;o<l&&(i=i&&e[o](t),!!i);++o);return i}}const Dx=function(r){const e=r.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Fx=function(r){const e=r.map.getTargetElement(),t=e.getRootNode(),i=r.map.getOwnerDocument().activeElement;return t instanceof ShadowRoot?t.host.contains(i):e.contains(i)},uy=function(r){const e=r.map.getTargetElement(),t=e.getRootNode();return(t instanceof ShadowRoot?t.host:e).hasAttribute("tabindex")?Fx(r):!0},Nx=zo,cy=function(r){const e=r.originalEvent;return e.button==0&&!(fE&&k_&&e.ctrlKey)},hy=function(r){const e=r.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},zx=function(r){const e=r.originalEvent;return k_?e.metaKey:e.ctrlKey},bx=function(r){const e=r.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},dy=function(r){const e=r.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!e.target.isContentEditable},wh=function(r){const e=r.originalEvent;return Me(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.pointerType=="mouse"},Gx=function(r){const e=r.originalEvent;return Me(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&e.button===0};class rl extends il{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==He.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==He.POINTERUP){const i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==He.POINTERDOWN){const i=this.handleDownEvent(e);this.handlingDownUpSequence=i,t=this.stopDown(i)}else e.type==He.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function Dd(r){const e=r.length;let t=0,i=0;for(let o=0;o<e;o++)t+=r[o].clientX,i+=r[o].clientY;return{clientX:t/e,clientY:i/e}}class Ux extends rl{constructor(e){super({stopDown:Ka}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const t=e.condition?e.condition:Vh(hy,Gx);this.condition_=e.onFocusOnly?Vh(uy,t):t,this.noKinetic_=!1}handleDragEvent(e){const t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());const i=this.targetPointers,o=t.getEventPixel(Dd(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(o[0],o[1]),this.lastCentroid){const l=[this.lastCentroid[0]-o[0],o[1]-this.lastCentroid[1]],c=e.map.getView();hv(l,c.getResolution()),od(l,c.getRotation()),c.adjustCenterInternal(l)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=o,this.lastPointersCount_=i.length,e.originalEvent.preventDefault()}handleUpEvent(e){const t=e.map,i=t.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const o=this.kinetic_.getDistance(),l=this.kinetic_.getAngle(),u=i.getCenterInternal(),c=t.getPixelFromCoordinateInternal(u),d=t.getCoordinateFromPixelInternal([c[0]-o*Math.cos(l),c[1]-o*Math.sin(l)]);i.animateInternal({center:i.getConstrainedCenter(d),duration:500,easing:Ds})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class jx extends rl{constructor(e){e=e||{},super({stopDown:Ka}),this.condition_=e.condition?e.condition:Dx,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!wh(e))return;const t=e.map,i=t.getView();if(i.getConstraints().rotation===Ld)return;const o=t.getSize(),l=e.pixel,u=Math.atan2(o[1]/2-l[1],l[0]-o[0]/2);if(this.lastAngle_!==void 0){const c=u-this.lastAngle_;i.adjustRotationInternal(-c)}this.lastAngle_=u}handleUpEvent(e){return wh(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return wh(e)&&cy(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class Wx extends Ya{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,t=this.endPixel_,i="px",o=this.element_.style;o.left=Math.min(e[0],t[0])+i,o.top=Math.min(e[1],t[1])+i,o.width=Math.abs(t[0]-e[0])+i,o.height=Math.abs(t[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const e=this.startPixel_,t=this.endPixel_,o=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);o[4]=o[0].slice(),this.geometry_?this.geometry_.setCoordinates([o]):this.geometry_=new jo([o])}getGeometry(){return this.geometry_}}const hs={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class Io extends pi{constructor(e,t,i){super(e),this.coordinate=t,this.mapBrowserEvent=i}}class Bx extends rl{constructor(e){super(),this.on,this.once,this.un,e=e??{},this.box_=new Wx(e.className||"ol-dragbox"),this.minArea_=e.minArea??64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition??cy,this.boxEndCondition_=e.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,i){const o=i[0]-t[0],l=i[1]-t[1];return o*o+l*l>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new Io(hs.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;const t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new Io(t?hs.BOXEND:hs.BOXCANCEL,e.coordinate,e)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Io(hs.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Io(hs.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}setMap(e){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Io(hs.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(e)}}class Xx extends Bx{constructor(e){e=e||{};const t=e.condition?e.condition:bx;super({condition:t,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const i=this.getMap().getView();let o=this.getGeometry();if(this.out_){const l=i.rotatedExtentForGeometry(o),u=i.getResolutionForExtentInternal(l),c=i.getResolution()/u;o=o.clone(),o.scale(c*c)}i.fitInternal(o,{duration:this.duration_,easing:Ds})}}const Er={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class Vx extends il{constructor(e){super(),e=e||{},this.defaultCondition_=function(t){return hy(t)&&dy(t)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==Ee.KEYDOWN){const i=e.originalEvent,o=i.key;if(this.condition_(e)&&(o==Er.DOWN||o==Er.LEFT||o==Er.RIGHT||o==Er.UP)){const u=e.map.getView(),c=u.getResolution()*this.pixelDelta_;let d=0,g=0;o==Er.DOWN?g=-c:o==Er.LEFT?d=-c:o==Er.RIGHT?d=c:g=c;const p=[d,g];od(p,u.getRotation()),Mx(u,p,this.duration_),i.preventDefault(),t=!0}}return!t}}class Yx extends il{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(t){return!zx(t)&&dy(t)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let t=!1;if(e.type==Ee.KEYDOWN||e.type==Ee.KEYPRESS){const i=e.originalEvent,o=i.key;if(this.condition_(e)&&(o==="+"||o==="-")){const l=e.map,u=o==="+"?this.delta_:-this.delta_,c=l.getView();Od(c,u,void 0,this.duration_),i.preventDefault(),t=!0}}return!t}}class Kx extends il{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const t=e.condition?e.condition:Nx;this.condition_=e.onFocusOnly?Vh(uy,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(e){if(!this.condition_(e)||e.type!==Ee.WHEEL)return!0;const i=e.map,o=e.originalEvent;o.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.pixel);let l;if(e.type==Ee.WHEEL&&(l=o.deltaY,hE&&o.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(l/=A_),o.deltaMode===WheelEvent.DOM_DELTA_LINE&&(l*=40)),l===0)return!1;this.lastDelta_=l;const u=Date.now();this.startTime_===void 0&&(this.startTime_=u),(!this.mode_||u-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(l)<4?"trackpad":"wheel");const c=i.getView();if(this.mode_==="trackpad"&&!(c.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(c.getAnimating()&&c.cancelAnimations(),c.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),c.adjustZoom(-l/this.deltaPerZoom_,this.lastAnchor_?i.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=u,!1;this.totalDelta_+=l;const d=Math.max(this.timeout_-(u-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),d),!1}handleWheelZoom_(e){const t=e.getView();t.getAnimating()&&t.cancelAnimations();let i=-et(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),Od(t,i,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class Hx extends rl{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=Ka),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let t=0;const i=this.targetPointers[0],o=this.targetPointers[1],l=Math.atan2(o.clientY-i.clientY,o.clientX-i.clientX);if(this.lastAngle_!==void 0){const d=l-this.lastAngle_;this.rotationDelta_+=d,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=d}this.lastAngle_=l;const u=e.map,c=u.getView();c.getConstraints().rotation!==Ld&&(this.anchor_=u.getCoordinateFromPixelInternal(u.getEventPixel(Dd(this.targetPointers))),this.rotating_&&(u.render(),c.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}class Zx extends rl{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=Ka),super(t),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1;const i=this.targetPointers[0],o=this.targetPointers[1],l=i.clientX-o.clientX,u=i.clientY-o.clientY,c=Math.sqrt(l*l+u*u);this.lastDistance_!==void 0&&(t=this.lastDistance_/c),this.lastDistance_=c;const d=e.map,g=d.getView();t!=1&&(this.lastScaleDelta_=t),this.anchor_=d.getCoordinateFromPixelInternal(d.getEventPixel(Dd(this.targetPointers))),d.render(),g.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const i=e.map.getView(),o=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,o),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}function $x(r){r=r||{};const e=new Vn,t=new Sx(-.005,.05,100);return(r.altShiftDragRotate!==void 0?r.altShiftDragRotate:!0)&&e.push(new jx),(r.doubleClickZoom!==void 0?r.doubleClickZoom:!0)&&e.push(new Ox({delta:r.zoomDelta,duration:r.zoomDuration})),(r.dragPan!==void 0?r.dragPan:!0)&&e.push(new Ux({onFocusOnly:r.onFocusOnly,kinetic:t})),(r.pinchRotate!==void 0?r.pinchRotate:!0)&&e.push(new Hx),(r.pinchZoom!==void 0?r.pinchZoom:!0)&&e.push(new Zx({duration:r.zoomDuration})),(r.keyboard!==void 0?r.keyboard:!0)&&(e.push(new Vx),e.push(new Yx({delta:r.zoomDelta,duration:r.zoomDuration}))),(r.mouseWheelZoom!==void 0?r.mouseWheelZoom:!0)&&e.push(new Kx({onFocusOnly:r.onFocusOnly,duration:r.zoomDuration})),(r.shiftDragZoom!==void 0?r.shiftDragZoom:!0)&&e.push(new Xx({duration:r.zoomDuration})),e}class Yi extends pi{constructor(e,t){super(e),this.layer=t}}const xh={LAYERS:"layers"};class Fs extends oy{constructor(e){e=e||{};const t=Object.assign({},e);delete t.layers;let i=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(xh.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new Vn(i.slice(),{unique:!0}):Me(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new Vn(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Xe),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(Pe(e,Ut.ADD,this.handleLayersAdd_,this),Pe(e,Ut.REMOVE,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(Xe);$o(this.listenerKeys_);const t=e.getArray();for(let i=0,o=t.length;i<o;i++){const l=t[i];this.registerLayerListeners_(l),this.dispatchEvent(new Yi("addlayer",l))}this.changed()}registerLayerListeners_(e){const t=[Pe(e,Rs.PROPERTYCHANGE,this.handleLayerChange_,this),Pe(e,Ee.CHANGE,this.handleLayerChange_,this)];e instanceof Fs&&t.push(Pe(e,"addlayer",this.handleLayerGroupAdd_,this),Pe(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[De(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new Yi("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new Yi("removelayer",e.layer))}handleLayersAdd_(e){const t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new Yi("addlayer",t)),this.changed()}handleLayersRemove_(e){const t=e.element,i=De(t);this.listenerKeys_[i].forEach(Xe),delete this.listenerKeys_[i],this.dispatchEvent(new Yi("removelayer",t)),this.changed()}getLayers(){return this.get(xh.LAYERS)}setLayers(e){const t=this.getLayers();if(t){const i=t.getArray();for(let o=0,l=i.length;o<l;++o)this.dispatchEvent(new Yi("removelayer",i[o]))}this.set(xh.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(t){t.getLayersArray(e)}),e}getLayerStatesArray(e){const t=e!==void 0?e:[],i=t.length;this.getLayers().forEach(function(u){u.getLayerStatesArray(t)});const o=this.getLayerState();let l=o.zIndex;!e&&o.zIndex===void 0&&(l=0);for(let u=i,c=t.length;u<c;u++){const d=t[u];d.opacity*=o.opacity,d.visible=d.visible&&o.visible,d.maxResolution=Math.min(d.maxResolution,o.maxResolution),d.minResolution=Math.max(d.minResolution,o.minResolution),d.minZoom=Math.max(d.minZoom,o.minZoom),d.maxZoom=Math.min(d.maxZoom,o.maxZoom),o.extent!==void 0&&(d.extent!==void 0?d.extent=Ir(d.extent,o.extent):d.extent=o.extent),d.zIndex===void 0&&(d.zIndex=l)}return t}getSourceState(){return"ready"}}class qx extends Ya{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){Ae()}calculateMatrices2D(e){const t=e.viewState,i=e.coordinateToPixelTransform,o=e.pixelToCoordinateTransform;gi(i,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),v_(o,i)}forEachFeatureAtCoordinate(e,t,i,o,l,u,c,d){let g;const p=t.viewState;function _(T,M,U,B){return l.call(u,M,T?U:null,B)}const y=p.projection,w=h_(e.slice(),y),E=[[0,0]];if(y.canWrapX()&&o){const T=y.getExtent(),M=be(T);E.push([-M,0],[M,0])}const S=t.layerStatesArray,x=S.length,R=[],I=[];for(let T=0;T<E.length;T++)for(let M=x-1;M>=0;--M){const U=S[M],B=U.layer;if(B.hasRenderer()&&Ad(U,p)&&c.call(d,B)){const G=B.getRenderer(),Y=B.getSource();if(G&&Y){const q=Y.getWrapX()?w:e,le=_.bind(null,U.managed);I[0]=q[0]+E[T][0],I[1]=q[1]+E[T][1],g=G.forEachFeatureAtCoordinate(I,t,i,le,R)}if(g)return g}}if(R.length===0)return;const O=1/R.length;return R.forEach((T,M)=>T.distanceSq+=M*O),R.sort((T,M)=>T.distanceSq-M.distanceSq),R.some(T=>g=T.callback(T.feature,T.layer,T.geometry)),g}hasFeatureAtCoordinate(e,t,i,o,l,u){return this.forEachFeatureAtCoordinate(e,t,i,o,zo,this,l,u)!==void 0}getMap(){return this.map_}renderFrame(e){Ae()}scheduleExpireIconCache(e){_n.canExpireCache()&&e.postRenderFunctions.push(Jx)}}function Jx(r,e){_n.expire()}class Qx extends qx{constructor(e){super(e),this.fontChangeListenerKey_=Pe(ci,Rs.PROPERTYCHANGE,e.redrawText,e),this.element_=document.createElement("div");const t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=su+" ol-layers";const i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,t){const i=this.getMap();if(i.hasListener(e)){const o=new $_(e,void 0,t);i.dispatchEvent(o)}}disposeInternal(){Xe(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(mn.PRECOMPOSE,e);const t=e.layerStatesArray.sort((c,d)=>c.zIndex-d.zIndex);t.some(c=>c.layer instanceof ly&&c.layer.getDeclutter())&&(e.declutter={});const o=e.viewState;this.children_.length=0;const l=[];let u=null;for(let c=0,d=t.length;c<d;++c){const g=t[c];e.layerIndex=c;const p=g.layer,_=p.getSourceState();if(!Ad(g,o)||_!="ready"&&_!="undefined"){p.unrender();continue}const y=p.render(e,u);y&&(y!==u&&(this.children_.push(y),u=y),l.push(g))}this.declutter(e,l),wE(this.element_,this.children_),this.dispatchRenderEvent(mn.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,t){if(e.declutter){for(let i=t.length-1;i>=0;--i){const o=t[i],l=o.layer;l.getDeclutter()&&l.renderDeclutter(e,o)}t.forEach(i=>i.layer.renderDeferred(e))}}}function fy(r){if(r instanceof du){r.setMapInternal(null);return}r instanceof Fs&&r.getLayers().forEach(fy)}function gy(r,e){if(r instanceof du){r.setMapInternal(e);return}if(r instanceof Fs){const t=r.getLayers().getArray();for(let i=0,o=t.length;i<o;++i)gy(t[i],e)}}let eS=class extends Kn{constructor(e){super(),e=e||{},this.on,this.once,this.un;const t=tS(e);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:A_,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Pn(),this.pixelToCoordinateTransform_=Pn(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=t.controls||Px(),this.interactions=t.interactions||$x({onFocusOnly:!0}),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new Tx(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(vt.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(vt.VIEW,this.handleViewChanged_),this.addChangeListener(vt.SIZE,this.handleSizeChanged_),this.addChangeListener(vt.TARGET,this.handleTargetChanged_),this.setProperties(t.values);const i=this;e.view&&!(e.view instanceof Xn)&&e.view.then(function(o){i.setView(new Xn(o))}),this.controls.addEventListener(Ut.ADD,o=>{o.element.setMap(this)}),this.controls.addEventListener(Ut.REMOVE,o=>{o.element.setMap(null)}),this.interactions.addEventListener(Ut.ADD,o=>{o.element.setMap(this)}),this.interactions.addEventListener(Ut.REMOVE,o=>{o.element.setMap(null)}),this.overlays_.addEventListener(Ut.ADD,o=>{this.addOverlayInternal_(o.element)}),this.overlays_.addEventListener(Ut.REMOVE,o=>{const l=o.element.getId();l!==void 0&&delete this.overlayIdIndex_[l.toString()],o.element.setMap(null)}),this.controls.forEach(o=>{o.setMap(this)}),this.interactions.forEach(o=>{o.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){gy(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const t=e.getId();t!==void 0&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,i){if(!this.frameState_||!this.renderer_)return;const o=this.getCoordinateFromPixelInternal(e);i=i!==void 0?i:{};const l=i.hitTolerance!==void 0?i.hitTolerance:0,u=i.layerFilter!==void 0?i.layerFilter:zo,c=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,l,c,t,null,u,null)}getFeaturesAtPixel(e,t){const i=[];return this.forEachFeatureAtPixel(e,function(o){i.push(o)},t),i}getAllLayers(){const e=[];function t(i){i.forEach(function(o){o instanceof Fs?t(o.getLayers()):e.push(o)})}return t(this.getLayers()),e}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(e);t=t!==void 0?t:{};const o=t.layerFilter!==void 0?t.layerFilter:zo,l=t.hitTolerance!==void 0?t.hitTolerance:0,u=t.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,l,u,o,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const i=this.viewport_.getBoundingClientRect(),o=this.getSize(),l=i.width/o[0],u=i.height/o[1],c="changedTouches"in e?e.changedTouches[0]:e;return[(c.clientX-i.left)/l,(c.clientY-i.top)/u]}getTarget(){return this.get(vt.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return Gh(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const t=this.frameState_;return t?ut(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const t=this.overlayIdIndex_[e.toString()];return t!==void 0?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(vt.LAYERGROUP)}setLayers(e){const t=this.getLayerGroup();if(e instanceof Vn){t.setLayers(e);return}const i=t.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){const o=e[t];if(!o.visible)continue;const l=o.layer.getRenderer();if(l&&!l.ready)return!0;const u=o.layer.getSource();if(u&&u.loading)return!0}return!1}getPixelFromCoordinate(e){const t=ui(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){const t=this.frameState_;return t?ut(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(vt.SIZE)}getView(){return this.get(vt.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,i,o){return Ix(this.frameState_,e,t,i,o)}handleBrowserEvent(e,t){t=t||e.type;const i=new Xi(t,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;const t=e.originalEvent,i=t.type;if(i===Xh.POINTERDOWN||i===Ee.WHEEL||i===Ee.KEYDOWN){const o=this.getOwnerDocument(),l=this.viewport_.getRootNode?this.viewport_.getRootNode():o,u=t.target,c=l instanceof ShadowRoot?l.host===u?l.host.ownerDocument:l:l===o?o.documentElement:l;if(this.overlayContainerStopEvent_.contains(u)||!c.contains(u))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const o=this.getInteractions().getArray().slice();for(let l=o.length-1;l>=0;l--){const u=o[l];if(u.getMap()!==this||!u.getActive()||!this.getTargetElement())continue;if(!u.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let o=this.maxTilesLoading_,l=o;if(e){const u=e.viewHints;if(u[Et.ANIMATING]||u[Et.INTERACTING]){const c=Date.now()-e.time>8;o=c?0:8,l=c?0:2}}t.getTilesLoading()<o&&(t.reprioritize(),t.loadMoreTiles(o,l))}e&&this.renderer_&&!e.animate&&(this.renderComplete_?(this.hasListener(mn.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(mn.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new _s(Vi.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new _s(Vi.LOADSTART,this,e))));const i=this.postRenderFunctions_;if(e)for(let o=0,l=i.length;o<l;++o)i[o](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,o=this.targetChangeHandlerKeys_.length;i<o;++i)Xe(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Ee.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Ee.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host),this.setSize(void 0)}const e=this.getTarget(),t=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=t,!t)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new Qx(this)),this.mapBrowserEventHandler_=new Cx(this,this.moveTolerance_);for(const l in He)this.mapBrowserEventHandler_.addEventListener(He[l],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Ee.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Ee.WHEEL,this.boundHandleBrowserEvent_,O_?{passive:!1}:!1);let i;if(this.keyboardEventTarget_)i=this.keyboardEventTarget_;else{const l=t.getRootNode();i=l instanceof ShadowRoot?l.host:t}this.targetChangeHandlerKeys_=[Pe(i,Ee.KEYDOWN,this.handleBrowserEvent,this),Pe(i,Ee.KEYPRESS,this.handleBrowserEvent,this)];const o=t.getRootNode();o instanceof ShadowRoot&&this.resizeObserver_.observe(o.host),this.resizeObserver_.observe(t)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Xe(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Xe(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=Pe(e,Rs.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Pe(e,Ee.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Xe),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new Yi("addlayer",e)),this.layerGroupPropertyListenerKeys_=[Pe(e,Rs.PROPERTYCHANGE,this.render,this),Pe(e,Ee.CHANGE,this.render,this),Pe(e,"addlayer",this.handleLayerAdd_,this),Pe(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){const o=e[t].layer;o.hasRenderer()&&o.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){fy(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const t=this.getSize(),i=this.getView(),o=this.frameState_;let l=null;if(t!==void 0&&gm(t)&&i&&i.isDef()){const u=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),c=i.getState();if(l={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:Dh(c.center,c.resolution,c.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:c,viewHints:u,wantedTiles:{},mapId:De(this),renderTargets:{}},c.nextCenter&&c.nextResolution){const d=isNaN(c.nextRotation)?c.rotation:c.nextRotation;l.nextExtent=Dh(c.nextCenter,c.nextResolution,d,t)}}this.frameState_=l,this.renderer_.renderFrame(l),l&&(l.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,l.postRenderFunctions),o&&(!this.previousExtent_||!Qa(this.previousExtent_)&&!bo(l.extent,this.previousExtent_))&&(this.dispatchEvent(new _s(Vi.MOVESTART,this,o)),this.previousExtent_=Za(this.previousExtent_)),this.previousExtent_&&!l.viewHints[Et.ANIMATING]&&!l.viewHints[Et.INTERACTING]&&!bo(l.extent,this.previousExtent_)&&(this.dispatchEvent(new _s(Vi.MOVEEND,this,l)),t_(l.extent,this.previousExtent_))),this.dispatchEvent(new _s(Vi.POSTRENDER,this,l)),this.renderComplete_=(this.hasListener(Vi.LOADSTART)||this.hasListener(Vi.LOADEND)||this.hasListener(mn.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const t=this.getLayerGroup();t&&this.handleLayerRemove_(new Yi("removelayer",t)),this.set(vt.LAYERGROUP,e)}setSize(e){this.set(vt.SIZE,e)}setTarget(e){this.set(vt.TARGET,e)}setView(e){if(!e||e instanceof Xn){this.set(vt.VIEW,e);return}this.set(vt.VIEW,new Xn);const t=this;e.then(function(i){t.setView(new Xn(i))})}updateSize(){const e=this.getTargetElement();let t;if(e){const o=getComputedStyle(e),l=e.offsetWidth-parseFloat(o.borderLeftWidth)-parseFloat(o.paddingLeft)-parseFloat(o.paddingRight)-parseFloat(o.borderRightWidth),u=e.offsetHeight-parseFloat(o.borderTopWidth)-parseFloat(o.paddingTop)-parseFloat(o.paddingBottom)-parseFloat(o.borderBottomWidth);!isNaN(l)&&!isNaN(u)&&(t=[Math.max(0,l),Math.max(0,u)],!gm(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&c_("No map visible because the map container's width or height are 0."))}const i=this.getSize();t&&(!i||!tr(t,i))&&(this.setSize(t),this.updateViewportSize_(t))}updateViewportSize_(e){const t=this.getView();t&&t.setViewportSize(e)}};function tS(r){let e=null;r.keyboardEventTarget!==void 0&&(e=typeof r.keyboardEventTarget=="string"?document.getElementById(r.keyboardEventTarget):r.keyboardEventTarget);const t={},i=r.layers&&typeof r.layers.getLayers=="function"?r.layers:new Fs({layers:r.layers});t[vt.LAYERGROUP]=i,t[vt.TARGET]=r.target,t[vt.VIEW]=r.view instanceof Xn?r.view:new Xn;let o;r.controls!==void 0&&(Array.isArray(r.controls)?o=new Vn(r.controls.slice()):(Me(typeof r.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),o=r.controls));let l;r.interactions!==void 0&&(Array.isArray(r.interactions)?l=new Vn(r.interactions.slice()):(Me(typeof r.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),l=r.interactions));let u;return r.overlays!==void 0?Array.isArray(r.overlays)?u=new Vn(r.overlays.slice()):(Me(typeof r.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),u=r.overlays):u=new Vn,{controls:o,interactions:l,keyboardEventTarget:e,overlays:u,values:t}}class Fd{constructor(e,t,i,o){this.minX=e,this.maxX=t,this.minY=i,this.maxY=o}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function ds(r,e,t,i,o){return o!==void 0?(o.minX=r,o.maxX=e,o.minY=t,o.maxY=i,o):new Fd(r,e,t,i)}function Yh(r){return r instanceof Image||r instanceof HTMLCanvasElement||r instanceof HTMLVideoElement||r instanceof ImageBitmap?r:null}const nS=new Error("disposed"),iS=[256,256];class Dm extends Pd{constructor(e){const t=he.IDLE;super(e.tileCoord,t,{transition:e.transition,interpolate:e.interpolate}),this.loader_=e.loader,this.data_=null,this.error_=null,this.size_=e.size||null,this.controller_=e.controller||null}getSize(){if(this.size_)return this.size_;const e=Yh(this.data_);return e?[e.width,e.height]:iS}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==he.IDLE&&this.state!==he.ERROR)return;this.state=he.LOADING,this.changed();const e=this;this.loader_().then(function(t){e.data_=t,e.state=he.LOADED,e.changed()}).catch(function(t){e.error_=t,e.state=he.ERROR,e.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(nS),this.controller_=null),super.disposeInternal()}}let Sh;const Cs=[];function Fm(r,e,t,i,o){r.beginPath(),r.moveTo(0,0),r.lineTo(e,t),r.lineTo(i,o),r.closePath(),r.save(),r.clip(),r.fillRect(0,0,Math.max(e,i)+1,Math.max(t,o)),r.restore()}function Ch(r,e){return Math.abs(r[e*4]-210)>2||Math.abs(r[e*4+3]-.75*255)>2}function rS(){if(Sh===void 0){const r=ct(6,6,Cs);r.globalCompositeOperation="lighter",r.fillStyle="rgba(210, 0, 0, 0.75)",Fm(r,4,5,4,0),Fm(r,4,5,0,5);const e=r.getImageData(0,0,3,3).data;Sh=Ch(e,0)||Ch(e,4)||Ch(e,8),ru(r),Cs.push(r.canvas)}return Sh}function Nm(r,e,t,i){const o=nu(t,e,r);let l=Wp(e,i,t);const u=e.getMetersPerUnit();u!==void 0&&(l*=u);const c=r.getMetersPerUnit();c!==void 0&&(l/=c);const d=r.getExtent();if(!d||Ls(d,o)){const g=Wp(r,l,o)/l;isFinite(g)&&g>0&&(l/=g)}return l}function sS(r,e,t,i){const o=Ar(t);let l=Nm(r,e,o,i);return(!isFinite(l)||l<=0)&&o_(t,function(u){return l=Nm(r,e,u,i),isFinite(l)&&l>0}),l}function oS(r,e,t,i,o,l,u,c,d,g,p,_,y,w){const E=ct(Math.round(t*r),Math.round(t*e),Cs);if(_||(E.imageSmoothingEnabled=!1),d.length===0)return E.canvas;E.scale(t,t);function S(M){return Math.round(M*t)/t}E.globalCompositeOperation="lighter";const x=vn();d.forEach(function(M,U,B){nv(x,M.extent)});let R;const I=t/i,O=(_?1:1+Math.pow(2,-24))/I;R=ct(Math.round(be(x)*I),Math.round(Pt(x)*I),Cs),_||(R.imageSmoothingEnabled=!1),d.forEach(function(M,U,B){if(M.image.width>0&&M.image.height>0){if(M.clipExtent){R.save();const re=(M.clipExtent[0]-x[0])*I,se=-(M.clipExtent[3]-x[3])*I,$=be(M.clipExtent)*I,ye=Pt(M.clipExtent)*I;R.rect(_?re:Math.round(re),_?se:Math.round(se),_?$:Math.round(re+$)-Math.round(re),_?ye:Math.round(se+ye)-Math.round(se)),R.clip()}const G=(M.extent[0]-x[0])*I,Y=-(M.extent[3]-x[3])*I,q=be(M.extent)*I,le=Pt(M.extent)*I;R.drawImage(M.image,g,g,M.image.width-2*g,M.image.height-2*g,_?G:Math.round(G),_?Y:Math.round(Y),_?q:Math.round(G+q)-Math.round(G),_?le:Math.round(Y+le)-Math.round(Y)),M.clipExtent&&R.restore()}});const T=Or(u);return c.getTriangles().forEach(function(M,U,B){const G=M.source,Y=M.target;let q=G[0][0],le=G[0][1],re=G[1][0],se=G[1][1],$=G[2][0],ye=G[2][1];const J=S((Y[0][0]-T[0])/l),ee=S(-(Y[0][1]-T[1])/l),j=S((Y[1][0]-T[0])/l),H=S(-(Y[1][1]-T[1])/l),W=S((Y[2][0]-T[0])/l),k=S(-(Y[2][1]-T[1])/l),P=q,ue=le;q=0,le=0,re-=P,se-=ue,$-=P,ye-=ue;const de=[[re,se,0,0,j-J],[$,ye,0,0,W-J],[0,0,re,se,H-ee],[0,0,$,ye,k-ee]],ae=av(de);if(!ae)return;if(E.save(),E.beginPath(),rS()||!_){E.moveTo(j,H);const xe=4,ve=J-j,Le=ee-H;for(let Fe=0;Fe<xe;Fe++)E.lineTo(j+S((Fe+1)*ve/xe),H+S(Fe*Le/(xe-1))),Fe!=xe-1&&E.lineTo(j+S((Fe+1)*ve/xe),H+S((Fe+1)*Le/(xe-1)));E.lineTo(W,k)}else E.moveTo(j,H),E.lineTo(J,ee),E.lineTo(W,k);E.clip(),E.transform(ae[0],ae[2],ae[1],ae[3],J,ee),E.translate(x[0]-P,x[3]-ue);let pe;if(R)pe=R.canvas,E.scale(O,-O);else{const xe=d[0],ve=xe.extent;pe=xe.image,E.scale(be(ve)/pe.width,-Pt(ve)/pe.height)}E.drawImage(pe,0,0),E.restore()}),R&&(ru(R),Cs.push(R.canvas)),p&&(E.save(),E.globalCompositeOperation="source-over",E.strokeStyle="black",E.lineWidth=1,c.getTriangles().forEach(function(M,U,B){const G=M.target,Y=(G[0][0]-T[0])/l,q=-(G[0][1]-T[1])/l,le=(G[1][0]-T[0])/l,re=-(G[1][1]-T[1])/l,se=(G[2][0]-T[0])/l,$=-(G[2][1]-T[1])/l;E.beginPath(),E.moveTo(le,re),E.lineTo(Y,q),E.lineTo(se,$),E.closePath(),E.stroke()}),E.restore()),E.canvas}const lS=10,zm=.25;class aS{constructor(e,t,i,o,l,u,c){this.sourceProj_=e,this.targetProj_=t;let d={};const g=c?Gv(O=>ut(c,nu(O,this.targetProj_,this.sourceProj_))):Da(this.targetProj_,this.sourceProj_);this.transformInv_=function(O){const T=O[0]+"/"+O[1];return d[T]||(d[T]=g(O)),d[T]},this.maxSourceExtent_=o,this.errorThresholdSquared_=l*l,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!o&&!!this.sourceProj_.getExtent()&&be(o)>=be(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?be(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?be(this.targetProj_.getExtent()):null;const p=Or(i),_=Ja(i),y=qa(i),w=$a(i),E=this.transformInv_(p),S=this.transformInv_(_),x=this.transformInv_(y),R=this.transformInv_(w),I=lS+(u?Math.max(0,Math.ceil(Math.log2(Oh(i)/(u*u*256*256)))):0);if(this.addQuad_(p,_,y,w,E,S,x,R,I),this.wrapsXInSource_){let O=1/0;this.triangles_.forEach(function(T,M,U){O=Math.min(O,T.source[0][0],T.source[1][0],T.source[2][0])}),this.triangles_.forEach(T=>{if(Math.max(T.source[0][0],T.source[1][0],T.source[2][0])-O>this.sourceWorldWidth_/2){const M=[[T.source[0][0],T.source[0][1]],[T.source[1][0],T.source[1][1]],[T.source[2][0],T.source[2][1]]];M[0][0]-O>this.sourceWorldWidth_/2&&(M[0][0]-=this.sourceWorldWidth_),M[1][0]-O>this.sourceWorldWidth_/2&&(M[1][0]-=this.sourceWorldWidth_),M[2][0]-O>this.sourceWorldWidth_/2&&(M[2][0]-=this.sourceWorldWidth_);const U=Math.min(M[0][0],M[1][0],M[2][0]);Math.max(M[0][0],M[1][0],M[2][0])-U<this.sourceWorldWidth_/2&&(T.source=M)}})}d={}}addTriangle_(e,t,i,o,l,u){this.triangles_.push({source:[o,l,u],target:[e,t,i]})}addQuad_(e,t,i,o,l,u,c,d,g){const p=Mp([l,u,c,d]),_=this.sourceWorldWidth_?be(p)/this.sourceWorldWidth_:null,y=this.sourceWorldWidth_,w=this.sourceProj_.canWrapX()&&_>.5&&_<1;let E=!1;if(g>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const x=Mp([e,t,i,o]);E=be(x)/this.targetWorldWidth_>zm||E}!w&&this.sourceProj_.isGlobal()&&_&&(E=_>zm||E)}if(!E&&this.maxSourceExtent_&&isFinite(p[0])&&isFinite(p[1])&&isFinite(p[2])&&isFinite(p[3])&&!Bt(p,this.maxSourceExtent_))return;let S=0;if(!E&&(!isFinite(l[0])||!isFinite(l[1])||!isFinite(u[0])||!isFinite(u[1])||!isFinite(c[0])||!isFinite(c[1])||!isFinite(d[0])||!isFinite(d[1]))){if(g>0)E=!0;else if(S=(!isFinite(l[0])||!isFinite(l[1])?8:0)+(!isFinite(u[0])||!isFinite(u[1])?4:0)+(!isFinite(c[0])||!isFinite(c[1])?2:0)+(!isFinite(d[0])||!isFinite(d[1])?1:0),S!=1&&S!=2&&S!=4&&S!=8)return}if(g>0){if(!E){const x=[(e[0]+i[0])/2,(e[1]+i[1])/2],R=this.transformInv_(x);let I;w?I=(Lr(l[0],y)+Lr(c[0],y))/2-Lr(R[0],y):I=(l[0]+c[0])/2-R[0];const O=(l[1]+c[1])/2-R[1];E=I*I+O*O>this.errorThresholdSquared_}if(E){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){const x=[(t[0]+i[0])/2,(t[1]+i[1])/2],R=this.transformInv_(x),I=[(o[0]+e[0])/2,(o[1]+e[1])/2],O=this.transformInv_(I);this.addQuad_(e,t,x,I,l,u,R,O,g-1),this.addQuad_(I,x,i,o,O,R,c,d,g-1)}else{const x=[(e[0]+t[0])/2,(e[1]+t[1])/2],R=this.transformInv_(x),I=[(i[0]+o[0])/2,(i[1]+o[1])/2],O=this.transformInv_(I);this.addQuad_(e,x,I,o,l,R,O,d,g-1),this.addQuad_(x,t,i,I,R,u,c,O,g-1)}return}}if(w){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}S&11||this.addTriangle_(e,i,o,l,c,d),S&14||this.addTriangle_(e,i,t,l,c,u),S&&(S&13||this.addTriangle_(t,o,e,u,d,l),S&7||this.addTriangle_(t,o,i,u,d,c))}calculateSourceExtent(){const e=vn();return this.triangles_.forEach(function(t,i,o){const l=t.source;No(e,l[0]),No(e,l[1]),No(e,l[2])}),e}getTriangles(){return this.triangles_}}const uS=.5;class py extends Pd{constructor(e,t,i,o,l,u,c,d,g,p,_,y){super(l,he.IDLE,y),this.renderEdges_=_!==void 0?_:!1,this.pixelRatio_=c,this.gutter_=d,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=o,this.wrappedTileCoord_=u||l,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;const w=o.getTileCoordExtent(this.wrappedTileCoord_),E=this.targetTileGrid_.getExtent();let S=this.sourceTileGrid_.getExtent();const x=E?Ir(w,E):w;if(Oh(x)===0){this.state=he.EMPTY;return}const R=e.getExtent();R&&(S?S=Ir(S,R):S=R);const I=o.getResolution(this.wrappedTileCoord_[0]),O=sS(e,i,x,I);if(!isFinite(O)||O<=0){this.state=he.EMPTY;return}const T=p!==void 0?p:uS;if(this.triangulation_=new aS(e,i,x,S,O*T,I),this.triangulation_.getTriangles().length===0){this.state=he.EMPTY;return}this.sourceZ_=t.getZForResolution(O);let M=this.triangulation_.calculateSourceExtent();if(S&&(e.canWrapX()?(M[1]=et(M[1],S[1],S[3]),M[3]=et(M[3],S[1],S[3])):M=Ir(M,S)),!Oh(M))this.state=he.EMPTY;else{let U=0,B=0;e.canWrapX()&&(U=be(R),B=Math.floor((M[0]-R[0])/U)),u_(M.slice(),e,!0).forEach(Y=>{const q=t.getTileRangeForExtentAndZ(Y,this.sourceZ_);for(let le=q.minX;le<=q.maxX;le++)for(let re=q.minY;re<=q.maxY;re++){const se=g(this.sourceZ_,le,re,c);if(se){const $=B*U;this.sourceTiles_.push({tile:se,offset:$})}}++B}),this.sourceTiles_.length===0&&(this.state=he.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(t=>{var o;const i=t.tile;if(i&&i.getState()==he.LOADED){const l=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);l[0]+=t.offset,l[2]+=t.offset;const u=(o=this.clipExtent_)==null?void 0:o.slice();u&&(u[0]+=t.offset,u[2]+=t.offset),e.push({extent:l,clipExtent:u,image:i.getImage()})}}),this.sourceTiles_.length=0,e.length===0)this.state=he.ERROR;else{const t=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(t),o=typeof i=="number"?i:i[0],l=typeof i=="number"?i:i[1],u=this.targetTileGrid_.getResolution(t),c=this.sourceTileGrid_.getResolution(this.sourceZ_),d=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=oS(o,l,this.pixelRatio_,c,this.sourceTileGrid_.getExtent(),u,d,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=he.LOADED}this.changed()}load(){if(this.state==he.IDLE){this.state=he.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:t})=>{const i=t.getState();if(i==he.IDLE||i==he.LOADING){e++;const o=Pe(t,Ee.CHANGE,l=>{const u=t.getState();(u==he.LOADED||u==he.ERROR||u==he.EMPTY)&&(Xe(o),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(o)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:t},i,o){t.getState()==he.IDLE&&t.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Xe),this.sourcesListenerKeys_=null}release(){this.canvas_&&(ru(this.canvas_.getContext("2d")),Cs.push(this.canvas_),this.canvas_=null),super.release()}}class cS{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){const e=this.pop();e instanceof Ya&&e.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let t=this.oldest_;for(;t;)e(t.value_,t.key_,this),t=t.newer}get(e,t){const i=this.entries_[e];return Me(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){const t=this.entries_[e];return Me(t!==void 0,"Tried to get a value for a key that does not exist in the cache"),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.key_;return e}getValues(){const e=new Array(this.count_);let t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){var t;return(t=this.entries_[e])==null?void 0:t.value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,t){this.get(e),this.entries_[e].value_=t}set(e,t){Me(!(e in this.entries_),"Tried to set a value for a key that is used already");const i={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}}function Ba(r,e,t,i){return i!==void 0?(i[0]=r,i[1]=e,i[2]=t,i):[r,e,t]}function hS(r,e,t){return r+"/"+e+"/"+t}function dS(r){return fS(r[0],r[1],r[2])}function fS(r,e,t){return(e<<r)+t}function gS(r,e){const t=r[0],i=r[1],o=r[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;const l=e.getFullTileRange(t);return l?l.containsXY(i,o):!0}function Rh(r,e,t,i){return`${r},${hS(e,t,i)}`}function Th(r,e,t){if(!(t in r))return r[t]=new Set([e]),!0;const i=r[t],o=i.has(e);return o||i.add(e),!o}function pS(r,e,t){const i=r[t];return i?i.delete(e):!1}function bm(r,e){const t=r.layerStatesArray[r.layerIndex];t.extent&&(e=Ir(e,Ki(t.extent,r.viewState.projection)));const i=t.layer.getRenderSource();if(!i.getWrapX()){const o=i.getTileGridForProjection(r.viewState.projection).getExtent();o&&(e=Ir(e,o))}return e}class mS extends q_{constructor(e,t){super(e),t=t||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision_,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=vn(),this.tempTileRange_=new Fd(0,0,0,0),this.tempTileCoord_=Ba(0,0,0);const i=t.cacheSize!==void 0?t.cacheSize:512;this.tileCache_=new cS(i),this.maxStaleKeys=i*.5}getTileCache(){return this.tileCache_}getOrCreateTile(e,t,i,o){const l=this.tileCache_,c=this.getLayer().getSource(),d=Rh(c.getKey(),e,t,i);let g;if(l.containsKey(d))g=l.get(d);else{if(g=c.getTile(e,t,i,o.pixelRatio,o.viewState.projection),!g)return null;l.set(d,g)}return g}getTile(e,t,i,o){const l=this.getOrCreateTile(e,t,i,o);return l||null}getData(e){const t=this.frameState;if(!t)return null;const i=this.getLayer(),o=ut(t.pixelToCoordinateTransform,e.slice()),l=i.getExtent();if(l&&!Ls(l,o))return null;const u=t.viewState,c=i.getRenderSource(),d=c.getTileGridForProjection(u.projection),g=c.getTilePixelRatio(t.pixelRatio);for(let p=d.getZForResolution(u.resolution);p>=d.getMinZoom();--p){const _=d.getTileCoordForCoordAndZ(o,p),y=this.getTile(p,_[1],_[2],t);if(!y||y.getState()!==he.LOADED)continue;const w=d.getOrigin(p),E=Vt(d.getTileSize(p)),S=d.getResolution(p);let x;if(y instanceof ay||y instanceof py)x=y.getImage();else if(y instanceof Dm){if(x=Yh(y.getData()),!x)continue}else continue;const R=Math.floor(g*((o[0]-w[0])/S-_[1]*E[0])),I=Math.floor(g*((w[1]-o[1])/S-_[2]*E[1])),O=Math.round(g*c.getGutterForProjection(u.projection));return this.getImageData(x,R+O,I+O)}return null}prepareFrame(e){this.renderedProjection?e.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=e.viewState.projection):this.renderedProjection=e.viewState.projection;const t=this.getLayer().getSource();if(!t)return!1;const i=t.getRevision();return this.renderedRevision_?this.renderedRevision_!==i&&(this.renderedRevision_=i,this.renderedSourceKey_===t.getKey()&&this.tileCache_.clear()):this.renderedRevision_=i,!0}enqueueTiles(e,t,i,o,l){const u=e.viewState,c=this.getLayer(),d=c.getRenderSource(),g=d.getTileGridForProjection(u.projection),p=De(d);p in e.wantedTiles||(e.wantedTiles[p]={});const _=e.wantedTiles[p],y=c.getMapInternal(),w=Math.max(i-l,g.getMinZoom(),g.getZForResolution(Math.min(c.getMaxResolution(),y?y.getView().getResolutionForZoom(Math.max(c.getMinZoom(),0)):g.getResolution(0)),d.zDirection)),E=u.rotation,S=E?l_(u.center,u.resolution,E,e.size):void 0;for(let x=i;x>=w;--x){const R=g.getTileRangeForExtentAndZ(t,x,this.tempTileRange_),I=g.getResolution(x);for(let O=R.minX;O<=R.maxX;++O)for(let T=R.minY;T<=R.maxY;++T){if(E&&!g.tileCoordIntersectsViewport([x,O,T],S))continue;const M=this.getTile(x,O,T,e);if(!M||!Th(o,M,x))continue;const B=M.getKey();if(_[B]=!0,M.getState()===he.IDLE&&!e.tileQueue.isKeyQueued(B)){const G=Ba(x,O,T,this.tempTileCoord_);e.tileQueue.enqueue([M,p,g.getTileCoordCenter(G),I])}}}}findStaleTile_(e,t){const i=this.tileCache_,o=e[0],l=e[1],u=e[2],c=this.getStaleKeys();for(let d=0;d<c.length;++d){const g=Rh(c[d],o,l,u);if(i.containsKey(g)){const p=i.peek(g);if(p.getState()===he.LOADED)return p.endTransition(De(this)),Th(t,p,o),!0}}return!1}findAltTiles_(e,t,i,o){const l=e.getTileRangeForTileCoordAndZ(t,i,this.tempTileRange_);if(!l)return!1;let u=!0;const c=this.tileCache_,g=this.getLayer().getRenderSource().getKey();for(let p=l.minX;p<=l.maxX;++p)for(let _=l.minY;_<=l.maxY;++_){const y=Rh(g,i,p,_);let w=!1;if(c.containsKey(y)){const E=c.peek(y);E.getState()===he.LOADED&&(Th(o,E,i),w=!0)}w||(u=!1)}return u}renderFrame(e,t){let i=!0;this.renderComplete=!0;const o=e.layerStatesArray[e.layerIndex],l=e.viewState,u=l.projection,c=l.resolution,d=l.center,g=e.pixelRatio,p=this.getLayer(),_=p.getSource(),y=_.getTileGridForProjection(u),w=y.getZForResolution(c,_.zDirection),E=y.getResolution(w),S=_.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==S&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=S):this.renderedSourceKey_=S;let x=e.extent;const R=_.getTilePixelRatio(g);this.prepareContainer(e,t);const I=this.context.canvas.width,O=this.context.canvas.height,T=o.extent&&Ki(o.extent);T&&(x=Ir(x,Ki(o.extent)));const M=E*I/2/R,U=E*O/2/R,B=[d[0]-M,d[1]-U,d[0]+M,d[1]+U],G={};this.renderedTiles.length=0;const Y=p.getPreload();if(e.nextExtent){const H=y.getZForResolution(l.nextResolution,_.zDirection),W=bm(e,e.nextExtent);this.enqueueTiles(e,W,H,G,Y)}const q=bm(e,x);if(this.enqueueTiles(e,q,w,G,0),Y>0&&setTimeout(()=>{this.enqueueTiles(e,q,w-1,G,Y-1)},0),!(w in G))return this.container;const le=De(this),re=e.time;for(const H of G[w]){const W=H.getState();if(W===he.EMPTY)continue;const k=H.tileCoord;if(W===he.LOADED&&H.getAlpha(le,re)===1){H.endTransition(le);continue}if(W!==he.IDLE&&(i=!1),W!==he.ERROR&&(this.renderComplete=!1),this.findStaleTile_(k,G)){pS(G,H,w),e.animate=!0;continue}if(this.findAltTiles_(y,k,w+1,G))continue;const de=y.getMinZoom();for(let ae=w-1;ae>=de&&!this.findAltTiles_(y,k,ae,G);--ae);}const se=E/c*g/R,$=this.getRenderContext(e);gi(this.tempTransform,I/2,O/2,se,se,0,-I/2,-O/2),o.extent&&this.clipUnrotated($,e,T),_.getInterpolate()||($.imageSmoothingEnabled=!1),this.preRender($,e);const ye=Object.keys(G).map(Number);ye.sort(Zi);let J;const ee=[],j=[];for(let H=ye.length-1;H>=0;--H){const W=ye[H],k=_.getTilePixelSize(W,g,u),ue=y.getResolution(W)/E,de=k[0]*ue*se,ae=k[1]*ue*se,pe=y.getTileCoordForCoordAndZ(Or(B),W),xe=y.getTileCoordExtent(pe),ve=ut(this.tempTransform,[R*(xe[0]-B[0])/E,R*(B[3]-xe[3])/E]),Le=R*_.getGutterForProjection(u);for(const Fe of G[W]){if(Fe.getState()!==he.LOADED)continue;const Hn=Fe.tileCoord,nr=pe[1]-Hn[1],Zn=Math.round(ve[0]-(nr-1)*de),nn=pe[2]-Hn[2],_i=Math.round(ve[1]-(nn-1)*ae),Ht=Math.round(ve[0]-nr*de),Mt=Math.round(ve[1]-nn*ae),$n=Zn-Ht,En=_i-Mt,rn=ye.length===1;let sn=!1;J=[Ht,Mt,Ht+$n,Mt,Ht+$n,Mt+En,Ht,Mt+En];for(let Zt=0,Dn=ee.length;Zt<Dn;++Zt)if(!rn&&W<j[Zt]){const tt=ee[Zt];Bt([Ht,Mt,Ht+$n,Mt+En],[tt[0],tt[3],tt[4],tt[7]])&&(sn||($.save(),sn=!0),$.beginPath(),$.moveTo(J[0],J[1]),$.lineTo(J[2],J[3]),$.lineTo(J[4],J[5]),$.lineTo(J[6],J[7]),$.moveTo(tt[6],tt[7]),$.lineTo(tt[4],tt[5]),$.lineTo(tt[2],tt[3]),$.lineTo(tt[0],tt[1]),$.clip())}ee.push(J),j.push(W),this.drawTile(Fe,e,Ht,Mt,$n,En,Le,rn),sn&&$.restore(),this.renderedTiles.unshift(Fe),this.updateUsedTiles(e.usedTiles,_,Fe)}}if(this.renderedResolution=E,this.extentChanged=!this.renderedExtent_||!bo(this.renderedExtent_,B),this.renderedExtent_=B,this.renderedPixelRatio=g,this.postRender(this.context,e),o.extent&&$.restore(),$.imageSmoothingEnabled=!0,this.renderComplete){const H=(W,k)=>{const P=De(_),ue=k.wantedTiles[P],de=ue?Object.keys(ue).length:0;this.updateCacheSize(de),this.tileCache_.expireCache()};e.postRenderFunctions.push(H)}return!this.renderComplete&&!i&&(e.animate=!0),this.container}updateCacheSize(e){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,e*2)}drawTile(e,t,i,o,l,u,c,d){let g;if(e instanceof Dm){if(g=Yh(e.getData()),!g)throw new Error("Rendering array data is not yet supported")}else g=this.getTileImage(e);if(!g)return;const p=this.getRenderContext(t),_=De(this),y=t.layerStatesArray[t.layerIndex],w=y.opacity*(d?e.getAlpha(_,t.time):1),E=w!==p.globalAlpha;E&&(p.save(),p.globalAlpha=w),p.drawImage(g,c,c,g.width-2*c,g.height-2*c,i,o,l,u),E&&p.restore(),w!==y.opacity?t.animate=!0:d&&e.endTransition(_)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}updateUsedTiles(e,t,i){const o=De(t);o in e||(e[o]={}),e[o][i.getKey()]=!0}}const Ta={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class _S extends du{constructor(e){e=e||{};const t=Object.assign({},e),i=e.cacheSize;delete e.cacheSize,delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.cacheSize_=i,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(Ta.PRELOAD)}setPreload(e){this.set(Ta.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(Ta.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(Ta.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}class yS extends _S{constructor(e){super(e)}createRenderer(){return new mS(this,{cacheSize:this.getCacheSize()})}}const fs=[0,0,0],Bi=5;class my{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,Me(q1(this.resolutions_,(o,l)=>l-o),"`resolutions` must be sorted in descending order");let t;if(!e.origins){for(let o=0,l=this.resolutions_.length-1;o<l;++o)if(!t)t=this.resolutions_[o]/this.resolutions_[o+1];else if(this.resolutions_[o]/this.resolutions_[o+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,Me(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Or(i)),Me(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,Me(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:kd,Me(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((o,l)=>{const u=new Fd(Math.min(0,o[0]),Math.max(o[0]-1,-1),Math.min(0,o[1]),Math.max(o[1]-1,-1));if(i){const c=this.getTileRangeForExtentAndZ(i,l);u.minX=Math.max(c.minX,u.minX),u.maxX=Math.min(c.maxX,u.maxX),u.minY=Math.max(c.minY,u.minY),u.maxY=Math.min(c.maxY,u.maxY)}return u}):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,t,i){const o=this.getTileRangeForExtentAndZ(e,t);for(let l=o.minX,u=o.maxX;l<=u;++l)for(let c=o.minY,d=o.maxY;c<=d;++c)i([t,l,c])}forEachTileCoordParentTileRange(e,t,i,o){let l,u,c,d=null,g=e[0]-1;for(this.zoomFactor_===2?(u=e[1],c=e[2]):d=this.getTileCoordExtent(e,o);g>=this.minZoom;){if(u!==void 0&&c!==void 0?(u=Math.floor(u/2),c=Math.floor(c/2),l=ds(u,u,c,c,i)):l=this.getTileRangeForExtentAndZ(d,g,i),t(g,l))return!0;--g}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,i){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const l=e[1]*2,u=e[2]*2;return ds(l,l+1,u,u+1,t)}const o=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(o,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,i){if(t>this.maxZoom||t<this.minZoom)return null;const o=e[0],l=e[1],u=e[2];if(t===o)return ds(l,u,l,u,i);if(this.zoomFactor_){const d=Math.pow(this.zoomFactor_,t-o),g=Math.floor(l*d),p=Math.floor(u*d);if(t<o)return ds(g,g,p,p,i);const _=Math.floor(d*(l+1))-1,y=Math.floor(d*(u+1))-1;return ds(g,_,p,y,i)}const c=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(c,t,i)}getTileRangeForExtentAndZ(e,t,i){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,fs);const o=fs[1],l=fs[2];this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,fs);const u=fs[1],c=fs[2];return ds(o,u,l,c,i)}getTileCoordCenter(e){const t=this.getOrigin(e[0]),i=this.getResolution(e[0]),o=Vt(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*o[0]*i,t[1]-(e[2]+.5)*o[1]*i]}getTileCoordExtent(e,t){const i=this.getOrigin(e[0]),o=this.getResolution(e[0]),l=Vt(this.getTileSize(e[0]),this.tmpSize_),u=i[0]+e[1]*l[0]*o,c=i[1]-(e[2]+1)*l[1]*o,d=u+l[0]*o,g=c+l[1]*o;return Qi(u,c,d,g,t)}getTileCoordForCoordAndResolution(e,t,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,i)}getTileCoordForXYAndResolution_(e,t,i,o,l){const u=this.getZForResolution(i),c=i/this.getResolution(u),d=this.getOrigin(u),g=Vt(this.getTileSize(u),this.tmpSize_);let p=c*(e-d[0])/i/g[0],_=c*(d[1]-t)/i/g[1];return o?(p=ya(p,Bi)-1,_=ya(_,Bi)-1):(p=_a(p,Bi),_=_a(_,Bi)),Ba(u,p,_,l)}getTileCoordForXYAndZ_(e,t,i,o,l){const u=this.getOrigin(i),c=this.getResolution(i),d=Vt(this.getTileSize(i),this.tmpSize_);let g=(e-u[0])/c/d[0],p=(u[1]-t)/c/d[1];return o?(g=ya(g,Bi)-1,p=ya(p,Bi)-1):(g=_a(g,Bi),p=_a(p,Bi)),Ba(i,g,p,l)}getTileCoordForCoordAndZ(e,t,i){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){const i=ed(this.resolutions_,e,t||0);return et(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return L_(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const t=this.resolutions_.length,i=new Array(t);for(let o=this.minZoom;o<t;++o)i[o]=this.getTileRangeForExtentAndZ(e,o);this.fullTileRanges_=i}}function _y(r){let e=r.getDefaultTileGrid();return e||(e=xS(r),r.setDefaultTileGrid(e)),e}function vS(r,e,t){const i=e[0],o=r.getTileCoordCenter(e),l=Nd(t);if(!Ls(l,o)){const u=be(l),c=Math.ceil((l[0]-o[0])/u);return o[0]+=u*c,r.getTileCoordForCoordAndZ(o,i)}return e}function ES(r,e,t,i){i=i!==void 0?i:"top-left";const o=yy(r,e,t);return new my({extent:r,origin:rv(r,i),resolutions:o,tileSize:t})}function wS(r){const e=r,t=e.extent||Kt("EPSG:3857").getExtent(),i={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:yy(t,e.maxZoom,e.tileSize,e.maxResolution)};return new my(i)}function yy(r,e,t,i){e=e!==void 0?e:px,t=Vt(t!==void 0?t:kd);const o=Pt(r),l=be(r);i=i>0?i:Math.max(l/t[0],o/t[1]);const u=e+1,c=new Array(u);for(let d=0;d<u;++d)c[d]=i/Math.pow(2,d);return c}function xS(r,e,t,i){const o=Nd(r);return ES(o,e,t,i)}function Nd(r){r=Kt(r);let e=r.getExtent();if(!e){const t=180*ld.degrees/r.getMetersPerUnit();e=Qi(-t,-t,t,t)}return e}const SS=/\{z\}/g,CS=/\{x\}/g,RS=/\{y\}/g,TS=/\{-y\}/g;function IS(r,e,t,i,o){return r.replace(SS,e.toString()).replace(CS,t.toString()).replace(RS,i.toString()).replace(TS,function(){if(o===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(o-i).toString()})}function LS(r){const e=[];let t=/\{([a-z])-([a-z])\}/.exec(r);if(t){const i=t[1].charCodeAt(0),o=t[2].charCodeAt(0);let l;for(l=i;l<=o;++l)e.push(r.replace(t[0],String.fromCharCode(l)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(r),t){const i=parseInt(t[2],10);for(let o=parseInt(t[1],10);o<=i;o++)e.push(r.replace(t[0],o.toString()));return e}return e.push(r),e}function kS(r,e){return function(t,i,o){if(!t)return;let l;const u=t[0];if(e){const c=e.getFullTileRange(u);c&&(l=c.getHeight()-1)}return IS(r,u,t[1],t[2],l)}}function AS(r,e){const t=r.length,i=new Array(t);for(let o=0;o<t;++o)i[o]=kS(r[o],e);return PS(i)}function PS(r){return r.length===1?r[0]:function(e,t,i){if(!e)return;const o=dS(e),l=Lr(o,r.length);return r[l](e,t,i)}}class MS extends Y_{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const t=[256,256];this.tileGrid&&Vt(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),t),this.tmpSize=[0,0],this.key_=e.key||De(this),this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){const t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,i,o,l){return Ae()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:_y(e)}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,i){const o=this.getTileGridForProjection(i),l=this.getTilePixelRatio(t),u=Vt(o.getTileSize(e),this.tmpSize);return l==1?u:nw(u,l,this.tmpSize)}getTileCoordForTileUrlFunction(e,t){const i=t!==void 0?t:this.getProjection(),o=t!==void 0?this.getTileGridForProjection(i):this.tileGrid||this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(e=vS(o,e,i)),gS(e,o)?e:null}clear(){}refresh(){this.clear(),super.refresh()}}class OS extends pi{constructor(e,t){super(e),this.tile=t}}const Ih={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class zd extends MS{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===zd.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const t=e.target,i=De(t),o=t.getState();let l;o==he.LOADING?(this.tileLoadingKeys_[i]=!0,l=Ih.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],l=o==he.ERROR?Ih.TILELOADERROR:o==he.LOADED?Ih.TILELOADEND:void 0),l!=null&&this.dispatchEvent(new OS(l,t))}setTileLoadFunction(e){this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,typeof t<"u"?this.setKey(t):this.changed()}setUrl(e){const t=LS(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;const t=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(AS(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,i){}}class DS extends zd{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:FS,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:ay,this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(e){return this.getProjection()&&e&&!lh(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){const t=this.getProjection();if(this.tileGrid&&(!t||lh(t,e)))return this.tileGrid;const i=De(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=_y(e)),this.tileGridForProjection[i]}createTile_(e,t,i,o,l,u){const c=[e,t,i],d=this.getTileCoordForTileUrlFunction(c,l),g=d?this.tileUrlFunction(d,o,l):void 0,p=new this.tileClass(c,g!==void 0?he.IDLE:he.EMPTY,g!==void 0?g:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return p.key=u,p.addEventListener(Ee.CHANGE,this.handleTileChange.bind(this)),p}getTile(e,t,i,o,l){const u=this.getProjection();if(!u||!l||lh(u,l))return this.getTileInternal(e,t,i,o,u||l);const c=[e,t,i],d=this.getKey(),g=this.getTileGridForProjection(u),p=this.getTileGridForProjection(l),_=this.getTileCoordForTileUrlFunction(c,l),y=new py(u,g,l,p,c,_,this.getTilePixelRatio(o),this.getGutter(),(w,E,S,x)=>this.getTileInternal(w,E,S,x,u),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return y.key=d,y}getTileInternal(e,t,i,o,l){const u=this.getKey();return this.createTile_(e,t,i,o,l,u)}setRenderReprojectionEdges(e){this.renderReprojectionEdges_!=e&&(this.renderReprojectionEdges_=e,this.changed())}setTileGridForProjection(e,t){const i=Kt(e);if(i){const o=De(i);o in this.tileGridForProjection||(this.tileGridForProjection[o]=t)}}}function FS(r,e){r.getImage().src=e}class NS extends DS{constructor(e){e=e||{};const t=e.projection!==void 0?e.projection:"EPSG:3857",i=e.tileGrid!==void 0?e.tileGrid:wS({extent:Nd(t),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:t,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}const zS='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class bS extends NS{constructor(e){e=e||{};let t;e.attributions!==void 0?t=e.attributions:t=[zS];const i=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",o=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:t,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:i,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:o,wrapX:e.wrapX,zDirection:e.zDirection})}}const GS=({isVisible:r,coords:e,onConfirm:t,onCancel:i})=>{if(!r||!e)return null;const o=async()=>{const l=`[${e.lat}, ${e.lon}]`;try{await navigator.clipboard.writeText(l),alert("Coordinates copied to clipboard!")}catch(u){console.error("Error copying coordinates:",u)}};return Ze.jsx("div",{style:{position:"fixed",top:"0",left:"0",width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:Ze.jsxs("div",{style:{backgroundColor:"white",padding:"20px",boxShadow:"0px 0px 15px rgba(0,0,0,0.3)",borderRadius:"8px",textAlign:"center",minWidth:"300px"},children:[Ze.jsx("h3",{children:"Move all hives to:"}),Ze.jsxs("p",{children:["Lat: ",e.lat," | Lon: ",e.lon]}),Ze.jsx("button",{onClick:o,style:{marginBottom:"10px",display:"block",width:"100%"},children:"Copy Coordinates"}),Ze.jsx("button",{onClick:()=>t(e),style:{marginRight:"10px"},children:"Move Hives"}),Ze.jsx("button",{onClick:i,children:"Cancel"})]})})};function vy(r,e){return function(){return r.apply(e,arguments)}}const{toString:US}=Object.prototype,{getPrototypeOf:bd}=Object,fu=(r=>e=>{const t=US.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),On=r=>(r=r.toLowerCase(),e=>fu(e)===r),gu=r=>e=>typeof e===r,{isArray:Ns}=Array,Zo=gu("undefined");function jS(r){return r!==null&&!Zo(r)&&r.constructor!==null&&!Zo(r.constructor)&&tn(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Ey=On("ArrayBuffer");function WS(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&Ey(r.buffer),e}const BS=gu("string"),tn=gu("function"),wy=gu("number"),pu=r=>r!==null&&typeof r=="object",XS=r=>r===!0||r===!1,Ia=r=>{if(fu(r)!=="object")return!1;const e=bd(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},VS=On("Date"),YS=On("File"),KS=On("Blob"),HS=On("FileList"),ZS=r=>pu(r)&&tn(r.pipe),$S=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||tn(r.append)&&((e=fu(r))==="formdata"||e==="object"&&tn(r.toString)&&r.toString()==="[object FormData]"))},qS=On("URLSearchParams"),[JS,QS,eC,tC]=["ReadableStream","Request","Response","Headers"].map(On),nC=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function sl(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let i,o;if(typeof r!="object"&&(r=[r]),Ns(r))for(i=0,o=r.length;i<o;i++)e.call(null,r[i],i,r);else{const l=t?Object.getOwnPropertyNames(r):Object.keys(r),u=l.length;let c;for(i=0;i<u;i++)c=l[i],e.call(null,r[c],c,r)}}function xy(r,e){e=e.toLowerCase();const t=Object.keys(r);let i=t.length,o;for(;i-- >0;)if(o=t[i],e===o.toLowerCase())return o;return null}const Tr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Sy=r=>!Zo(r)&&r!==Tr;function Kh(){const{caseless:r}=Sy(this)&&this||{},e={},t=(i,o)=>{const l=r&&xy(e,o)||o;Ia(e[l])&&Ia(i)?e[l]=Kh(e[l],i):Ia(i)?e[l]=Kh({},i):Ns(i)?e[l]=i.slice():e[l]=i};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&sl(arguments[i],t);return e}const iC=(r,e,t,{allOwnKeys:i}={})=>(sl(e,(o,l)=>{t&&tn(o)?r[l]=vy(o,t):r[l]=o},{allOwnKeys:i}),r),rC=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),sC=(r,e,t,i)=>{r.prototype=Object.create(e.prototype,i),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},oC=(r,e,t,i)=>{let o,l,u;const c={};if(e=e||{},r==null)return e;do{for(o=Object.getOwnPropertyNames(r),l=o.length;l-- >0;)u=o[l],(!i||i(u,r,e))&&!c[u]&&(e[u]=r[u],c[u]=!0);r=t!==!1&&bd(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},lC=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const i=r.indexOf(e,t);return i!==-1&&i===t},aC=r=>{if(!r)return null;if(Ns(r))return r;let e=r.length;if(!wy(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},uC=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&bd(Uint8Array)),cC=(r,e)=>{const i=(r&&r[Symbol.iterator]).call(r);let o;for(;(o=i.next())&&!o.done;){const l=o.value;e.call(r,l[0],l[1])}},hC=(r,e)=>{let t;const i=[];for(;(t=r.exec(e))!==null;)i.push(t);return i},dC=On("HTMLFormElement"),fC=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,o){return i.toUpperCase()+o}),Gm=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),gC=On("RegExp"),Cy=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),i={};sl(t,(o,l)=>{let u;(u=e(o,l,r))!==!1&&(i[l]=u||o)}),Object.defineProperties(r,i)},pC=r=>{Cy(r,(e,t)=>{if(tn(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=r[t];if(tn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},mC=(r,e)=>{const t={},i=o=>{o.forEach(l=>{t[l]=!0})};return Ns(r)?i(r):i(String(r).split(e)),t},_C=()=>{},yC=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e,Lh="abcdefghijklmnopqrstuvwxyz",Um="0123456789",Ry={DIGIT:Um,ALPHA:Lh,ALPHA_DIGIT:Lh+Lh.toUpperCase()+Um},vC=(r=16,e=Ry.ALPHA_DIGIT)=>{let t="";const{length:i}=e;for(;r--;)t+=e[Math.random()*i|0];return t};function EC(r){return!!(r&&tn(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const wC=r=>{const e=new Array(10),t=(i,o)=>{if(pu(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[o]=i;const l=Ns(i)?[]:{};return sl(i,(u,c)=>{const d=t(u,o+1);!Zo(d)&&(l[c]=d)}),e[o]=void 0,l}}return i};return t(r,0)},xC=On("AsyncFunction"),SC=r=>r&&(pu(r)||tn(r))&&tn(r.then)&&tn(r.catch),Ty=((r,e)=>r?setImmediate:e?((t,i)=>(Tr.addEventListener("message",({source:o,data:l})=>{o===Tr&&l===t&&i.length&&i.shift()()},!1),o=>{i.push(o),Tr.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",tn(Tr.postMessage)),CC=typeof queueMicrotask<"u"?queueMicrotask.bind(Tr):typeof process<"u"&&process.nextTick||Ty,z={isArray:Ns,isArrayBuffer:Ey,isBuffer:jS,isFormData:$S,isArrayBufferView:WS,isString:BS,isNumber:wy,isBoolean:XS,isObject:pu,isPlainObject:Ia,isReadableStream:JS,isRequest:QS,isResponse:eC,isHeaders:tC,isUndefined:Zo,isDate:VS,isFile:YS,isBlob:KS,isRegExp:gC,isFunction:tn,isStream:ZS,isURLSearchParams:qS,isTypedArray:uC,isFileList:HS,forEach:sl,merge:Kh,extend:iC,trim:nC,stripBOM:rC,inherits:sC,toFlatObject:oC,kindOf:fu,kindOfTest:On,endsWith:lC,toArray:aC,forEachEntry:cC,matchAll:hC,isHTMLForm:dC,hasOwnProperty:Gm,hasOwnProp:Gm,reduceDescriptors:Cy,freezeMethods:pC,toObjectSet:mC,toCamelCase:fC,noop:_C,toFiniteNumber:yC,findKey:xy,global:Tr,isContextDefined:Sy,ALPHABET:Ry,generateString:vC,isSpecCompliantForm:EC,toJSONObject:wC,isAsyncFn:xC,isThenable:SC,setImmediate:Ty,asap:CC};function we(r,e,t,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),o&&(this.response=o,this.status=o.status?o.status:null)}z.inherits(we,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.status}}});const Iy=we.prototype,Ly={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Ly[r]={value:r}});Object.defineProperties(we,Ly);Object.defineProperty(Iy,"isAxiosError",{value:!0});we.from=(r,e,t,i,o,l)=>{const u=Object.create(Iy);return z.toFlatObject(r,u,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),we.call(u,r.message,e,t,i,o),u.cause=r,u.name=r.name,l&&Object.assign(u,l),u};const RC=null;function Hh(r){return z.isPlainObject(r)||z.isArray(r)}function ky(r){return z.endsWith(r,"[]")?r.slice(0,-2):r}function jm(r,e,t){return r?r.concat(e).map(function(o,l){return o=ky(o),!t&&l?"["+o+"]":o}).join(t?".":""):e}function TC(r){return z.isArray(r)&&!r.some(Hh)}const IC=z.toFlatObject(z,{},null,function(e){return/^is[A-Z]/.test(e)});function mu(r,e,t){if(!z.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=z.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,x){return!z.isUndefined(x[S])});const i=t.metaTokens,o=t.visitor||p,l=t.dots,u=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(e);if(!z.isFunction(o))throw new TypeError("visitor must be a function");function g(E){if(E===null)return"";if(z.isDate(E))return E.toISOString();if(!d&&z.isBlob(E))throw new we("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(E)||z.isTypedArray(E)?d&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function p(E,S,x){let R=E;if(E&&!x&&typeof E=="object"){if(z.endsWith(S,"{}"))S=i?S:S.slice(0,-2),E=JSON.stringify(E);else if(z.isArray(E)&&TC(E)||(z.isFileList(E)||z.endsWith(S,"[]"))&&(R=z.toArray(E)))return S=ky(S),R.forEach(function(O,T){!(z.isUndefined(O)||O===null)&&e.append(u===!0?jm([S],T,l):u===null?S:S+"[]",g(O))}),!1}return Hh(E)?!0:(e.append(jm(x,S,l),g(E)),!1)}const _=[],y=Object.assign(IC,{defaultVisitor:p,convertValue:g,isVisitable:Hh});function w(E,S){if(!z.isUndefined(E)){if(_.indexOf(E)!==-1)throw Error("Circular reference detected in "+S.join("."));_.push(E),z.forEach(E,function(R,I){(!(z.isUndefined(R)||R===null)&&o.call(e,R,z.isString(I)?I.trim():I,S,y))===!0&&w(R,S?S.concat(I):[I])}),_.pop()}}if(!z.isObject(r))throw new TypeError("data must be an object");return w(r),e}function Wm(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Gd(r,e){this._pairs=[],r&&mu(r,this,e)}const Ay=Gd.prototype;Ay.append=function(e,t){this._pairs.push([e,t])};Ay.toString=function(e){const t=e?function(i){return e.call(this,i,Wm)}:Wm;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function LC(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Py(r,e,t){if(!e)return r;const i=t&&t.encode||LC;z.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let l;if(o?l=o(e,t):l=z.isURLSearchParams(e)?e.toString():new Gd(e,t).toString(i),l){const u=r.indexOf("#");u!==-1&&(r=r.slice(0,u)),r+=(r.indexOf("?")===-1?"?":"&")+l}return r}class Bm{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){z.forEach(this.handlers,function(i){i!==null&&e(i)})}}const My={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kC=typeof URLSearchParams<"u"?URLSearchParams:Gd,AC=typeof FormData<"u"?FormData:null,PC=typeof Blob<"u"?Blob:null,MC={isBrowser:!0,classes:{URLSearchParams:kC,FormData:AC,Blob:PC},protocols:["http","https","file","blob","url","data"]},Ud=typeof window<"u"&&typeof document<"u",Zh=typeof navigator=="object"&&navigator||void 0,OC=Ud&&(!Zh||["ReactNative","NativeScript","NS"].indexOf(Zh.product)<0),DC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",FC=Ud&&window.location.href||"http://localhost",NC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ud,hasStandardBrowserEnv:OC,hasStandardBrowserWebWorkerEnv:DC,navigator:Zh,origin:FC},Symbol.toStringTag,{value:"Module"})),wt={...NC,...MC};function zC(r,e){return mu(r,new wt.classes.URLSearchParams,Object.assign({visitor:function(t,i,o,l){return wt.isNode&&z.isBuffer(t)?(this.append(i,t.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function bC(r){return z.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function GC(r){const e={},t=Object.keys(r);let i;const o=t.length;let l;for(i=0;i<o;i++)l=t[i],e[l]=r[l];return e}function Oy(r){function e(t,i,o,l){let u=t[l++];if(u==="__proto__")return!0;const c=Number.isFinite(+u),d=l>=t.length;return u=!u&&z.isArray(o)?o.length:u,d?(z.hasOwnProp(o,u)?o[u]=[o[u],i]:o[u]=i,!c):((!o[u]||!z.isObject(o[u]))&&(o[u]=[]),e(t,i,o[u],l)&&z.isArray(o[u])&&(o[u]=GC(o[u])),!c)}if(z.isFormData(r)&&z.isFunction(r.entries)){const t={};return z.forEachEntry(r,(i,o)=>{e(bC(i),o,t,0)}),t}return null}function UC(r,e,t){if(z.isString(r))try{return(e||JSON.parse)(r),z.trim(r)}catch(i){if(i.name!=="SyntaxError")throw i}return(0,JSON.stringify)(r)}const ol={transitional:My,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",o=i.indexOf("application/json")>-1,l=z.isObject(e);if(l&&z.isHTMLForm(e)&&(e=new FormData(e)),z.isFormData(e))return o?JSON.stringify(Oy(e)):e;if(z.isArrayBuffer(e)||z.isBuffer(e)||z.isStream(e)||z.isFile(e)||z.isBlob(e)||z.isReadableStream(e))return e;if(z.isArrayBufferView(e))return e.buffer;if(z.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(l){if(i.indexOf("application/x-www-form-urlencoded")>-1)return zC(e,this.formSerializer).toString();if((c=z.isFileList(e))||i.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return mu(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return l||o?(t.setContentType("application/json",!1),UC(e)):e}],transformResponse:[function(e){const t=this.transitional||ol.transitional,i=t&&t.forcedJSONParsing,o=this.responseType==="json";if(z.isResponse(e)||z.isReadableStream(e))return e;if(e&&z.isString(e)&&(i&&!this.responseType||o)){const u=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(c){if(u)throw c.name==="SyntaxError"?we.from(c,we.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wt.classes.FormData,Blob:wt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],r=>{ol.headers[r]={}});const jC=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),WC=r=>{const e={};let t,i,o;return r&&r.split(`
`).forEach(function(u){o=u.indexOf(":"),t=u.substring(0,o).trim().toLowerCase(),i=u.substring(o+1).trim(),!(!t||e[t]&&jC[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},Xm=Symbol("internals");function Lo(r){return r&&String(r).trim().toLowerCase()}function La(r){return r===!1||r==null?r:z.isArray(r)?r.map(La):String(r)}function BC(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(r);)e[i[1]]=i[2];return e}const XC=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function kh(r,e,t,i,o){if(z.isFunction(i))return i.call(this,e,t);if(o&&(e=t),!!z.isString(e)){if(z.isString(i))return e.indexOf(i)!==-1;if(z.isRegExp(i))return i.test(e)}}function VC(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function YC(r,e){const t=z.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(r,i+t,{value:function(o,l,u){return this[i].call(this,e,o,l,u)},configurable:!0})})}class Yt{constructor(e){e&&this.set(e)}set(e,t,i){const o=this;function l(c,d,g){const p=Lo(d);if(!p)throw new Error("header name must be a non-empty string");const _=z.findKey(o,p);(!_||o[_]===void 0||g===!0||g===void 0&&o[_]!==!1)&&(o[_||d]=La(c))}const u=(c,d)=>z.forEach(c,(g,p)=>l(g,p,d));if(z.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(z.isString(e)&&(e=e.trim())&&!XC(e))u(WC(e),t);else if(z.isHeaders(e))for(const[c,d]of e.entries())l(d,c,i);else e!=null&&l(t,e,i);return this}get(e,t){if(e=Lo(e),e){const i=z.findKey(this,e);if(i){const o=this[i];if(!t)return o;if(t===!0)return BC(o);if(z.isFunction(t))return t.call(this,o,i);if(z.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Lo(e),e){const i=z.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||kh(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let o=!1;function l(u){if(u=Lo(u),u){const c=z.findKey(i,u);c&&(!t||kh(i,i[c],c,t))&&(delete i[c],o=!0)}}return z.isArray(e)?e.forEach(l):l(e),o}clear(e){const t=Object.keys(this);let i=t.length,o=!1;for(;i--;){const l=t[i];(!e||kh(this,this[l],l,e,!0))&&(delete this[l],o=!0)}return o}normalize(e){const t=this,i={};return z.forEach(this,(o,l)=>{const u=z.findKey(i,l);if(u){t[u]=La(o),delete t[l];return}const c=e?VC(l):String(l).trim();c!==l&&delete t[l],t[c]=La(o),i[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return z.forEach(this,(i,o)=>{i!=null&&i!==!1&&(t[o]=e&&z.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(o=>i.set(o)),i}static accessor(e){const i=(this[Xm]=this[Xm]={accessors:{}}).accessors,o=this.prototype;function l(u){const c=Lo(u);i[c]||(YC(o,u),i[c]=!0)}return z.isArray(e)?e.forEach(l):l(e),this}}Yt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(Yt.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(i){this[t]=i}}});z.freezeMethods(Yt);function Ah(r,e){const t=this||ol,i=e||t,o=Yt.from(i.headers);let l=i.data;return z.forEach(r,function(c){l=c.call(t,l,o.normalize(),e?e.status:void 0)}),o.normalize(),l}function Dy(r){return!!(r&&r.__CANCEL__)}function zs(r,e,t){we.call(this,r??"canceled",we.ERR_CANCELED,e,t),this.name="CanceledError"}z.inherits(zs,we,{__CANCEL__:!0});function Fy(r,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?r(t):e(new we("Request failed with status code "+t.status,[we.ERR_BAD_REQUEST,we.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function KC(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function HC(r,e){r=r||10;const t=new Array(r),i=new Array(r);let o=0,l=0,u;return e=e!==void 0?e:1e3,function(d){const g=Date.now(),p=i[l];u||(u=g),t[o]=d,i[o]=g;let _=l,y=0;for(;_!==o;)y+=t[_++],_=_%r;if(o=(o+1)%r,o===l&&(l=(l+1)%r),g-u<e)return;const w=p&&g-p;return w?Math.round(y*1e3/w):void 0}}function ZC(r,e){let t=0,i=1e3/e,o,l;const u=(g,p=Date.now())=>{t=p,o=null,l&&(clearTimeout(l),l=null),r.apply(null,g)};return[(...g)=>{const p=Date.now(),_=p-t;_>=i?u(g,p):(o=g,l||(l=setTimeout(()=>{l=null,u(o)},i-_)))},()=>o&&u(o)]}const Xa=(r,e,t=3)=>{let i=0;const o=HC(50,250);return ZC(l=>{const u=l.loaded,c=l.lengthComputable?l.total:void 0,d=u-i,g=o(d),p=u<=c;i=u;const _={loaded:u,total:c,progress:c?u/c:void 0,bytes:d,rate:g||void 0,estimated:g&&c&&p?(c-u)/g:void 0,event:l,lengthComputable:c!=null,[e?"download":"upload"]:!0};r(_)},t)},Vm=(r,e)=>{const t=r!=null;return[i=>e[0]({lengthComputable:t,total:r,loaded:i}),e[1]]},Ym=r=>(...e)=>z.asap(()=>r(...e)),$C=wt.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,wt.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(wt.origin),wt.navigator&&/(msie|trident)/i.test(wt.navigator.userAgent)):()=>!0,qC=wt.hasStandardBrowserEnv?{write(r,e,t,i,o,l){const u=[r+"="+encodeURIComponent(e)];z.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),z.isString(i)&&u.push("path="+i),z.isString(o)&&u.push("domain="+o),l===!0&&u.push("secure"),document.cookie=u.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function JC(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function QC(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function Ny(r,e){return r&&!JC(e)?QC(r,e):e}const Km=r=>r instanceof Yt?{...r}:r;function Mr(r,e){e=e||{};const t={};function i(g,p,_,y){return z.isPlainObject(g)&&z.isPlainObject(p)?z.merge.call({caseless:y},g,p):z.isPlainObject(p)?z.merge({},p):z.isArray(p)?p.slice():p}function o(g,p,_,y){if(z.isUndefined(p)){if(!z.isUndefined(g))return i(void 0,g,_,y)}else return i(g,p,_,y)}function l(g,p){if(!z.isUndefined(p))return i(void 0,p)}function u(g,p){if(z.isUndefined(p)){if(!z.isUndefined(g))return i(void 0,g)}else return i(void 0,p)}function c(g,p,_){if(_ in e)return i(g,p);if(_ in r)return i(void 0,g)}const d={url:l,method:l,data:l,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:c,headers:(g,p,_)=>o(Km(g),Km(p),_,!0)};return z.forEach(Object.keys(Object.assign({},r,e)),function(p){const _=d[p]||o,y=_(r[p],e[p],p);z.isUndefined(y)&&_!==c||(t[p]=y)}),t}const zy=r=>{const e=Mr({},r);let{data:t,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:l,headers:u,auth:c}=e;e.headers=u=Yt.from(u),e.url=Py(Ny(e.baseURL,e.url),r.params,r.paramsSerializer),c&&u.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(z.isFormData(t)){if(wt.hasStandardBrowserEnv||wt.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((d=u.getContentType())!==!1){const[g,...p]=d?d.split(";").map(_=>_.trim()).filter(Boolean):[];u.setContentType([g||"multipart/form-data",...p].join("; "))}}if(wt.hasStandardBrowserEnv&&(i&&z.isFunction(i)&&(i=i(e)),i||i!==!1&&$C(e.url))){const g=o&&l&&qC.read(l);g&&u.set(o,g)}return e},eR=typeof XMLHttpRequest<"u",tR=eR&&function(r){return new Promise(function(t,i){const o=zy(r);let l=o.data;const u=Yt.from(o.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:g}=o,p,_,y,w,E;function S(){w&&w(),E&&E(),o.cancelToken&&o.cancelToken.unsubscribe(p),o.signal&&o.signal.removeEventListener("abort",p)}let x=new XMLHttpRequest;x.open(o.method.toUpperCase(),o.url,!0),x.timeout=o.timeout;function R(){if(!x)return;const O=Yt.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),M={data:!c||c==="text"||c==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:O,config:r,request:x};Fy(function(B){t(B),S()},function(B){i(B),S()},M),x=null}"onloadend"in x?x.onloadend=R:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(R)},x.onabort=function(){x&&(i(new we("Request aborted",we.ECONNABORTED,r,x)),x=null)},x.onerror=function(){i(new we("Network Error",we.ERR_NETWORK,r,x)),x=null},x.ontimeout=function(){let T=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const M=o.transitional||My;o.timeoutErrorMessage&&(T=o.timeoutErrorMessage),i(new we(T,M.clarifyTimeoutError?we.ETIMEDOUT:we.ECONNABORTED,r,x)),x=null},l===void 0&&u.setContentType(null),"setRequestHeader"in x&&z.forEach(u.toJSON(),function(T,M){x.setRequestHeader(M,T)}),z.isUndefined(o.withCredentials)||(x.withCredentials=!!o.withCredentials),c&&c!=="json"&&(x.responseType=o.responseType),g&&([y,E]=Xa(g,!0),x.addEventListener("progress",y)),d&&x.upload&&([_,w]=Xa(d),x.upload.addEventListener("progress",_),x.upload.addEventListener("loadend",w)),(o.cancelToken||o.signal)&&(p=O=>{x&&(i(!O||O.type?new zs(null,r,x):O),x.abort(),x=null)},o.cancelToken&&o.cancelToken.subscribe(p),o.signal&&(o.signal.aborted?p():o.signal.addEventListener("abort",p)));const I=KC(o.url);if(I&&wt.protocols.indexOf(I)===-1){i(new we("Unsupported protocol "+I+":",we.ERR_BAD_REQUEST,r));return}x.send(l||null)})},nR=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let i=new AbortController,o;const l=function(g){if(!o){o=!0,c();const p=g instanceof Error?g:this.reason;i.abort(p instanceof we?p:new zs(p instanceof Error?p.message:p))}};let u=e&&setTimeout(()=>{u=null,l(new we(`timeout ${e} of ms exceeded`,we.ETIMEDOUT))},e);const c=()=>{r&&(u&&clearTimeout(u),u=null,r.forEach(g=>{g.unsubscribe?g.unsubscribe(l):g.removeEventListener("abort",l)}),r=null)};r.forEach(g=>g.addEventListener("abort",l));const{signal:d}=i;return d.unsubscribe=()=>z.asap(c),d}},iR=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let i=0,o;for(;i<t;)o=i+e,yield r.slice(i,o),i=o},rR=async function*(r,e){for await(const t of sR(r))yield*iR(t,e)},sR=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},Hm=(r,e,t,i)=>{const o=rR(r,e);let l=0,u,c=d=>{u||(u=!0,i&&i(d))};return new ReadableStream({async pull(d){try{const{done:g,value:p}=await o.next();if(g){c(),d.close();return}let _=p.byteLength;if(t){let y=l+=_;t(y)}d.enqueue(new Uint8Array(p))}catch(g){throw c(g),g}},cancel(d){return c(d),o.return()}},{highWaterMark:2})},_u=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",by=_u&&typeof ReadableStream=="function",oR=_u&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),Gy=(r,...e)=>{try{return!!r(...e)}catch{return!1}},lR=by&&Gy(()=>{let r=!1;const e=new Request(wt.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),Zm=64*1024,$h=by&&Gy(()=>z.isReadableStream(new Response("").body)),Va={stream:$h&&(r=>r.body)};_u&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Va[e]&&(Va[e]=z.isFunction(r[e])?t=>t[e]():(t,i)=>{throw new we(`Response type '${e}' is not supported`,we.ERR_NOT_SUPPORT,i)})})})(new Response);const aR=async r=>{if(r==null)return 0;if(z.isBlob(r))return r.size;if(z.isSpecCompliantForm(r))return(await new Request(wt.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(z.isArrayBufferView(r)||z.isArrayBuffer(r))return r.byteLength;if(z.isURLSearchParams(r)&&(r=r+""),z.isString(r))return(await oR(r)).byteLength},uR=async(r,e)=>{const t=z.toFiniteNumber(r.getContentLength());return t??aR(e)},cR=_u&&(async r=>{let{url:e,method:t,data:i,signal:o,cancelToken:l,timeout:u,onDownloadProgress:c,onUploadProgress:d,responseType:g,headers:p,withCredentials:_="same-origin",fetchOptions:y}=zy(r);g=g?(g+"").toLowerCase():"text";let w=nR([o,l&&l.toAbortSignal()],u),E;const S=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let x;try{if(d&&lR&&t!=="get"&&t!=="head"&&(x=await uR(p,i))!==0){let M=new Request(e,{method:"POST",body:i,duplex:"half"}),U;if(z.isFormData(i)&&(U=M.headers.get("content-type"))&&p.setContentType(U),M.body){const[B,G]=Vm(x,Xa(Ym(d)));i=Hm(M.body,Zm,B,G)}}z.isString(_)||(_=_?"include":"omit");const R="credentials"in Request.prototype;E=new Request(e,{...y,signal:w,method:t.toUpperCase(),headers:p.normalize().toJSON(),body:i,duplex:"half",credentials:R?_:void 0});let I=await fetch(E);const O=$h&&(g==="stream"||g==="response");if($h&&(c||O&&S)){const M={};["status","statusText","headers"].forEach(Y=>{M[Y]=I[Y]});const U=z.toFiniteNumber(I.headers.get("content-length")),[B,G]=c&&Vm(U,Xa(Ym(c),!0))||[];I=new Response(Hm(I.body,Zm,B,()=>{G&&G(),S&&S()}),M)}g=g||"text";let T=await Va[z.findKey(Va,g)||"text"](I,r);return!O&&S&&S(),await new Promise((M,U)=>{Fy(M,U,{data:T,headers:Yt.from(I.headers),status:I.status,statusText:I.statusText,config:r,request:E})})}catch(R){throw S&&S(),R&&R.name==="TypeError"&&/fetch/i.test(R.message)?Object.assign(new we("Network Error",we.ERR_NETWORK,r,E),{cause:R.cause||R}):we.from(R,R&&R.code,r,E)}}),qh={http:RC,xhr:tR,fetch:cR};z.forEach(qh,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const $m=r=>`- ${r}`,hR=r=>z.isFunction(r)||r===null||r===!1,Uy={getAdapter:r=>{r=z.isArray(r)?r:[r];const{length:e}=r;let t,i;const o={};for(let l=0;l<e;l++){t=r[l];let u;if(i=t,!hR(t)&&(i=qh[(u=String(t)).toLowerCase()],i===void 0))throw new we(`Unknown adapter '${u}'`);if(i)break;o[u||"#"+l]=i}if(!i){const l=Object.entries(o).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let u=e?l.length>1?`since :
`+l.map($m).join(`
`):" "+$m(l[0]):"as no adapter specified";throw new we("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i},adapters:qh};function Ph(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new zs(null,r)}function qm(r){return Ph(r),r.headers=Yt.from(r.headers),r.data=Ah.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),Uy.getAdapter(r.adapter||ol.adapter)(r).then(function(i){return Ph(r),i.data=Ah.call(r,r.transformResponse,i),i.headers=Yt.from(i.headers),i},function(i){return Dy(i)||(Ph(r),i&&i.response&&(i.response.data=Ah.call(r,r.transformResponse,i.response),i.response.headers=Yt.from(i.response.headers))),Promise.reject(i)})}const jy="1.7.9",yu={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{yu[r]=function(i){return typeof i===r||"a"+(e<1?"n ":" ")+r}});const Jm={};yu.transitional=function(e,t,i){function o(l,u){return"[Axios v"+jy+"] Transitional option '"+l+"'"+u+(i?". "+i:"")}return(l,u,c)=>{if(e===!1)throw new we(o(u," has been removed"+(t?" in "+t:"")),we.ERR_DEPRECATED);return t&&!Jm[u]&&(Jm[u]=!0,console.warn(o(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(l,u,c):!0}};yu.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function dR(r,e,t){if(typeof r!="object")throw new we("options must be an object",we.ERR_BAD_OPTION_VALUE);const i=Object.keys(r);let o=i.length;for(;o-- >0;){const l=i[o],u=e[l];if(u){const c=r[l],d=c===void 0||u(c,l,r);if(d!==!0)throw new we("option "+l+" must be "+d,we.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new we("Unknown option "+l,we.ERR_BAD_OPTION)}}const ka={assertOptions:dR,validators:yu},jn=ka.validators;class kr{constructor(e){this.defaults=e,this.interceptors={request:new Bm,response:new Bm}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const l=o.stack?o.stack.replace(/^.+\n/,""):"";try{i.stack?l&&!String(i.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+l):i.stack=l}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Mr(this.defaults,t);const{transitional:i,paramsSerializer:o,headers:l}=t;i!==void 0&&ka.assertOptions(i,{silentJSONParsing:jn.transitional(jn.boolean),forcedJSONParsing:jn.transitional(jn.boolean),clarifyTimeoutError:jn.transitional(jn.boolean)},!1),o!=null&&(z.isFunction(o)?t.paramsSerializer={serialize:o}:ka.assertOptions(o,{encode:jn.function,serialize:jn.function},!0)),ka.assertOptions(t,{baseUrl:jn.spelling("baseURL"),withXsrfToken:jn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=l&&z.merge(l.common,l[t.method]);l&&z.forEach(["delete","get","head","post","put","patch","common"],E=>{delete l[E]}),t.headers=Yt.concat(u,l);const c=[];let d=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(t)===!1||(d=d&&S.synchronous,c.unshift(S.fulfilled,S.rejected))});const g=[];this.interceptors.response.forEach(function(S){g.push(S.fulfilled,S.rejected)});let p,_=0,y;if(!d){const E=[qm.bind(this),void 0];for(E.unshift.apply(E,c),E.push.apply(E,g),y=E.length,p=Promise.resolve(t);_<y;)p=p.then(E[_++],E[_++]);return p}y=c.length;let w=t;for(_=0;_<y;){const E=c[_++],S=c[_++];try{w=E(w)}catch(x){S.call(this,x);break}}try{p=qm.call(this,w)}catch(E){return Promise.reject(E)}for(_=0,y=g.length;_<y;)p=p.then(g[_++],g[_++]);return p}getUri(e){e=Mr(this.defaults,e);const t=Ny(e.baseURL,e.url);return Py(t,e.params,e.paramsSerializer)}}z.forEach(["delete","get","head","options"],function(e){kr.prototype[e]=function(t,i){return this.request(Mr(i||{},{method:e,url:t,data:(i||{}).data}))}});z.forEach(["post","put","patch"],function(e){function t(i){return function(l,u,c){return this.request(Mr(c||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:l,data:u}))}}kr.prototype[e]=t(),kr.prototype[e+"Form"]=t(!0)});class jd{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(l){t=l});const i=this;this.promise.then(o=>{if(!i._listeners)return;let l=i._listeners.length;for(;l-- >0;)i._listeners[l](o);i._listeners=null}),this.promise.then=o=>{let l;const u=new Promise(c=>{i.subscribe(c),l=c}).then(o);return u.cancel=function(){i.unsubscribe(l)},u},e(function(l,u,c){i.reason||(i.reason=new zs(l,u,c),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new jd(function(o){e=o}),cancel:e}}}function fR(r){return function(t){return r.apply(null,t)}}function gR(r){return z.isObject(r)&&r.isAxiosError===!0}const Jh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Jh).forEach(([r,e])=>{Jh[e]=r});function Wy(r){const e=new kr(r),t=vy(kr.prototype.request,e);return z.extend(t,kr.prototype,e,{allOwnKeys:!0}),z.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return Wy(Mr(r,o))},t}const $e=Wy(ol);$e.Axios=kr;$e.CanceledError=zs;$e.CancelToken=jd;$e.isCancel=Dy;$e.VERSION=jy;$e.toFormData=mu;$e.AxiosError=we;$e.Cancel=$e.CanceledError;$e.all=function(e){return Promise.all(e)};$e.spread=fR;$e.isAxiosError=gR;$e.mergeConfig=Mr;$e.AxiosHeaders=Yt;$e.formToJSON=r=>Oy(z.isHTMLForm(r)?new FormData(r):r);$e.getAdapter=Uy.getAdapter;$e.HttpStatusCode=Jh;$e.default=$e;const pR=async r=>{try{return(await $e.get(`${r}/area`)).data}catch(e){return console.error("Error fetching center coordinates:",e),null}},mR=async r=>{try{return(await $e.get(`${r}/hive`)).data.map(t=>{var i,o,l,u;return{id:t.HiveID,lat:((o=(i=t.Telemetry)==null?void 0:i.Location)==null?void 0:o.Latitude)??null,lon:((u=(l=t.Telemetry)==null?void 0:l.Location)==null?void 0:u.Longitude)??null}}).filter(t=>t.lat!==null&&t.lon!==null)}catch(e){return console.error("Error fetching hives:",e),[]}},_R=async(r,e,t,i)=>{try{await $e.patch(`${r}/hive`,{Hives:i,Destination:{Latitude:e,Longitude:t}}),console.log(`Moved hives to: ${e}, ${t}`)}catch(o){throw console.error("Error moving hives:",o),o}},yR="/256x256.png",vR=()=>{const r=Wn.useRef(null),e=Wn.useRef(null),t=Wn.useRef(!1),i=Wn.useRef(null),[o,l]=Wn.useState([]),[u,c]=Wn.useState({visible:!1,coords:null}),[d,g]=Wn.useState({lat:"",lon:""}),p=Wn.useRef(null);Wn.useEffect(()=>{(async()=>{const O=await(await fetch("/config.json")).json();if(i.current=O.API,!t.current){t.current=!0;try{const T=await pR(i.current);T&&(_(T.Latitude,T.Longitude),await y());const M=setInterval(y,5e3);return()=>clearInterval(M)}catch(T){console.error("Error initializing map:",T)}}})()},[]);const _=(R,I)=>{const O=new eS({target:"map-container",layers:[new yS({source:new bS})],view:new Xn({center:Xp([I,R]),zoom:12})});O.on("pointermove",T=>E(T,O)),O.on("singleclick",T=>x(T,O)),r.current=O},y=async()=>{try{const R=await mR(i.current);l(R),w(R)}catch(R){console.error(" Error fetching hives:",R)}},w=R=>{if(!r.current)return;e.current&&r.current.removeLayer(e.current);const I=new tw;R.forEach(T=>{const M=new nd({geometry:new iu(Xp([T.lon,T.lat]))});M.setId(T.id),M.setStyle(new Ji({image:new tl({src:yR,scale:.05}),text:new uu({text:T.id,fill:new Os({color:"#000"}),stroke:new Qo({color:"#fff",width:2}),offsetY:-20})})),M.set("id",T.id),M.set("lat",T.lat),M.set("lon",T.lon),I.addFeature(M)});const O=new wx({source:I});e.current=O,r.current.addLayer(O),r.current.on("pointermove",T=>S(T,r.current))},E=(R,I)=>{if(!I)return;const O=Vp(R.coordinate);g({lat:O[1].toFixed(6),lon:O[0].toFixed(6)})},S=(R,I)=>{if(!p.current)return;const O=I.getFeaturesAtPixel(R.pixel);if(O.length>0){const T=O[0];p.current.innerHTML=`ID: ${T.get("id")}<br>Lat: ${T.get("lat")}<br>Lon: ${T.get("lon")}`,p.current.style.left=`${R.pixel[0]+10}px`,p.current.style.top=`${R.pixel[1]+10}px`,p.current.style.display="block"}else p.current.style.display="none"},x=(R,I)=>{if(!I.getFeaturesAtPixel(R.pixel).length){const O=Vp(R.coordinate);c({visible:!0,coords:{lat:O[1].toFixed(6),lon:O[0].toFixed(6)}})}};return Ze.jsxs("div",{style:{width:"100%",height:"100vh",display:"flex",flexDirection:"column",alignItems:"center"},children:[Ze.jsx("h1",{children:"Hive Map"}),Ze.jsxs("div",{style:{marginBottom:"10px",display:"flex",gap:"10px"},children:[Ze.jsxs("label",{children:["Latitude: ",Ze.jsx("input",{type:"text",value:d.lat,disabled:!0})]}),Ze.jsxs("label",{children:["Longitude: ",Ze.jsx("input",{type:"text",value:d.lon,disabled:!0})]})]}),Ze.jsx("div",{id:"map-container",style:{width:"80%",height:"80vh",border:"1px solid #ddd",position:"relative"}}),Ze.jsx("div",{ref:p,style:{position:"absolute",display:"none",background:"#fff",padding:"5px",borderRadius:"5px",border:"1px solid #000",pointerEvents:"none",zIndex:999}}),Ze.jsx(GS,{isVisible:u.visible,coords:u.coords,onConfirm:()=>_R(i.current,u.coords.lat,u.coords.lon,o.map(R=>R.id)),onCancel:()=>c({visible:!1})})]})},ER=()=>Ze.jsx("div",{children:Ze.jsx(vR,{})}),wR=()=>Ze.jsx(ER,{});K1.createRoot(document.getElementById("root")).render(Ze.jsx(U1.StrictMode,{children:Ze.jsx(wR,{})}));
