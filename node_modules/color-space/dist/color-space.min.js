"use strict";var j0={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]},m=j0,k0={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(a){var r=a[0]/360,n=a[1]/100,t=a[2]/100,e,v,u,h,i,c=0;if(n===0)return i=t*255,[i,i,i];for(v=t<.5?t*(1+n):t+n-t*n,e=2*t-v,h=[0,0,0];c<3;)u=r+1/3*-(c-1),u<0?u++:u>1&&u--,i=6*u<1?e+(v-e)*6*u:2*u<1?v:3*u<2?e+(v-e)*(2/3-u)*6:e,h[c++]=i*255;return h}},H=k0;m.hsl=function(a){var r=a[0]/255,n=a[1]/255,t=a[2]/255,e=Math.min(r,n,t),v=Math.max(r,n,t),u=v-e,h,i,c;return v===e?h=0:r===v?h=(n-t)/u:n===v?h=2+(t-r)/u:t===v&&(h=4+(r-n)/u),h=Math.min(h*60,360),h<0&&(h+=360),c=(e+v)/2,v===e?i=0:c<=.5?i=u/(v+e):i=u/(2-v-e),[h,i*100,c*100]};var Z0={name:"hsv",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","value"],alias:["HSV","HSB"],rgb:function(a){var r=a[0]/60,n=a[1]/100,t=a[2]/100,e=Math.floor(r)%6,v=r-Math.floor(r),u=255*t*(1-n),h=255*t*(1-n*v),i=255*t*(1-n*(1-v));switch(t*=255,e){case 0:return[t,i,u];case 1:return[h,t,u];case 2:return[u,t,i];case 3:return[u,h,t];case 4:return[i,u,t];case 5:return[t,u,h]}},hsl:function(a){var r=a[0],n=a[1]/100,t=a[2]/100,e,v;return v=(2-n)*t,e=n*t,e/=v<=1?v:2-v,e=e||0,v/=2,[r,e*100,v*100]}},L=Z0;m.hsv=function(a){var r=a[0],n=a[1],t=a[2],e=Math.min(r,n,t),v=Math.max(r,n,t),u=v-e,h,i,c;return v===0?i=0:i=u/v*100,v===e?h=0:r===v?h=(n-t)/u:n===v?h=2+(t-r)/u:t===v&&(h=4+(r-n)/u),h=Math.min(h*60,360),h<0&&(h+=360),c=v/255*1e3/10,[h,i,c]},H.hsv=function(a){var r=a[0],n=a[1]/100,t=a[2]/100,e,v;return t*=2,n*=t<=1?t:2-t,v=(t+n)/2,e=2*n/(t+n)||0,[r,e*100,v*100]};var v0={name:"hsi",min:[0,0,0],max:[360,100,255],channel:["hue","saturation","intensity"],alias:["HSI"]},K0=v0;v0.rgb=function(a){var r=(a[0]<0?a[0]%360+360:a[0]%360)*Math.PI/180,n=Math.max(0,Math.min(a[1],100))/100,t=Math.max(0,Math.min(a[2],255))/255,e=Math.PI/3,v,u,h;return r<2*e?(h=t*(1-n),v=t*(1+n*Math.cos(r)/Math.cos(e-r)),u=t*(1+n*(1-Math.cos(r)/Math.cos(e-r)))):r<4*e?(r=r-2*e,v=t*(1-n),u=t*(1+n*Math.cos(r)/Math.cos(e-r)),h=t*(1+n*(1-Math.cos(r)/Math.cos(e-r)))):(r=r-4*e,u=t*(1-n),h=t*(1+n*Math.cos(r)/Math.cos(e-r)),v=t*(1+n*(1-Math.cos(r)/Math.cos(e-r)))),[v*255,u*255,h*255]},m.hsi=function(a){var r=a[0]+a[1]+a[2],n=a[0]/r,t=a[1]/r,e=a[2]/r,v=Math.acos(.5*(n-t+(n-e))/Math.sqrt((n-t)*(n-t)+(n-e)*(t-e)));e>t&&(v=2*Math.PI-v);var u=1-3*Math.min(n,t,e),h=r/3;return[v*180/Math.PI,u*100,h]};var u0={name:"hwb",min:[0,0,0],max:[360,100,100],channel:["hue","whiteness","blackness"],alias:["HWB"],rgb:function(a){var r=a[0]/360,n=a[1]/100,t=a[2]/100,e=n+t,v,u,h,i,c,l,o;switch(e>1&&(n/=e,t/=e),v=Math.floor(6*r),u=1-t,h=6*r-v,v&1&&(h=1-h),i=n+h*(u-n),v){default:case 6:case 0:c=u,l=i,o=n;break;case 1:c=i,l=u,o=n;break;case 2:c=n,l=u,o=i;break;case 3:c=n,l=i,o=u;break;case 4:c=i,l=n,o=u;break;case 5:c=u,l=n,o=i;break}return[c*255,l*255,o*255]},hsv:function(a){var r=a[0],n=a[1],t=a[2],e,v;return n+t>=100?(e=0,v=100*n/(n+t)):(e=100-n/(1-t/100),v=100-t),[r,e,v]},hsl:function(a){return L.hsl(u0.hsv(a))}},h0=u0;m.hwb=function(a){var r=a[0],n=a[1],t=a[2],e=m.hsl(a)[0],v=1/255*Math.min(r,Math.min(n,t));return t=1-1/255*Math.max(r,Math.max(n,t)),[e,v*100,t*100]},L.hwb=function(a){var r=a[0],n=a[1],t=a[2];return[r,t===0?0:t*(1-n/100),100-t]},H.hwb=function(a){return L.hwb(H.hsv(a))};var N0={name:"cmyk",min:[0,0,0,0],max:[100,100,100,100],channel:["cyan","magenta","yellow","black"],alias:["CMYK"],rgb:function(a){var r=a[0]/100,n=a[1]/100,t=a[2]/100,e=a[3]/100,v,u,h;return v=1-Math.min(1,r*(1-e)+e),u=1-Math.min(1,n*(1-e)+e),h=1-Math.min(1,t*(1-e)+e),[v*255,u*255,h*255]}};m.cmyk=function(a){var r=a[0]/255,n=a[1]/255,t=a[2]/255,e,v,u,h;return h=Math.min(1-r,1-n,1-t),e=(1-r-h)/(1-h)||0,v=(1-n-h)/(1-h)||0,u=(1-t-h)/(1-h)||0,[e*100,v*100,u*100,h*100]};var O0=N0,i0={name:"cmy",min:[0,0,0],max:[100,100,100],channel:["cyan","magenta","yellow"],alias:["CMY"]};i0.rgb=function(a){var r=a[0]/100,n=a[1]/100,t=a[2]/100;return[(1-r)*255,(1-n)*255,(1-t)*255]},m.cmy=function(a){var r=a[0]/255,n=a[1]/255,t=a[2]/255;return[(1-r)*100||0,(1-n)*100||0,(1-t)*100||0]};var W0=i0,T={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"],whitepoint:{2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}}};T.max=T.whitepoint[2].D65,T.rgb=function(a,r){r=r||T.whitepoint[2].E;var n=a[0]/r[0],t=a[1]/r[1],e=a[2]/r[2],v,u,h;return v=n*3.240969941904521+t*-1.537383177570093+e*-.498610760293,u=n*-.96924363628087+t*1.87596750150772+e*.041555057407175,h=n*.055630079696993+t*-.20397695888897+e*1.056971514242878,v=v>.0031308?1.055*Math.pow(v,1/2.4)-.055:v=v*12.92,u=u>.0031308?1.055*Math.pow(u,1/2.4)-.055:u=u*12.92,h=h>.0031308?1.055*Math.pow(h,1/2.4)-.055:h=h*12.92,v=Math.min(Math.max(0,v),1),u=Math.min(Math.max(0,u),1),h=Math.min(Math.max(0,h),1),[v*255,u*255,h*255]},m.xyz=function(a,r){var n=a[0]/255,t=a[1]/255,e=a[2]/255;n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92;var v=n*.41239079926595+t*.35758433938387+e*.18048078840183,u=n*.21263900587151+t*.71516867876775+e*.072192315360733,h=n*.019330818715591+t*.11919477979462+e*.95053215224966;return r=r||T.whitepoint[2].E,[v*r[0],u*r[1],h*r[2]]};var s=T,c0={name:"xyy",min:[0,0,0],max:[1,1,100],channel:["x","y","Y"],alias:["xyY","Yxy","yxy"]};c0.xyz=function(a){var r,n,t,e,v;return e=a[0],v=a[1],n=a[2],v===0?[0,0,0]:(r=e*n/v,t=(1-e-v)*n/v,[r,n,t])},s.xyy=function(a){var r,n,t,e;return n=a[0],t=a[1],e=a[2],r=n+t+e,r===0?[0,0,t]:[n/r,t/r,t]};var R=c0,l0={name:"yiq",min:[0,-.5957,-.5226],max:[1,.5957,.5226],channel:["Y","I","Q"],alias:["YIQ"]};l0.rgb=function(a){var r=a[0],n=a[1],t=a[2],e,v,u;return e=r*1+n*.956+t*.621,v=r*1+n*-.272+t*-.647,u=r*1+n*-1.108+t*1.705,e=Math.min(Math.max(0,e),1),v=Math.min(Math.max(0,v),1),u=Math.min(Math.max(0,u),1),[e*255,v*255,u*255]},m.yiq=function(a){var r=a[0]/255,n=a[1]/255,t=a[2]/255,e=r*.299+n*.587+t*.114,v=0,u=0;return(r!==n||n!==t)&&(v=r*.596+n*-.275+t*-.321,u=r*.212+n*-.528+t*.311),[e,v,u]};var Q0=l0,o0={name:"yuv",min:[0,-.5,-.5],max:[1,.5,.5],channel:["Y","U","V"],alias:["YUV","EBU"]};o0.rgb=function(a){var r=a[0],n=a[1],t=a[2],e,v,u;return e=r*1+n*0+t*1.13983,v=r*1+n*-.39465+t*-.5806,u=r*1+n*2.02311+t*0,e=Math.min(Math.max(0,e),1),v=Math.min(Math.max(0,v),1),u=Math.min(Math.max(0,u),1),[e*255,v*255,u*255]},m.yuv=function(a){var r=a[0]/255,n=a[1]/255,t=a[2]/255,e=r*.299+n*.587+t*.114,v=r*-.14713+n*-.28886+t*.436,u=r*.615+n*-.51499+t*-.10001;return[e,v,u]};var s0=o0,k={name:"ydbdr",min:[0,-1.333,-1.333],max:[1,1.333,1.333],channel:["Y","Db","Dr"],alias:["YDbDr"]};k.rgb=function(a){var r=a[0],n=a[1],t=a[2],e=r+92303716148e-15*n-.525912630661865*t,v=r-.129132898890509*n+.267899328207599*t,u=r+.664679059978955*n-79202543533e-15*t;return[e*255,v*255,u*255]},m.ydbdr=function(a){var r=a[0]/255,n=a[1]/255,t=a[2]/255;return[.299*r+.587*n+.114*t,-.45*r-.883*n+1.333*t,-1.333*r+1.116*n+.217*t]},s0.ydbdr=function(a){return[a[0],3.059*a[1],-2.169*a[2]]},k.yuv=function(a){return[a[0],a[1]/3.059,-a[2]/2.169]};var J0=k,f0={name:"ycgco",min:[0,-.5,-.5],max:[1,.5,.5],channel:["Y","Cg","Co"],alias:["YCgCo"]};f0.rgb=function(a){var r=a[0],n=a[1],t=a[2],e=r-n;return[(e+t)*255,(r+n)*255,(e-t)*255]},m.ycgco=function(a){var r=a[0]/255,n=a[1]/255,t=a[2]/255;return[.25*r+.5*n+.25*t,-.25*r+.5*n-.25*t,.5*r-.5*t]};var $0=f0,m0={name:"ypbpr",min:[0,-.5,-.5],max:[1,.5,.5],channel:["Y","Pb","Pr"],alias:["YPbPr","Y/PB/PR","YPRPB","PRPBY","PBPRY","Y/Pb/Pr","YPrPb","PrPbY","PbPrY","Y/R-Y/B-Y","Y(R-Y)(B-Y)","R-Y","B-Y"]};m0.rgb=function(a,r,n){var t=a[0],e=a[1],v=a[2];r=r||.0722,n=n||.2126;var u=t+2*v*(1-n),h=t+2*e*(1-r),i=(t-n*u-r*h)/(1-n-r);return[u*255,i*255,h*255]},m.ypbpr=function(a,r,n){var t=a[0]/255,e=a[1]/255,v=a[2]/255;r=r||.0722,n=n||.2126;var u=n*t+(1-n-r)*e+r*v,h=.5*(v-u)/(1-r),i=.5*(t-u)/(1-n);return[u,h,i]};var _=m0,Z={name:"ycbcr",min:[16,16,16],max:[235,240,240],channel:["Y","Cb","Cr"],alias:["YCbCr","YCC"],ypbpr:function(a){var r=a[0],n=a[1],t=a[2];return[(r-16)/219,(n-128)/224,(t-128)/224]}};_.ycbcr=function(a){var r=a[0],n=a[1],t=a[2];return[16+219*r,128+224*n,128+224*t]},Z.rgb=function(a,r,n){return _.rgb(Z.ypbpr(a),r,n)},m.ycbcr=function(a,r,n){return _.ycbcr(m.ypbpr(a,r,n))};var a1=Z,K={name:"xvycc",min:[0,0,0],max:[255,255,255],channel:["Y","Cb","Cr"],alias:["xvYCC"],ypbpr:function(a){var r=a[0],n=a[1],t=a[2];return[(r-16)/219,(n-128)/224,(t-128)/224]}},r1=K;_.xvycc=function(a){var r=a[0],n=a[1],t=a[2];return[16+219*r,128+224*n,128+224*t]},K.rgb=function(a,r,n){return _.rgb(K.ypbpr(a),r,n)},m.xvycc=function(a,r,n){return _.xvycc(m.ypbpr(a,r,n))};var M0={name:"yccbccrc",min:[0,-.5,-.5],max:[1,.5,.5],channel:["Yc","Cbc","Crc"],alias:["YcCbcCrc"]};M0.rgb=function(a){return _.rgb(a,.0593,.2627)},m.yccbccrc=function(a){return m.ypbpr(a,.0593,.2627)};var n1=M0,b0={name:"ucs",min:[0,0,0],max:[100,100,100],channel:["U","V","W"],alias:["UCS","cie1960"]},y0=b0;b0.xyz=function(a){var r=a[0],n=a[1],t=a[2];return[1.5*r,n,1.5*r-3*n+2*t]},s.ucs=function(a){var r=a[0],n=a[1],t=a[2];return[r*2/3,n,.5*(-r+3*n+t)]};var N={name:"uvw",min:[-134,-140,0],max:[224,122,100],channel:["U","V","W"],alias:["UVW","cieuvw","cie1964"]},t1=N;N.xyz=function(a,r,n){var t,e,v,u,h,i,c,l,o,f,M,b,x;return u=a[0],h=a[1],v=a[2],v===0?[0,0,0]:(r=r||"D65",n=n||2,o=s.whitepoint[n][r][0],f=s.whitepoint[n][r][1],M=s.whitepoint[n][r][2],b=4*o/(o+15*f+3*M),x=6*f/(o+15*f+3*M),c=Math.pow((v+17)/25,3),t=u/(13*v)+b||0,e=h/(13*v)+x||0,i=6/4*c*t/e,l=c*(2/e-.5*t/e-5),[i,c,l])},s.uvw=function(a,r,n){var t=a[0],e=a[1],v=a[2],u,h,i,c,l;r=r||"D65",n=n||2,u=s.whitepoint[n][r][0],h=s.whitepoint[n][r][1],i=s.whitepoint[n][r][2],c=4*u/(u+15*h+3*i),l=6*h/(u+15*h+3*i);var o=4*t/(t+15*e+3*v)||0,f=6*e/(t+15*e+3*v)||0,M=25*Math.pow(e,1/3)-17,b=13*M*(o-c),x=13*M*(f-l);return[b,x,M]},N.ucs=function(a){throw new Error("Not implemented")},y0.uvw=function(a){throw new Error("Not implemented")};var x0={name:"jpeg",min:[0,0,0],max:[255,255,255],channel:["Y","Cb","Cr"],alias:["JPEG"]},e1=x0;x0.rgb=function(a){var r=a[0],n=a[1],t=a[2];return[r+1.402*(t-128),r-.34414*(n-128)-.71414*(t-128),r+1.772*(n-128)]},m.jpeg=function(a){var r=a[0],n=a[1],t=a[2];return[.299*r+.587*n+.114*t,128-.168736*r-.331264*n+.5*t,128+.5*r-.418688*n-.081312*t]};var v1={name:"lab",min:[0,-100,-100],max:[100,100,100],channel:["lightness","a","b"],alias:["LAB","cielab"],xyz:function(a){var r=a[0],n=a[1],t=a[2],e,v,u,h;return r<=8?(v=r*100/903.3,h=7.787*(v/100)+16/116):(v=100*Math.pow((r+16)/116,3),h=Math.pow(v/100,1/3)),e=e/95.047<=.008856?e=95.047*(n/500+h-16/116)/7.787:95.047*Math.pow(n/500+h,3),u=u/108.883<=.008859?u=108.883*(h-t/200-16/116)/7.787:108.883*Math.pow(h-t/200,3),[e,v,u]}},E=v1;s.lab=function(a){var r=a[0],n=a[1],t=a[2],e,v,u;return r/=95.047,n/=100,t/=108.883,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,e=116*n-16,v=500*(r-n),u=200*(n-t),[e,v,u]};var u1={name:"labh",min:[0,-128,-128],max:[100,128,128],channel:["lightness","a","b"],alias:["LABh","hunter-lab","hlab"],xyz:function(a){var r=a[0],n=a[1],t=a[2],e=r/10,v=n/17.5*r/10,u=t/7*r/10,h=e*e,i=(v+h)/1.02,c=-(u-h)/.847;return[i,h,c]}},h1=u1;s.labh=function(a){var r=a[0],n=a[1],t=a[2],e=Math.sqrt(n),v=10*e,u=n===0?0:17.5*((1.02*r-n)/e),h=n===0?0:7*((n-.847*t)/e);return[v,u,h]};var O={name:"lms",min:[0,0,0],max:[100,100,100],channel:["long","medium","short"],matrix:{HPE:[.38971,.68898,-.07868,-.22981,1.1834,.04641,0,0,1],VONKRIES:[.4002,.7076,-.0808,-.2263,1.1653,.0457,0,0,.9182],BFD:[.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0686,1.0296],CAT97:[.8562,.3372,-.1934,-.836,1.8327,.0033,.0357,-.00469,1.0112],CAT00:[.7982,.3389,-.1371,-.5918,1.5512,.0406,8e-4,.0239,.9753],CAT02:[.7328,.4296,-.1624,-.7036,1.6975,.0061,.003,.0136,.9834]}},i1=O;O.xyz=function(a,r){var n=a[0],t=a[1],e=a[2];return r||(r=[1.096123820835514,-.278869000218287,.182745179382773,.454369041975359,.473533154307412,.072097803717229,-.009627608738429,-.005698031216113,1.015325639954543]),[n*r[0]+t*r[1]+e*r[2],n*r[3]+t*r[4]+e*r[5],n*r[6]+t*r[7]+e*r[8]]},s.lms=function(a,r){var n=a[0],t=a[1],e=a[2];return r||(r=O.matrix.CAT02),[n*r[0]+t*r[1]+e*r[2],n*r[3]+t*r[4]+e*r[5],n*r[6]+t*r[7]+e*r[8]]};var p0={name:"lchab",min:[0,0,0],max:[100,100,360],channel:["lightness","chroma","hue"],alias:["LCHab","cielch","LCH","HLC","LSH"],xyz:function(a){return E.xyz(p0.lab(a))},lab:function(a){var r=a[0],n=a[1],t=a[2],e,v,u;return u=t/360*2*Math.PI,e=n*Math.cos(u),v=n*Math.sin(u),[r,e,v]}};E.lchab=function(a){var r=a[0],n=a[1],t=a[2],e,v,u;return e=Math.atan2(t,n),v=e*360/2/Math.PI,v<0&&(v+=360),u=Math.sqrt(n*n+t*t),[r,u,v]},s.lchab=function(a){return E.lchab(s.lab(a))};var c1=p0,l1={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(a,r,n){var t,e,v,u,h,i,c,l,o,f,M,b,x;if(v=a[0],u=a[1],h=a[2],v===0)return[0,0,0];var q=.0011070564598794539;return r=r||"D65",n=n||2,o=s.whitepoint[n][r][0],f=s.whitepoint[n][r][1],M=s.whitepoint[n][r][2],b=4*o/(o+15*f+3*M),x=9*f/(o+15*f+3*M),t=u/(13*v)+b||0,e=h/(13*v)+x||0,c=v>8?f*Math.pow((v+16)/116,3):f*v*q,i=c*9*t/(4*e)||0,l=c*(12-3*t-20*e)/(4*e)||0,[i,c,l]}},V=l1;s.luv=function(a,r,n){var t,e,v,u,h,i,c,l,o,f,M,b,x,q=.008856451679035631,G=903.2962962962961;r=r||"D65",n=n||2,o=s.whitepoint[n][r][0],f=s.whitepoint[n][r][1],M=s.whitepoint[n][r][2],b=4*o/(o+15*f+3*M),x=9*f/(o+15*f+3*M),i=a[0],c=a[1],l=a[2],t=4*i/(i+15*c+3*l)||0,e=9*c/(i+15*c+3*l)||0;var j=c/f;return v=j<=q?G*j:116*Math.pow(j,1/3)-16,u=13*v*(t-b),h=13*v*(e-x),[v,u,h]};var w0={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(a){var r=a[0],n=a[1],t=a[2],e,v,u;return u=t/360*2*Math.PI,e=n*Math.cos(u),v=n*Math.sin(u),[r,e,v]},xyz:function(a){return V.xyz(w0.luv(a))}},I=w0;V.lchuv=function(a){var r=a[0],n=a[1],t=a[2],e=Math.sqrt(n*n+t*t),v=Math.atan2(t,n),u=v*360/2/Math.PI;return u<0&&(u+=360),[r,e,u]},s.lchuv=function(a){return V.lchuv(s.luv(a))};function g0(a){var r=[],n=Math.pow(a+16,3)/1560896;n=n>R0?n:a/r0;for(var t=0;3>t;){var e=t++,v=C[e][0],u=C[e][1];e=C[e][2];for(var h=0;2>h;){var i=h++,c=(632260*e-126452*u)*n+126452*i;r.push({b:(284517*v-94839*e)*n/c,a:((838422*e+769860*u+731718*v)*a*n-769860*i*a)/c})}}return r}function d0(a){a=g0(a);for(var r=1/0,n=0;n<a.length;){var t=a[n];++n,r=Math.min(r,Math.abs(t.a)/Math.sqrt(Math.pow(t.b,2)+1))}return r}function _0(a,r){r=r/360*Math.PI*2,a=g0(a);for(var n=1/0,t=0;t<a.length;){var e=a[t];++t,e=e.a/(Math.sin(r)-e.b*Math.cos(r)),0<=e&&(n=Math.min(n,e))}return n}function z(a,r){for(var n=0,t=0,e=a.length;t<e;){var v=t++;n+=a[v]*r[v]}return n}function W(a){return .0031308>=a?12.92*a:1.055*Math.pow(a,.4166666666666667)-.055}function Q(a){return .04045<a?Math.pow((a+.055)/1.055,2.4):a/12.92}function Y0(a){return[W(z(C[0],a)),W(z(C[1],a)),W(z(C[2],a))]}function P0(a){return a=[Q(a[0]),Q(a[1]),Q(a[2])],[z(a0[0],a),z(a0[1],a),z(a0[2],a)]}function T0(a){var r=a[0],n=a[1];return a=r+15*n+3*a[2],a!=0?(r=4*r/a,a=9*n/a):a=r=NaN,n=n<=R0?n/S*r0:116*Math.pow(n/S,.3333333333333333)-16,n==0?[0,0,0]:[n,13*n*(r-B0),13*n*(a-A0)]}function z0(a){var r=a[0];if(r==0)return[0,0,0];var n=a[1]/(13*r)+B0;return a=a[2]/(13*r)+A0,r=8>=r?S*r/r0:S*Math.pow((r+16)/116,3),n=0-9*r*n/((n-4)*a-n*a),[n,r,(9*r-15*a*r-a*n)/(3*a)]}function C0(a){var r=a[0],n=a[1],t=a[2];return a=Math.sqrt(n*n+t*t),1e-8>a?n=0:(n=180*Math.atan2(t,n)/Math.PI,0>n&&(n=360+n)),[r,a,n]}function q0(a){var r=a[1],n=a[2]/360*2*Math.PI;return[a[0],Math.cos(n)*r,Math.sin(n)*r]}function H0(a){var r=a[0],n=a[1];return a=a[2],99.9999999<a?[100,0,r]:1e-8>a?[0,0,r]:(n=_0(a,r)/100*n,[a,n,r])}function L0(a){var r=a[0],n=a[1];if(a=a[2],99.9999999<r)return[a,0,100];if(1e-8>r)return[a,0,0];var t=_0(r,a);return[a,n/t*100,r]}function I0(a){var r=a[0],n=a[1];return a=a[2],99.9999999<a?[100,0,r]:1e-8>a?[0,0,r]:(n=d0(a)/100*n,[a,n,r])}function D0(a){var r=a[0],n=a[1];if(a=a[2],99.9999999<r)return[a,0,100];if(1e-8>r)return[a,0,0];var t=d0(r);return[a,n/t*100,r]}function J(a){return Y0(z0(q0(a)))}function $(a){return C0(T0(P0(a)))}function o1(a){return J(H0(a))}function s1(a){return L0($(a))}function f1(a){return J(I0(a))}function m1(a){return D0($(a))}var C=[[3.240969941904521,-1.537383177570093,-.498610760293],[-.96924363628087,1.87596750150772,.041555057407175],[.055630079696993,-.20397695888897,1.056971514242878]],a0=[[.41239079926595,.35758433938387,.18048078840183],[.21263900587151,.71516867876775,.072192315360733],[.019330818715591,.11919477979462,.95053215224966]],S=1,B0=.19783000664283,A0=.46831999493879,r0=903.2962962,R0=.0088564516,y={hsluvToRgb:o1,hsluvToLch:H0,rgbToHsluv:s1,rgbToHpluv:m1,rgbToXyz:P0,rgbToLch:$,hpluvToRgb:f1,hpluvToLch:I0,lchToHpluv:D0,lchToHsluv:L0,lchToLuv:q0,lchToRgb:J,luvToLch:C0,luvToXyz:z0,xyzToLuv:T0,xyzToRgb:Y0},M1={name:"hsluv",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSLuv","HuSL"],lchuv:y.hsluvToLch,xyz:function(a){return I.xyz(y.hsluvToLch(a))},hpluv:function(a){return y.lchToHpluv(y.hsluvToLch(a))},_hsluv:y},b1=M1;I.hsluv=y.lchToHsluv,s.hsluv=function(a){return y.lchToHsluv(s.lchuv(a))},m.hsluv=y.rgbToHsluv;var y1={name:"hpluv",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HPLuv","HuSLp"],lchuv:y.hpluvToLch,xyz:function(a){return I.xyz(y.hpluvToLch(a))},hsluv:function(a){return y.lchToHsluv(y.hpluvToLch(a))}},x1=y1;I.hpluv=y.lchToHpluv,s.hpluv=function(a){return y.lchToHpluv(s.lchuv(a))};var D={start:0,rotation:.5,hue:1,gamma:1},E0={name:"cubehelix",channel:["fraction"],min:[0],max:[1],defaults:D};E0.rgb=function(a,r){r=r||{},Array.isArray(a)&&(a=a[0]);var n=r.start!==void 0?r.start:D.start,t=r.rotation!==void 0?r.rotation:D.rotation,e=r.gamma!==void 0?r.gamma:D.gamma,v=r.hue!==void 0?r.hue:D.hue,u=2*Math.PI*(n/3+1+t*a);a=Math.pow(a,e);var h=v*a*(1-a)/2,i=a+h*(-.14861*Math.cos(u)+1.78277*Math.sin(u)),c=a+h*(-.29227*Math.cos(u)-.90649*Math.sin(u)),l=a+h*(1.97294*Math.cos(u));return i=Math.max(1,Math.min(i,0)),c=Math.max(1,Math.min(c,0)),l=Math.max(1,Math.min(l,0)),[i*255,c*255,l*255]},m.cubehelix=function(a){throw new Error("rgb.cubehelix conversion is not implemented yet")};var p1=E0,U={name:"coloroid",alias:["ATV"],channel:["A","T","V"],min:[10,0,0],max:[76,100,100],table:[[10,59,1.724349,.44987,.53641],[11,55.3,1.740844,.46248,.52444],[12,51.7,1.754985,.47451,.51298],[13,48.2,1.767087,.48601,.50325],[14,44.8,1.775953,.49578,.49052],[15,41.5,1.785073,.5079,.43035],[16,38.2,1.791104,.51874,.46934],[20,34.9,1.794831,.5298,.45783],[21,31.5,1.798664,.54137,.44559],[22,28,1.794819,.55367,.43253],[23,24.4,1.78961,.5668,.41811],[24,20.6,1.809483,.58128,.40176],[25,16.6,1.760983,.59766,.383],[26,12.3,1.723443,.61653,.36061],[30,7.7,1.652891,.63896,.33358],[31,2.8,1.502607,.66619,.2993],[32,-2.5,1.0725,.70061,.26753],[33,-8.4,1.136637,.63925,.22631],[34,-19.8,1.232286,.53962,.19721],[35,-31.6,1.31012,.5034,.17495],[40,-43.2,1.37661,.46041,.15603],[41,-54.6,1.438692,.42386,.13846],[42,-65.8,1.501582,.38991,.12083],[43,-76.8,1.570447,.35586,.10328],[44,-86.8,1.645583,.32195,.08496],[45,-95.8,1.732083,.28657,.05155],[46,-108.4,1.915753,.22202,.01771],[50,-117.2,2.14631,.15664,.05227],[51,-124.7,1.649939,.12736,.0902],[52,-131.8,1.273415,.10813,.12506],[53,-138.5,1.080809,.09414,.15741],[54,-145.1,.957076,.03249,.18958],[55,-152,.868976,.07206,.24109],[56,-163.4,.771731,.05787,.30378],[60,-177.2,.697108,.04353,.35696],[61,171.6,.655803,.03291,.41971],[62,152.4,.623958,.0224,.49954],[63,148.4,.596037,.01196,.60321],[64,136.8,.607413,.00425,.73542],[65,125.4,.659923,.01099,.83391],[66,114.2,.859517,.0805,.77474],[70,103.2,1.195683,.20259,.7046],[71,93.2,1.407534,.28807,.6523],[72,84.2,1.532829,.34422,.6193],[73,77.3,1.603792,.37838,.59533],[74,71.6,1.649448,.4029,.57716],[75,66.9,1.68108,.42141,.56222],[76,62.8,1.704979,.43647,.54895]],xyy:function(a){for(var r=a[0],n=a[1],t=a[2],e,v=0;v<B.length;v++)if(r<=B[v][0]){e=B[v];break}var u=e[4],h=e[2],i=e[3],c=t*t/100,l=u*h*100,o=(100*c*A*d+100*i*h*n-l*n*A*d)/(100*n*h-l*n*d+100*c*d),f=(100*c+100*n*u*h-l*n)/(c*d*100+n*100*h-n*l*d);return[o,f,c]}},B=U.table,P=B.slice(-13).concat(B.slice(0,-13)),n0="D65",t0=2,F=s.whitepoint[t0][n0][0],X=s.whitepoint[t0][n0][1],e0=s.whitepoint[t0][n0][2],w1=F/(F+X+e0),A=X/(F+X+e0),d=(F+X+e0)/100;R.coloroid=function(a){for(var r=a[0],n=a[1],t=a[2],e=10*Math.sqrt(t),v=Math.atan2(n-w1,r-A)*180/Math.PI,u,h=P.length-1,i=0;i<P.length&&!(v>P[i][1]);i++)h=i;u=Math.abs(P[i+1][1]-v)>Math.abs(P[h][1]-v)?P[i+1]:P[h];var c=u[0],l=u[4],o=u[2],f=u[3],M=l*o*100,b=100*t*(A*d-r*d)/(100*(r*o-f*o)+M*(A*d-r*d));return[c,b,e]},s.coloroid=function(a){return R.coloroid(s.xyy(a))},U.xyz=function(a){return R.xyz(U.xyy(a))};var g1=U,d1={name:"hcg",min:[0,0,0],max:[360,100,100],channel:["hue","chroma","gray"],alias:["HCG","HSG"],rgb:function(a){var r=a[0]/360,n=a[1]/100,t=a[2]/100;if(n===0)return[t*255,t*255,t*255];var e=r%1*6,v=e%1,u=[0,0,0],h=1-v;switch(Math.floor(e)){case 0:u[0]=1,u[1]=v,u[2]=0;break;case 1:u[0]=h,u[1]=1,u[2]=0;break;case 2:u[0]=0,u[1]=1,u[2]=v;break;case 3:u[0]=0,u[1]=h,u[2]=1;break;case 4:u[0]=v,u[1]=0,u[2]=1;break;default:u[0]=1,u[1]=0,u[2]=h}var i=(1-n)*t,c=[(n*u[0]+i)*255,(n*u[1]+i)*255,(n*u[2]+i)*255];return c},hsl:function(a){var r=a[1]/100,n=a[2]/100,t=n*(1-r)+.5*r,e=0;return t<1&&t>0&&(t<.5?e=r/(2*t):e=r/(2*(1-t))),[a[0],e*100,t*100]},hsv:function(a){var r=a[1]/100,n=a[2]/100,t=r+n*(1-r),e;if(t>0){var v=r/t;e=[a[0],v*100,t*100]}else e=[a[0],0,t*100];return e},hwb:function(a){var r=a[1]/100,n=a[2]/100,t=r+n*(1-r);return[a[0],(t-r)*100,(1-t)*100]}},_1=d1;m.hcg=function(a){var r=a[0]/255,n=a[1]/255,t=a[2]/255,e=Math.max(Math.max(r,n),t),v=Math.min(Math.min(r,n),t),u=e-v,h,i;return u<1?h=v/(1-u):h=0,u>0?(e===r?i=(n-t)/u%6:e===n?i=2+(t-r)/u:i=4+(r-n)/u,i/=6,i=i%1):i=0,[i*360,u*100,h*100]},H.hcg=function(a){var r=a[1]/100,n=a[2]/100,t=0;n<.5?t=2*r*n:t=2*r*(1-n);var e;if(t<1){var v=(n-.5*t)/(1-t);e=[a[0],t*100,v*100]}else e=[a[0],t*100,0];return e},L.hcg=function(a){var r=a[1]/100,n=a[2]/100,t=r*n,e;if(t<1){var v=(n-t)/(1-t);e=[a[0],t*100,v*100]}else e=[a[0],t*100,0];return e},h0.hcg=function(a){var r=a[1]/100,n=a[2]/100,t=1-n,e=t-r,v=0;return e<1&&(v=(t-e)/(1-e)),[a[0],e*100,v*100]};var V0={name:"hcy",min:[0,0,0],max:[360,100,255],channel:["hue","chroma","luminance"],alias:["HCY"]},Y1=V0;V0.rgb=function(a){var r=(a[0]<0?a[0]%360+360:a[0]%360)*Math.PI/180,n=Math.max(0,Math.min(a[1],100))/100,t=Math.max(0,Math.min(a[2],255))/255,e=Math.PI/3,v,u,h;return r<2*e?(h=t*(1-n),v=t*(1+n*Math.cos(r)/Math.cos(e-r)),u=t*(1+n*(1-Math.cos(r)/Math.cos(e-r)))):r<4*e?(r=r-2*e,v=t*(1-n),u=t*(1+n*Math.cos(r)/Math.cos(e-r)),h=t*(1+n*(1-Math.cos(r)/Math.cos(e-r)))):(r=r-4*e,u=t*(1-n),h=t*(1+n*Math.cos(r)/Math.cos(e-r)),v=t*(1+n*(1-Math.cos(r)/Math.cos(e-r)))),[v*255,u*255,h*255]},m.hcy=function(a){var r=a[0]+a[1]+a[2],n=a[0]/r,t=a[1]/r,e=a[2]/r,v=Math.acos(.5*(n-t+(n-e))/Math.sqrt((n-t)*(n-t)+(n-e)*(t-e)));e>t&&(v=2*Math.PI-v);var u=1-3*Math.min(n,t,e),h=r/3;return[v*180/Math.PI,u*100,h]};var S0={name:"tsl",min:[0,0,0],max:[1,1,1],channel:["tint","saturation","lightness"],alias:["TSL"]},P1=S0;S0.rgb=function(a){var r=a[0],n=a[1],t=a[2],e=Math.tan(2*Math.PI*(r-1/4));e*=e;var v=Math.sqrt(5*n*n/(9*(1/e+1)))+1/3,u=Math.sqrt(5*n*n/(9*(e+1)))+1/3,h=t/(.185*v+.473*u+.114),i=h*(1-v-u),c=h*u,l=h*v;return[l*255,c*255,i*255]},m.tsl=function(a){var[r,n,t]=a,e=(r/(r+n+t)||0)-1/3,v=(n/(r+n+t)||0)-1/3,u=v!=0?.5-Math.atan2(v,e)/2/Math.PI:0,h=Math.sqrt(9/5*(e*e+v*v)),i=(r*.299+n*.587+t*.114)/255;return[u,h,i]};var U0={name:"yes",min:[0,0,0],max:[1,1,1],channel:["luminance","e-factor","s-factor"]};U0.rgb=function(a){var r=a[0],n=a[1],t=a[2],e=[1,1.431,.126,1,-.569,.126,1,.431,-1.874],v=r*e[0]+n*e[1]+t*e[2],u=r*e[3]+n*e[4]+t*e[5],h=r*e[6]+n*e[7]+t*e[8];return[v*255,u*255,h*255]},m.yes=function(a){var r=a[0]/255,n=a[1]/255,t=a[2]/255,e=[.253,.684,.063,.5,-.5,0,.25,.25,-.5];return[r*e[0]+n*e[1]+t*e[2],r*e[3]+n*e[4]+t*e[5],r*e[6]+n*e[7]+t*e[8]]};var T1=U0,F0={name:"osaucs",alias:["OSA-UCS"],channel:["L","j","g"],min:[-10,-6,-10],max:[8,12,6]};F0.xyz=function(a){var r,n,t;throw"Unimplemented"},s.osaucs=function(a){var r=a[0],n=a[1],t=a[2],e=r/(r+n+t),v=n/(r+n+t),u=4.4934*e*e+4.3034*v*v-4.276*e*v-1.3744*e-2.56439*v+1.8103,h=u*n,i=5.9*(Math.pow(h,1/3)-2/3+.042*Math.pow(Math.max(h,30)-30,1/3)),c=(i-14.3993)/Math.sqrt(2),l=i/(5.9*(Math.pow(h,1/3)-2/3)),o=.779*r+.4194*n-.1648*t,f=-.4493*r+1.3265*n+.0927*t,M=-.1149*r+.3394*n+.717*t;o=Math.pow(o,1/3)||0,f=Math.pow(f,1/3)||0,M=Math.pow(M,1/3)||0;var b=-13.7*o+17.7*f-4*M,x=1.7*o+8*f-9.7*M,q=l*b,G=l*x;return[c,G,q]};var z1=F0,p=.299,w=.587,g=.114,C1={name:"hsp",min:[0,0,0],max:[360,100,255],channel:["hue","saturation","perceived_brightness"],alias:["HSP"],rgb:function(a){var r=a[0]/360,n=a[1]/100,t=a[2],e,v,u,h,i=1-n;return i>0?r<1/6?(r=6*(r-0/6),h=1+r*(1/i-1),u=t/Math.sqrt(p/i/i+w*h*h+g),e=u/i,v=u+r*(e-u)):r<2/6?(r=6*(-r+2/6),h=1+r*(1/i-1),u=t/Math.sqrt(w/i/i+p*h*h+g),v=u/i,e=u+r*(v-u)):r<3/6?(r=6*(r-2/6),h=1+r*(1/i-1),e=t/Math.sqrt(w/i/i+g*h*h+p),v=e/i,u=e+r*(v-e)):r<4/6?(r=6*(-r+4/6),h=1+r*(1/i-1),e=t/Math.sqrt(g/i/i+w*h*h+p),u=e/i,v=e+r*(u-e)):r<5/6?(r=6*(r-4/6),h=1+r*(1/i-1),v=t/Math.sqrt(g/i/i+p*h*h+w),u=v/i,e=v+r*(u-v)):(r=6*(-r+6/6),h=1+r*(1/i-1),v=t/Math.sqrt(p/i/i+g*h*h+w),e=v/i,u=v+r*(e-v)):r<1/6?(r=6*(r-0/6),e=Math.sqrt(t*t/(p+w*r*r)),v=e*r,u=0):r<2/6?(r=6*(-r+2/6),v=Math.sqrt(t*t/(w+p*r*r)),e=v*r,u=0):r<3/6?(r=6*(r-2/6),v=Math.sqrt(t*t/(w+g*r*r)),u=v*r,e=0):r<4/6?(r=6*(-r+4/6),u=Math.sqrt(t*t/(g+w*r*r)),v=u*r,e=0):r<5/6?(r=6*(r-4/6),u=Math.sqrt(t*t/(g+p*r*r)),e=u*r,v=0):(r=6*(-r+6/6),e=Math.sqrt(t*t/(p+g*r*r)),u=e*r,v=0),[Math.round(e),Math.round(v),Math.round(u)]}},q1=C1;m.hsp=function(a){var r=parseInt(a[0],10),n=parseInt(a[1],10),t=parseInt(a[2],10),e,v,u;return u=Math.sqrt(r*r*p+n*n*w+t*t*g),r===n&&r===t?(e=0,v=0):(r>=n&&r>=t&&(t>=n?(e=6/6-1/6*(t-n)/(r-n),v=1-n/r):(e=0/6+1/6*(n-t)/(r-t),v=1-t/r)),n>=r&&n>=t&&(r>=t?(e=2/6-1/6*(r-t)/(n-t),v=1-t/n):(e=2/6+1/6*(t-r)/(n-r),v=1-r/n)),t>=r&&t>=n&&(n>=r?(e=4/6-1/6*(n-r)/(t-r),v=1-r/t):(e=4/6+1/6*(r-n)/(t-n),v=1-n/t))),[Math.round(e*360),v*100,Math.round(u)]};var Y={},H1=Y;function X0(a){const r=a.name;var n;for(n in Y){a[n]||(a[n]=G0(a,n));const t=Y[n];t[r]||(t[r]=G0(t,r))}Y[r]=a}function G0(a,r){return a.xyz&&Y.xyz[r]?n=>Y.xyz[r](a.xyz(n)):a.rgb&&Y.rgb[r]?n=>Y.rgb[r](a.rgb(n)):()=>{throw new Error("Conversion not available")}}[m,s,H,L,K0,h0,O0,W0,R,Q0,s0,J0,$0,_,a1,r1,n1,y0,t1,e1,E,h1,i1,c1,V,I,b1,x1,p1,g1,_1,Y1,P1,T1,z1,q1].map(X0);export{H1 as default,X0 as register};
